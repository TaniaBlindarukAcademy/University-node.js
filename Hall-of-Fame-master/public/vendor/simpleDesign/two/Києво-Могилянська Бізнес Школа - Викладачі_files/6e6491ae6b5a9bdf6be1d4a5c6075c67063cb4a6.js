!function(){var n,t;(function(){t={}}).call(this),function(){(function(){var n=this,r=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):n._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){n=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:n}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,u=t.toArray(arguments),s,c=u.length-1;c>=0;--c){var l=u[c],f=typeof l;if("undefined"!==f){"function"===f&&(s=l);break}}if(!s){if(e.isClient)s=n;else{var _=new r;s=_.resolver()}++c}u[c]=e.bindEnvironment(s);var p=o.apply(a,u);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,u)){var n=e.data.substring(u.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},u="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var s=function(t){++i,a[i]=t,o.postMessage(u+i,"*")};return s.implementation="postMessage",s}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e},e._supressed_log_expected=function(){return 0!==t}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var u=o||"callback of async function";o=function(t){e._debug("Exception in "+u+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var u=n.apply(i,t.toArray(arguments))}catch(s){o(s)}finally{r=e}return u}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,i,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)i[n]=str(n,a)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.json.JSON,t=Package.underscore._,r=Package.base64.Base64,u,a;(function(){u={},a={};var i={};u.addType=function(n,e){if(t.has(i,n))throw new Error("Type "+n+" already present");i[n]=e};var o=function(n){return t.isNaN(n)||n===1/0||n===-(1/0)},f=[{matchJSONValue:function(n){return t.has(n,"$date")&&1===t.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return t.has(n,"$InfNaN")&&1===t.size(n)},matchObject:o,toJSONValue:function(n){var e;return e=t.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return t.has(n,"$binary")&&1===t.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&t.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:r.encode(n)}},fromJSONValue:function(n){return r.decode(n.$binary)}},{matchJSONValue:function(n){return t.has(n,"$escape")&&1===t.size(n)},matchObject:function(n){return t.isEmpty(n)||t.size(n)>2?!1:t.any(f,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return t.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return t.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return t.has(n,"$type")&&t.has(n,"$value")&&2===t.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var r=e.$type;if(!t.has(i,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=i[r];return n._noYieldsAllowed(function(){return u(e.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&t.has(i,n.typeName())};var c=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=l(n);return void 0!==e?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e||void 0===e||o(e)){var r=l(e);return r?void(n[t]=r):void c(e)}}),n)},l=function(n){for(var e=0;e<f.length;e++){var t=f[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};u.toJSONValue=function(n){var e=l(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),c(n)),n)};var s=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=y(n);return e!==n?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e){var r=y(e);if(e!==r)return void(n[t]=r);s(e)}}),n)},y=function(n){if("object"==typeof n&&null!==n&&t.size(n)<=2&&t.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<f.length;e++){var r=f[e];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=y(n);return e===n&&"object"==typeof n?(n=u.clone(n),s(n),n):e},u.stringify=function(n,t){var r=u.toJSONValue(n);return t&&(t.canonical||t.indent)?u._canonicalStringify(r,t):e.stringify(r)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(e.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,r){var a,i=!(!r||!r.keyOrderSensitive);if(n===e)return!0;if(t.isNaN(n)&&t.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,r);if("function"==typeof e.equals)return e.equals(n,r);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],r))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return t.each(e,function(n,e){f.push(e)}),a=0,o=t.all(n,function(n,t){return a>=f.length?!1:t!==f[a]?!1:u.equals(n,e[f[a]],r)?(a++,!0):!1}),o&&a===f.length}return a=0,o=t.all(n,function(n,i){return t.has(e,i)&&u.equals(n,e[i],r)?(a++,!0):!1}),o&&t.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var r=0;r<n.length;r++)e[r]=n[r];return e}if(t.isArray(n)||t.isArguments(n)){for(e=[],r=0;r<n.length;r++)e[r]=u.clone(n[r]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},t.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=r.newBinary}).call(this),function(){function n(n){return e.stringify(n)}var r=function(e,u,a,i,o){var f,c,l,s,y=i,h,N=u[e];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],t.isArray(N)||t.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=r(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=t.keys(N);return o&&(p=p.sort()),t.each(p,function(e){l=r(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,e){if(e=t.extend({indent:"",canonical:!1},e),e.indent===!0)e.indent="  ";else if("number"==typeof e.indent){for(var u="",a=0;a<e.indent;a++)u+=" ";e.indent=u}return r("",{"":n},e.indent,"",e.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:u,EJSONTest:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,t=Package.logging.Log,o=Package.json.JSON,n;(function(){n={};var t="Meteor_Reload",r={},i,l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(g){l=null}n._getData=function(){return l&&l.getItem(t)},l&&(i=n._getData(),l.removeItem(t)),i||(i="{}");var c={};try{c=o.parse(i),"object"!=typeof c&&(a._debug("Got bad data on reload. Ignoring."),c={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&(r=c.data);var u=[];n._onMigrate=function(a,e){e||(e=a,a=void 0),u.push({name:a,callback:e})},n._migrationData=function(a){return r[a]};var s=function(a,t){a=a||function(){},t=t||{};for(var o={},n=e.clone(u),r=!0;n.length;){var i=n.shift(),l=i.callback(a,t);l[0]||(r=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return r||t.immediateMigration?o:null};n._migrate=function(e,n){var r=s(e,n);if(null===r)return!1;try{var i=o.stringify({data:r,reload:!0})}catch(g){throw a._debug("Couldn't serialize data for migration",r),g}if(l)try{l.setItem(t,i)}catch(g){a._debug("Couldn't save data for migration to sessionStorage",g)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(a){var t=e.clone(u);u=[];try{a()}finally{u=t}};var f=!1;n._reload=function(a){if(a=a||{},!f){f=!0;var t=function(){e.defer(function(){n._migrate(t,a)&&window.location.reload()})};t()}}}).call(this),function(){a._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}();

!function(){var n=Package.meteor.Meteor,t,e;(function(){t={},t.active=!1,t.currentComputation=null,t._computations={};var e=function(n){t.currentComputation=n,t.active=!!n},r=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},o=function(t){"undefined"!=typeof n&&n._supressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(d)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),o(e.length);for(var u=0;u<e.length;u++)r()(e[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,f=!1,p=!1,d=!1,l=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(t._runFlush):setTimeout(t._runFlush,0),s=!0)},v=!1;t.Computation=function(n,e,r){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._parent=e,o._func=n,o._onError=r,o._recomputing=!1,t._computations[o._id]=o;var i=!0;try{o._compute(),i=!1}finally{o.firstRun=!1,i&&o.stop()}},t.Computation.prototype.onInvalidate=function(n){var e=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");e.invalidated?t.nonreactive(function(){a(n)(e)}):e._onInvalidateCallbacks.push(n)},t.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var e=0,r;r=n._onInvalidateCallbacks[e];e++)t.nonreactive(function(){a(r)(n)});n._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete t._computations[this._id])},t.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var r=t.currentComputation;e(n);var o=p;p=!0;try{a(n._func)(n)}finally{e(r),p=o}},t.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},t.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(n){if(!n){if(!t.active)return!1;n=t.currentComputation}var e=this,r=n._id;return r in e._dependentsById?!1:(e._dependentsById[r]=n,n.onInvalidate(function(){delete e._dependentsById[r]}),!0)},t.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},t.flush=function(n){t._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},t._runFlush=function(n){if(f)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");n=n||{},f=!0,s=!0,d=!!n.throwFirstError;var e=0,r=!1;try{for(;c.length||l.length;){for(;c.length;){var o=c.shift();if(o._recompute(),o._needsRecompute()&&c.unshift(o),!n.finishSynchronously&&++e>1e3)return void(r=!0)}if(l.length){var a=l.shift();try{a()}catch(u){i("afterFlush",u)}}}r=!0}finally{if(r||(f=!1,t._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,f=!1,c.length||l.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},t.autorun=function(n,e){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");e=e||{},v=!0;var r=new t.Computation(n,t.currentComputation,e.onError);return t.active&&t.onInvalidate(function(){r.stop()}),r},t.nonreactive=function(n){var r=t.currentComputation;e(null);try{return n()}finally{e(r)}},t.onInvalidate=function(n){if(!t.active)throw new Error("Tracker.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(n)},t.afterFlush=function(n){l.push(n),h()}}).call(this),function(){n.flush=t.flush,n.autorun=t.autorun,n.autosubscribe=t.autorun,t.depend=function(n){return n.depend()},e=t}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:t,Deps:e}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var u=0;u<n.length;u++)t-=a(n[u]),0>t&&(t+=1),r-=a(n[u]),0>r&&(r+=1),o-=a(n[u]),0>o&&(o+=1);a=null;var d=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+1.1102230246251565e-16*(2097152*d()|0)},d.version="Alea 0.9",d.args=n,d}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var n=this;void 0!==e&&(n.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r=Math.ceil(e/2),o;try{o=n.randomBytes(r)}catch(i){o=n.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}for(var u=[],d=0;e>d;++d)u.push(t.choice("0123456789abcdef"));return u.join("")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,u,d,c,Math.random()]),t.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n,i;(function(){var o=new e.EnvironmentVariable;n=function(e,t){var r=o.getOrNullIfOutsideFiber();r&&r.checking(e);try{l(e,t)}catch(n){throw n instanceof i.Error&&n.path&&(n.message+=" in field "+n.path),n}},i={Optional:function(e){return new a(e)},OneOf:function(){return new c(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new f(e)},ObjectIncluding:function(e){return new s(e)},ObjectWithValues:function(e){return new h(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){try{return l(e,t),!0}catch(r){if(r instanceof i.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,r,n){var i=new p(r,n),a=o.withValue(i,function(){return e.apply(t,r)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},c=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},f=function(e){this.condition=e},s=function(e){this.pattern=e},h=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],l=function(e,n){if(n!==i.Any){for(var o=0;o<u.length;++o)if(n===u[o][0]){if(typeof e===u[o][1])return;throw new i.Error("Expected "+u[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new i.Error("Expected null, got "+r.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new i.Error("Expected "+n+", got "+r.stringify(e))}if(n===i.Integer){if("number"==typeof e&&(0|e)===e)return;throw new i.Error("Expected Integer, got "+(e instanceof Object?r.stringify(e):e))}if(n===Object&&(n=i.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+r.stringify(n));if(!t.isArray(e)&&!t.isArguments(e))throw new i.Error("Expected array, got "+r.stringify(e));return void t.each(e,function(e,t){try{l(e,n[0])}catch(r){throw r instanceof i.Error&&(r.path=w(t,r.path)),r}})}if(n instanceof f){if(n.condition(e))return;throw new i.Error("Failed Match.Where validation")}if(n instanceof a&&(n=i.OneOf(void 0,n.pattern)),n instanceof c){for(var o=0;o<n.choices.length;++o)try{return void l(e,n.choices[o])}catch(p){if(!(p instanceof i.Error))throw p}throw new i.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new i.Error("Expected "+(n.name||"particular constructor"))}var g=!1,d;if(n instanceof s&&(g=!0,n=n.pattern),n instanceof h&&(g=!0,d=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new i.Error("Expected object, got "+typeof e);if(null===e)throw new i.Error("Expected object, got null");if(e.constructor!==Object)throw new i.Error("Expected plain object");var y={},E={};t.each(n,function(e,t){e instanceof a?E[t]=e.pattern:y[t]=e}),t.each(e,function(e,r){try{if(t.has(y,r))l(e,y[r]),delete y[r];else if(t.has(E,r))l(e,E[r]);else{if(!g)throw new i.Error("Unknown key");d&&l(e,d[0])}}catch(n){throw n instanceof i.Error&&(n.path=w(r,n.path)),n}}),t.each(y,function(e,t){throw new i.Error("Missing key '"+t+"'")})}},p=function(e,r){var n=this;n.args=t.clone(e),n.args.reverse(),n.description=r};t.extend(p.prototype,{checking:function(e){var r=this;r._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(r._checkingOneValue,r))},_checkingOneValue:function(e){for(var r=this,n=0;n<r.args.length;++n)if(e===r.args[n]||t.isNaN(e)&&t.isNaN(r.args[n]))return r.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var g=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,r){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(g,e))&&(e=JSON.stringify([e])),r&&"["!==r[0]?e+"."+r:e+r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:n,Match:i}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.json.JSON,n=Package.ejson.EJSON,e;(function(){e=function(i,t){var n=this;n._map={},n._idStringify=i||a.stringify,n._idParse=t||a.parse},t.extend(e.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new e(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,n.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){o={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(o,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)n(o.coordinates[1],o.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){n=o.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:n}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.json.JSON,n=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package["ordered-dict"].OrderedDict,a=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.random.Random,u=Package["geojson-utils"].GeoJSON,d,f,l,h,p,v,_,m,y,g,w,b,$,I,E,O;(function(){d=function(r){var t=this;t.name=r,t._docs=new d._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},f={},l={},d._applyChanges=function(e,t){r.each(t,function(r,t){void 0===r?delete e[t]:e[t]=r})},h=function(e){var r=new Error(e);return r.name="MinimongoError",r},d.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new d.Cursor(this,e,r)},d.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,d._selectorIsId(r)?(n._selectorId=r,n.matcher=new f.Matcher(r)):(n._selectorId=void 0,n.matcher=new f.Matcher(r),(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new f.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=d._compileProjection(n.fields||{}),n._transform=d.wrapTransform(t.transform),"undefined"!=typeof a&&(n.reactive=void 0===t.reactive?!0:t.reactive)},d.Cursor.prototype.rewind=function(){},d.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},d.Cursor.prototype.forEach=function(e,t){var n=this,o=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(o,function(r,o){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},d.Cursor.prototype.getTransform=function(){return this._transform},d.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},d.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},d.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},d.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;return Mongo.Collection._publishCursor(r,e,t)},d.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},d._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},d._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},d.ObserveHandle=function(){},r.extend(d.Cursor.prototype,{observe:function(e){var r=this;return d._observeFromObserveChanges(r,e)},observeChanges:function(e){var t=this,o=d._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(t.fields&&(0===t.fields._id||t.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={matcher:t.matcher,sorter:o&&t.sorter,distances:t.matcher.hasGeoQuery()&&o&&new d._IdMap,resultsSnapshot:null,ordered:o,cursor:t,projectionFn:t._projectionFn},s;t.reactive&&(s=t.collection.next_qid++,t.collection.queries[s]=i),i.results=t._getRawObjects({ordered:o,distances:i.distances}),t.collection.paused&&(i.resultsSnapshot=o?[]:new d._IdMap);var c=function(e){return e?function(){var r=this,n=arguments;t.collection.paused||t.collection._observeQueue.queueTask(function(){e.apply(r,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),o&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!t.collection.paused){var u=o?r.bind(r.each,null,i.results):r.bind(i.results.forEach,i.results);u(function(e){var r=n.clone(e);delete r._id,o&&i.addedBefore(e._id,t._projectionFn(r),null),i.added(e._id,t._projectionFn(r))})}var f=new d.ObserveHandle;return r.extend(f,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[s]}}),t.reactive&&a.active&&a.onInvalidate(function(){f.stop()}),t.collection._observeQueue.drain(),f}}),d.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new d._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new d._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},d.Cursor.prototype._depend=function(e,t){var n=this;if(a.active){var o=new a.Dependency;o.depend();var i=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=i)}),n.observeChanges(s)}},d.prototype.insert=function(t,o){var i=this;t=n.clone(t),r.has(t,"_id")||(t._id=d._useOID?new d._ObjectID:c.id());var a=t._id;if(i._docs.has(a))throw h("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,t);var s=[];for(var u in i.queries){var f=i.queries[u],l=f.matcher.documentMatches(t);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(u):d._insertInResults(f,t))}return r.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},d.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=d._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},d.prototype.remove=function(t,o){var i=this;if(i.paused&&!i._savedOriginals&&n.equals(t,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new f.Matcher(t),c=[];i._eachPossiblyMatchingDoc(t,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],l=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):l.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(l,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),d._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},d.prototype.update=function(t,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new f.Matcher(t),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||s.paused||(u[r]=n.clone(e.results))});var l={},h=0;s._eachPossiblyMatchingDoc(t,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,l,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=d._removeDollarOperators(t);d._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},d.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},d.prototype._modifyAndNotify=function(e,r,t,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(e).result:c.results.has(e._id)}var u=n.clone(e);d._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var f=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(f||h)&&(t[s]=!0):f&&!h?d._removeFromResults(c,e):!f&&h?d._insertInResults(c,e):f&&h&&d._updateInResults(c,e,u)}},d._insertInResults=function(e,r){var t=n.clone(r);if(delete t._id,e.ordered){if(e.sorter){var o=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},d._removeFromResults=function(e,r){if(e.ordered){var t=d._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},d._updateInResults=function(e,t,o){if(!n.equals(t._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=d._makeChangedFields(i(t),i(o));if(!e.ordered)return void(r.isEmpty(a)||(e.changed(t._id,a),e.results.set(t._id,t)));var s=d._findInOrderedResults(e,t);if(r.isEmpty(a)||e.changed(t._id,a),e.sorter){e.results.splice(s,1);var c=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(t._id,u)}}},d.prototype._recomputeResults=function(e,r){var t=this;t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||d._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})},d._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},d._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},d._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=d._binarySearch(e,r,t);return r.splice(n,0,t),n},d.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new d._IdMap},d.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},d.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,n.clone(r)))},d.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=n.clone(r.results)}}},d.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];d._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}},d._idStringify=function(e){if(e instanceof d._ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:"-"===e.substr(0,1)||"~"===e.substr(0,1)||d._looksLikeObjectID(e)||"{"===e.substr(0,1)?"-"+e:e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+t.stringify(e)},d._idParse=function(e){return""===e?e:"-"===e?void 0:"-"===e.substr(0,1)?e.substr(1):"~"===e.substr(0,1)?t.parse(e.substr(1)):d._looksLikeObjectID(e)?new d._ObjectID(e):e},d._makeChangedFields=function(e,r){var t={};return d._diffObjects(r,e,{leftOnly:function(e,r){t[e]=void 0},rightOnly:function(e,r){t[e]=r},both:function(e,r,o){n.equals(r,o)||(t[e]=o)}}),t}}).call(this),function(){d.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var t=function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var o=t._id,i=a.nonreactive(function(){return e(t)});if(!v(i))throw new Error("transform must return object");if(r.has(i,"_id")){if(!n.equals(i._id,o))throw new Error("transformed document can't have different _id")}else i._id=o;return i};return t.__wrappedTransform__=!0,t}}.call(this),function(){p=function(e){return r.isArray(e)&&!n.isBinary(e)},v=d._isPlainObject=function(e){return e&&3===d._f._type(e)},_=function(e){return p(e)||v(e)},m=function(e,n){if(!v(e))return!1;var o=void 0;return r.each(e,function(r,i){var a="$"===i.substr(0,1);if(void 0===o)o=a;else if(o!==a){if(!n)throw new Error("Inconsistent operator: "+t.stringify(e));o=!1}}),!!o},y=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){f.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(f.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(d._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:n.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,C;if("boolean"==typeof r||p(r)||n.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=n.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(s,a))throw new Error("Unrecognized logical operator: "+a);n._isSimple=!1,i.push(s[a](e,n,o.inElemMatch))}else{o.inElemMatch||n._recordPathUsed(a);var c=$(a),u=t(e,n,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),A(i)},t=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(g(e))):m(e)?i(e,r,t):o(w(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};g=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},w=function(e){if(m(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return d._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(h,s))i.push(h[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),M(i)},a=function(t,n,o){if(!p(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!v(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return A(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},h={$not:function(e,r,n){return c(t(e,n))},$ne:function(e){return c(o(w(e)))},$nin:function(e){return c(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return k},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return k},$all:function(e,n,o){if(!p(e))throw Error("$all requires array");if(r.isEmpty(e))return C;var i=[];return r.each(e,function(e){if(m(e))throw Error("no $ expressions in $all");i.push(t(e,o))}),M(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(v(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?u.pointDistance(a,e):u.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!p(e)&&!v(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return p(e)||v(e)?E(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},E=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},j=function(e){return{compileElementSelector:function(r){if(p(r))return function(){return!1};void 0===r&&(r=null);var t=d._f._type(r);return function(n){return void 0===n&&(n=null),d._f._type(n)!==t?!1:e(d._f._cmp(n,r))}}}};b={$lt:j(function(e){return 0>e}),$gt:j(function(e){return e>0}),$lte:j(function(e){return 0>=e}),$gte:j(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!p(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!p(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(g(e));else{if(m(e))throw Error("cannot nest $ under $in");t.push(w(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return p(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&d._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return g(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,n,o){if(!v(r))throw Error("$elemMatch need an object");var i,a;return m(r,!0)?(i=t(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!p(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!v(t)&&!p(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},$=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=y(o),a=n.length>=2&&y(n[1]),s;n.length>1&&(s=$(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),p(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:p(e)&&p(u),arrayIndices:n})];if(!_(u))return p(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!p(u)||a&&t.forSort||r.each(u,function(e,r){v(e)&&f(s(e,n.concat(r)))}),d}},l.makeLookupFunction=$,I=function(e,t){var n=[];return r.each(e,function(e){var o=p(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var C=function(e){return{result:!1}},k=function(e){return{result:!0}},S=function(e){return 0===e.length?k:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=S,M=S;d._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:p(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:n.isBinary(e)?5:e instanceof d._ObjectID?7:3},_equal:function(e,r){return n.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=d._f._type(e),n=d._f._type(r),o=d._f._typeorder(t),i=d._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return d._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=d._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},d._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){f.Sorter=function(n,o){var i=this;o=o||{},i._sortSpecParts=[];var a=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:$(e,{forSort:!0}),ascending:r})};if(n instanceof Array)for(var s=0;s<n.length;s++)"string"==typeof n[s]?a(n[s],!0):a(n[s][0],"desc"!==n[s][1]);else{if("object"!=typeof n)throw Error("Bad sort specification: "+t.stringify(n));r.each(n,function(e,r){a(r,e>=0)})}if(i.affectedByModifier){var c={};r.each(i._sortSpecParts,function(e){c[e.path]=1}),i._selectorForAffectedByModifier=new f.Matcher(c)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,r){return i._keyFieldComparator(r)})),i._keyFilter=null,o.matcher&&i._useWithMatcher(o.matcher)},r.extend(f.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=d._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(g(e))}return m(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push(w(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){d._compileProjection=function(e){d._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,o=E(e),i=function(e,t){if(r.isArray(e))return r.map(e,function(e){return i(e,t)});var a=o.including?{}:n.clone(e);return r.each(t,function(t,s){r.has(e,s)&&(r.isObject(t)?r.isObject(e[s])&&(a[s]=i(e[s],t)):o.including?a[s]=n.clone(e[s]):delete a[s])}),a};return function(e){var n=i(e,o.tree);return t&&r.has(e,"_id")&&(n._id=e._id),!t&&r.has(n,"_id")&&delete n._id,n}},E=function(e){var t=r.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw h("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw h("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);i[c]=r.has(i,c)?n(i[c],e,e):t(e)}}),o},d._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw h("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw h("Minimongo doesn't support $ operator in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw h("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){d._modify=function(t,a,s){if(s=s||{},!v(a))throw h("Modifier must be an object");var c=m(a),u;if(c)u=n.clone(t),r.each(a,function(t,n){var a=i[n];if(s.isInsert&&"$setOnInsert"===n&&(a=i.$set),!a)throw h("Invalid modifier specified "+n);r.each(t,function(t,i){if(""===i)throw h("An empty update path is not valid.");if("_id"===i)throw h("Mod on _id not allowed");var c=i.split(".");if(!r.all(c,r.identity))throw h("The update path '"+i+"' contains an empty field name, which is not allowed.");var d=r.has(o,n),f="$rename"===n,l=e(u,c,{noCreate:o[n],forbidArray:"$rename"===n,arrayIndices:s.arrayIndices}),p=c.pop();a(l,p,t,i,u)})});else{if(a._id&&!n.equals(t._id,a._id))throw h("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw h("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(t),function(e){"_id"!==e&&delete t[e]}),r.each(u,function(e,r){t[r]=e})};var e=function(e,r,n){n=n||{};for(var o=!1,i=0;i<r.length;i++){var a=i===r.length-1,s=r[i],c=_(e);if(!c){if(n.noCreate)return void 0;var u=h("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(o)throw h("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw h("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],o=!0}else{if(!y(s)){if(n.noCreate)return void 0;throw h("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(r[i]=s),n.noCreate&&s>=e.length)return void 0;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw h("can't modify field '"+r[i+1]+"' of list value "+t.stringify(e[s]))}else{if(s.length&&"$"===s.substr(0,1))throw h("can't set field named "+s);if(!(s in e)){if(n.noCreate)return void 0;a||(e[s]={})}}if(a)return e;e=e[s]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},i={$inc:function(e,r,t){if("number"!=typeof t)throw h("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw h("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,o){if(!r.isObject(e)){var i=h("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(null===e){var i=h("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n.clone(o)},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw h("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(n.clone(t));var o=t.$each;if(!(o instanceof Array))throw h("$each must be an array");var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw h("$slice must be a numeric value");if(t.$slice>0)throw h("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw h("$sort requires $slice to be present");a=new f.Sorter(t.$sort).getComparator();for(var s=0;s<o.length;s++)if(3!==d._f._type(o[s]))throw h("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<o.length;c++)e[r].push(n.clone(o[c]));a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw h("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,o){var i=!1;if("object"==typeof o)for(var a in o){
"$each"===a&&(i=!0);break}var s=i?o.$each:[o],c=e[t];if(void 0===c)e[t]=s;else{if(!(c instanceof Array))throw h("Cannot apply $addToSet modifier to non-array");r.each(s,function(e){for(var r=0;r<c.length;r++)if(d._f._equal(e,c[r]))return;c.push(n.clone(e))})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)d._f._equal(n[i],t)||o.push(n[i]);else for(var a=new f.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(d._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw h("$rename source must differ from target");if(null===r)throw h("$rename source field invalid");if("string"!=typeof n)throw h("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw h("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw h("$bit is not supported")}}}.call(this),function(){d._diffQueryChanges=function(e,r,t,n,o){e?d._diffQueryOrderedChanges(r,t,n,o):d._diffQueryUnorderedChanges(r,t,n,o)},d._diffQueryUnorderedChanges=function(e,t,o,i){i=i||{};var a=i.projectionFn||n.clone;if(o.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");t.forEach(function(t,i){var s=e.get(i);if(s){if(o.changed&&!n.equals(s,t)){var c=a(t),u=a(s),f=d._makeChangedFields(c,u);r.isEmpty(f)||o.changed(i,f)}}else if(o.added){var l=a(t);delete l._id,o.added(t._id,l)}}),o.removed&&e.forEach(function(e,r){t.has(r)||o.removed(r)})},d._diffQueryOrderedChanges=function(t,o,i,a){a=a||{};var s=a.projectionFn||n.clone,c={};r.each(o,function(r){c[r._id]&&e._debug("Duplicate _id in new_results"),c[r._id]=!0});var u={};r.each(t,function(r,t){r._id in u&&e._debug("Duplicate _id in old_results"),u[r._id]=t});for(var f=[],l=0,h=o.length,p=new Array(h),v=new Array(h),_=function(e){return u[o[e]._id]},m=0;h>m;m++)if(void 0!==u[o[m]._id]){for(var y=l;y>0&&!(_(p[y-1])<_(m));)y--;v[m]=0===y?-1:p[y-1],p[y]=m,y+1>l&&(l=y+1)}for(var g=0===l?-1:p[l-1];g>=0;)f.push(g),g=v[g];f.reverse(),f.push(o.length),r.each(t,function(e){c[e._id]||i.removed&&i.removed(e._id)});var w=0;r.each(f,function(e){for(var n=o[e]?o[e]._id:null,a,c,f,l,h,p=w;e>p;p++)c=o[p],r.has(u,c._id)?(a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f),i.movedBefore&&i.movedBefore(c._id,n)):(f=s(c),delete f._id,i.addedBefore&&i.addedBefore(c._id,f,n),i.added&&i.added(c._id,f));n&&(c=o[e],a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f)),w=e+1})},d._diffObjects=function(e,t,n){r.each(e,function(e,o){r.has(t,o)?n.both&&n.both(o,e,t[o]):n.leftOnly&&n.leftOnly(o,e)}),n.rightOnly&&r.each(t,function(t,o){r.has(e,o)||n.rightOnly(o,t)})}}.call(this),function(){d._IdMap=function(){var e=this;o.call(e,d._idStringify,d._idParse)},e._inherits(d._IdMap,o)}.call(this),function(){d._CachingChangeObserver=function(e){var t=this;e=e||{};var o=e.callbacks&&d._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(t.ordered=e.ordered,e.callbacks&&e.ordered!==o)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=o}var a=e.callbacks||{};t.ordered?(t.docs=new i(d._idStringify),t.applyChange={addedBefore:function(e,r,o){var i=n.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(t,e,r,o),a.added&&a.added.call(t,e,r),t.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var n=t.docs.get(e);a.movedBefore&&a.movedBefore.call(t,e,r),t.docs.moveBefore(e,r||null)}}):(t.docs=new d._IdMap,t.applyChange={added:function(e,r){var o=n.clone(r);a.added&&a.added.call(t,e,r),o._id=e,t.docs.set(e,o)}}),t.applyChange.changed=function(e,r){var o=t.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(t,e,n.clone(r)),d._applyChanges(o,r)},t.applyChange.removed=function(e){a.removed&&a.removed.call(t,e),t.docs.remove(e)}},d._observeFromObserveChanges=function(e,t){var o=e.getTransform()||function(e){return e},i=!!t._suppress_initial,a;if(d._observeCallbacksAreOrdered(t)){var s=!t._no_indices;a={addedBefore:function(e,n,a){var c=this;if(!i&&(t.addedAt||t.added)){var u=o(r.extend(n,{_id:e}));if(t.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;t.addedAt(u,d,a)}else t.added(u)}},changed:function(e,r){var i=this;if(t.changedAt||t.changed){var a=n.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(n.clone(a));if(d._applyChanges(a,r),a=o(a),t.changedAt){var u=s?i.docs.indexOf(e):-1;t.changedAt(a,c,u)}else t.changed(a,c)}},movedBefore:function(e,r){var i=this;if(t.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,t.movedTo(o(n.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(t.removedAt||t.removed){var n=o(r.docs.get(e));if(t.removedAt){var i=s?r.docs.indexOf(e):-1;t.removedAt(n,i)}else t.removed(n)}}}}else a={added:function(e,n){if(!i&&t.added){var a=r.extend(n,{_id:e});t.added(o(a))}},changed:function(e,r){var i=this;if(t.changed){var a=i.docs.get(e),s=n.clone(a);d._applyChanges(s,r),t.changed(o(s),o(n.clone(a)))}},removed:function(e){var r=this;t.removed&&t.removed(o(r.docs.get(e)))}};var c=new d._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){d._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},d._ObjectID=function(e){var r=this;if(e){if(e=e.toLowerCase(),!d._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");r._str=e}else r._str=c.hexString(24)},d._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},d._ObjectID.prototype.equals=function(e){var r=this;return e instanceof d._ObjectID&&r.valueOf()===e.valueOf()},d._ObjectID.prototype.clone=function(){var e=this;return new d._ObjectID(e._str)},d._ObjectID.prototype.typeName=function(){return"oid"},d._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},d._ObjectID.prototype.valueOf=d._ObjectID.prototype.toJSONValue=d._ObjectID.prototype.toHexString=function(){return this._str},d._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof d._ObjectID},d._selectorIsIdPerhapsAsObject=function(e){return d._selectorIsId(e)||e&&"object"==typeof e&&e._id&&d._selectorIsId(e._id)&&1===r.size(e)},d._idsMatchedBySelector=function(e){if(d._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return d._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,d._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=d._idsMatchedBySelector(e.$and[t]);if(n)return n}return null},n.addType("oid",function(e){return new d._ObjectID(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:d,Minimongo:f,MinimongoTest:l}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.json.JSON,a=Package.underscore._,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package.logging.Log,l=Package.retry.Retry,d=Package.minimongo.LocalCollection,f=Package.minimongo.Minimongo,_,p,h,v,m,g,b,y,w,k,S,C,T;(function(){_={},p={}}).call(this),function(){h=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+i.stringify(e)+" not listed "+i.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+i.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,_=i&&i.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=_(e);return d.lastIndex=0,d.test(t)?(f||(f=p(d)),t.replace(d,function(e){return f[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,b=function(){for(var e in m)m[e](),delete m[e]},y=function(){g||(g=!0,b())};n.attachEvent("unload",y),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(b),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,a,s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},c=function(e){o&&(u(),r(e))},l=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,a,s,c=function(){clearTimeout(i)},l=function(){o&&(c(),n.unload_del(a),s.parentNode.removeChild(s),s=o=null,CollectGarbage())},d=function(e){o&&(l(),r(e))},f=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[u]=t[u];var _=o.createElement("div");return o.body.appendChild(_),s=o.createElement("iframe"),_.appendChild(s),s.src=e,i=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:f,cleanup:l,loaded:c}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var C=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};C.prototype=new a(["chunk","finish"]),C.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},C.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},C.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==T.CONNECTING&&i.readyState!==T.OPEN&&i.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===T.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=T.CLOSED,n.delay(function(){i.dispatchEvent(a)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=i.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=i.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=i.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&T[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=T.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},I=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),a,s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},D=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};D.prototype=new O,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(u+"."+i),s=0,c=function(e){switch(s){case 0:delete t[u][i],o(e);break;case 1:o(e),s=2;break;case 2:delete t[u][i]}},l=r(a,c);t[u][i]=l;var d=function(){t[u][i]&&(s=1,t[u][i](n.closeFrame(1e3,"JSONP user aborted read")))};return d},P=function(){};P.prototype=new O,P.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(I(o)),i.poll=new Z(e,r,t+n,o)},P.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XHRCorsObject)};N.prototype=new P,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var j=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XDRObject)};j.prototype=new P,j.enabled=function(){return!!t.XDomainRequest},j.roundTrips=2;var U=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRCorsObject)};U.prototype=new P,U.enabled=N.enabled,U.roundTrips=2;var A=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XDRObject)};A.prototype=new P,A.enabled=j.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",i.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,L=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===H)switch(a){case"s":var u=i.parse(s),c=u[0],l=u[1],d=u[2],f=u[3];if(c!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+T.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+i.stringify([t.location.href,d,f])+")");r=new F,r._transport=new F[l](r,d,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var X=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};X.prototype=new a(["finish"]),X.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=i.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var V=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=i.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};V.prototype=new a(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new X(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new X(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new X(e,n.XDRObject):new W;case 3:return new V(e);default:return new W}},G=F["w-iframe-info-receiver"]=function(e,t,r){var o=new X(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+i.stringify([t,n])),e._didClose()}};G.prototype.doCleanup=function(){};var J=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new B,J.enabled=function(){return"EventSource"in t&&B.enabled()},J.need_body=!0,J.roundTrips=3;var Q=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",ee,n.XHRLocalObject)};Q.prototype=new P;var z=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};z.prototype=new B,z.enabled=function(){return t.XMLHttpRequest&&B.enabled()},z.need_body=!0,z.roundTrips=3;var $=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRLocalObject)};$.prototype=new P;var Y=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Y.prototype=new B,Y.enabled=function(){return B.enabled()},Y.need_body=!0,Y.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",re,n.XHRLocalObject)};K.prototype=new P;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var ee=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};ee.prototype=new r,ee.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var te,ne=function(){if(void 0===te)if("ActiveXObject"in t)try{te=!!new ActiveXObject("htmlfile")}catch(e){}else te=!1;return te},re=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(u+"."+r.id);var i=ne()?n.createHtmlfile:n.createIframe,a;t[u][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[u][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(e){r.iframe_close({},"permanent")})};re.prototype=new r,re.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var oe=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return oe.prototype=new r,oe.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return B},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return h})}.call(this),function(){p.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(p.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new _.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);

return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new h(v(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new _.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,a){i||(i="http");var s=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(s){var l=o.substr(s[0].length);c="i"===s[1]?i:i+"s";var d=l.indexOf("/"),f=-1===d?l:l.substr(0,d),_=-1===d?"":l.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+_}if(u){c=u[1]?i+"s":i;var p=o.substr(u[0].length);o=c+"://"+p}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+a:o+"/"+a};v=function(e){return o(e,"http","sockjs")},m=function(e){var t=o(e,"ws","websocket");return t},p.toSockjsUrl=v,a.extend(p.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new _.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),_.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),_.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){g=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},a.extend(g.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setTimeout(a.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(a.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearTimeout(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){b=["1","pre2","pre1"],p.SUPPORTED_DDP_VERSIONS=b,y=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},a.extend(y.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),w=function(t){try{var n=i.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!=typeof n?(e._debug("Discarding non-object DDP message",t),null):(a.has(n,"cleared")&&(a.has(n,"fields")||(n.fields={}),a.each(n.cleared,function(e){n.fields[e]=void 0}),delete n.cleared),a.each(["fields","params","result"],function(e){a.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},k=function(e){var t=o.clone(e);if(a.has(e,"fields")){var n=[];a.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),a.isEmpty(n)||(t.cleared=n),a.isEmpty(t.fields)&&delete t.fields}if(a.each(["fields","params","result"],function(e){a.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return i.stringify(t)},_._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){function e(){return r.hexString(20)}S=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},S.get=function(e,t){if(t||(t="default"),!e)return r;var n=e.randomStream;return n||(e.randomStream=n=new S({seed:e.randomSeed})),n._sequence(t)},_.randomStream=function(e){var t=_._CurrentInvocation.get();return S.get(t,e)},C=function(e,t){var n=S.get(e,"/rpc/"+t);return n.hexString(20)},a.extend(S.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var o=t.seed.concat(e),i=0;i<o.length;i++)a.isFunction(o[i])&&(o[i]=o[i]());t.sequences[e]=n=r.createWithSeeds.apply(null,o)}return n}})}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),u=Npm.require(t.join("fibers","future"));var c=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:b,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof t?t:new p.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=w(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"==o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg?(n.respondToPings&&r._send({msg:"pong",id:o.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===o.msg?r._heartbeat&&r._heartbeat.pongReceived():a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,e._debug)),r._stream.on("reset",e.bindEnvironment(i,e._debug)),r._stream.on("disconnect",e.bindEnvironment(u,e._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",u))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var u=n[n.length-1];a.isFunction(u)?i.onReady=n.pop():u&&a.any([u.onReady,u.onError,u.onStop],a.isFunction)&&(i=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;c?(l=c.id,c.inactive=!1,i.onReady&&(c.ready||(c.readyCallback=i.onReady)),i.onError&&(c.errorCallback=i.onError),i.onStop&&(c.stopCallback=i.onStop)):(l=r.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:i.onReady,errorCallback:i.onError,stopCallback:i.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove(),i.onStop&&i.onStop()}},t._send({msg:"sub",id:l,name:e,params:n}));var d={stop:function(){a.has(t._subscriptions,l)&&t._subscriptions[l].stop()},ready:function(){if(!a.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready},subscriptionId:l};return s.active&&s.onInvalidate(function(e){a.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),s.afterFlush(function(){a.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,o=new u,i=!1,a;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),a=r.subscribe.apply(r,[e].concat(t)),o.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,i){var s=this;i||"function"!=typeof r||(i=r,r={}),r=r||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=o.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+s._nextMethodId++),e}}(),d=_._CurrentInvocation.get(),f=d&&d.isSimulation,p=null,h=function(){return null===p&&(p=C(d,t)),p},v=s._methodHandlers[t];if(v){var m=function(e){s.setUserId(e)},g=new y({isSimulation:!0,userId:s.userId(),setUserId:m,randomSeed:function(){return h()}});f||s._saveOriginals();try{var b=_._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return v.apply(g,o.clone(n))}):v.apply(g,o.clone(n))})}catch(w){var k=w}f||s._retrieveAndStoreOriginals(c())}if(f){if(i)return void i(k,b);if(k)throw k;return b}if(k&&!k.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new u;i=S.resolver()}var T={msg:"method",method:t,params:n,id:c()};null!==p&&(T.randomSeed=p);var E=new l({methodId:c(),callback:i,connection:s,onResultReceived:r.onResultReceived,wait:!!r.wait,message:T});return r.wait?s._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(s._outstandingMethodBlocks)||a.last(s._outstandingMethodBlocks).wait)&&s._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(s._outstandingMethodBlocks).methods.push(E)),1===s._outstandingMethodBlocks.length&&E.sendMessage(),S?S.wait():r.returnStubValue?b:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new d._IdMap);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(k(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new g({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new _.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!a.isEmpty(n))&&(a.each(t._stores,function(e,r){e.beginUpdate(a.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(n,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);d._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+i.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+i.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d._idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.readyCallback&&t.readyCallback(),t.ready=!0,t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+i.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),p.Connection=c,_.connect=function(e,t){var n=new c(e,t);return T.push(n),n},T=[],_._allSubscriptionsReady=function(){return a.all(T,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=_.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=_.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:_,LivedataTest:p}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.json.JSON,r=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.logging.Log,a=Package.ddp.DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package.check.check,f=Package.check.Match,_,p;(function(){p=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new i(e)),n[e]};r.extend(p.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new i}}),p=new p}).call(this),function(){_={},_.Collection=function(o,t){var c=this;if(!(c instanceof _.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),t=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t),t.idGeneration){case"MONGO":c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return new _.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return e.id()}}if(c._transform=i.wrapTransform(t.transform),c._connection=o&&null!==t.connection?t.connection?t.connection:e.isClient?e.connection:e.server:null,t._driver||(t._driver=o&&c._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():p),c._collection=t._driver.open(o,c._connection),c._name=o,c._driver=t._driver,c._connection&&c._connection.registerStore){var l=c._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&c._collection.pauseObservers(),n&&c._collection.remove({})},update:function(e){var n=i._idParse(e.id),o=c._collection.findOne(n);if("replace"===e.msg){var t=e.replace;return void(t?o?c._collection.update(n,t):c._collection.insert(t):o&&c._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");c._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var l={};r.each(e.fields,function(e,n){void 0===e?(l.$unset||(l.$unset={}),l.$unset[n]=1):(l.$set||(l.$set={}),l.$set[n]=e)}),c._collection.update(n,l)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!t._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(_.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),r.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=r.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),_.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},_.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return r.each(e,function(e,n){e instanceof RegExp?o[n]=t(e):e&&e.$regex instanceof RegExp?(o[n]=t(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(e,function(e){return _.Collection._rewriteSelector(e)}):e}),o};var t=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},c=function(n,o){if(!i._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};r.each(["insert","update","remove"],function(n){_.Collection.prototype[n]=function(){var o=this,t=r.toArray(arguments),i,l,s;if(t.length&&(void 0===t[t.length-1]||t[t.length-1]instanceof Function)&&(i=t.pop()),"insert"===n){if(!t.length)throw new Error("insert requires an argument");if(t[0]=r.extend({},t[0]),"_id"in t[0]){if(l=t[0]._id,!l||!("string"==typeof l||l instanceof _.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get();u||(d=!1)}d&&(l=t[0]._id=o._makeNewID())}}else if(t[0]=_.Collection._rewriteSelector(t[0]),"update"===n){var f=t[2]=r.clone(t[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof _.ObjectID))throw new Error("insertedId must be string or ObjectID")}else t[0]._id||(f.insertedId=o._makeNewID())}var p=function(e){return"insert"===n?(!l&&e&&(l=e),l):e},v;if(i&&(v=function(e,n){i(e,!e&&p(n))}),o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get(),h=u&&u.isSimulation;!e.isClient||v||h||(v=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),h||"insert"===n||c(t[0],n),s=p(o._connection.apply(o._prefix+n,t,{returnStubValue:!0},v))}else{t.push(v);try{var m=o._collection[n].apply(o._collection,t);s=p(m)}catch(w){if(i)return i(w),null;throw w}}return s}}),_.Collection.prototype.upsert=function(e,n,o,t){var i=this;return t||"function"!=typeof o||(t=o,o={}),i.update(e,n,r.extend({},o,{_returnObject:!0,upsert:!0}),t)},_.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},_.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},_.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},_.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},_.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},_.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},_.ObjectID=i._ObjectID,_.Cursor=i.Cursor,_.Collection.Cursor=_.Cursor,_.Collection.ObjectID=_.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(n){if(!r.contains(o,n))throw new Error(e+": Invalid key: "+n)});var t=this;if(t._restricted=!0,r.each(["insert","update","remove"],function(o){if(n[o]){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");n[o].transform=void 0===n.transform?t._transform:i.wrapTransform(n.transform),t._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");t._updateFetch(n.fetch)}};_.Collection.prototype.allow=function(n){e.call(this,"allow",n)},_.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),_.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};r.each(["insert","update","remove"],function(t){o[n._prefix+t]=function(){u(arguments,[f.Any]);var o=r.toArray(arguments);try{var i=null;if("insert"!==t||r.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);if("insert"!==t&&c(o[0],t),n._restricted){if(0===n._validators[t].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+t+"'.");var l="_validated"+t.charAt(0).toUpperCase()+t.slice(1);return o.unshift(this.userId),"insert"===t&&o.push(i),n[l].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},_.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=r.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},_.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var l=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};_.Collection.prototype._validatedInsert=function(n,o,t){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");null!==t&&(o._id=t),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};_.Collection.prototype._validatedUpdate=function(n,o,t,c){var l=this;if(u(t,Object),c=r.clone(c)||{},!i._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",f=[];if(r.isEmpty(t))throw new e.Error(403,a);r.each(t,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,a);if(!r.has(d,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");r.each(r.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(f,e)||f.push(e)})});var _={transform:null};l._validators.fetchAllFields||(_.fields={},r.each(l._validators.fetch,function(e){_.fields[e]=1}));var p=l._collection.findOne(o,_);if(!p)return 0;if(r.any(l._validators.update.deny,function(e){var o=s(e,p);return e(n,o,f,t)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){var o=s(e,p);return!e(n,o,f,t)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,t,c)};var d={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};_.Collection.prototype._validatedRemove=function(n,o){var t=this,i={transform:null};t._validators.fetchAllFields||(i.fields={},r.each(t._validators.fetch,function(e){i.fields[e]=1}));var c=t._collection.findOne(o,i);if(!c)return 0;if(r.any(t._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(r.all(t._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return t._collection.remove.call(t._collection,o)},e.Collection=_.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:_}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package.ddp.DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";c=new o.Collection("meteor_autoupdate_clientVersions"),s={},s.newClientAvailable=function(){return!!c.findOne({_id:"version",version:{$ne:t}})||!!c.findOne({_id:"version-refreshable",version:{$ne:n}})};var r=!1,u=new a({minCount:0,baseTimeout:3e4}),l=0;s._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),l++,u.retryLater(l,function(){s._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},d=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==c.length?i.each(c,function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",e._relativeToSiteRootUrl(t.url)),_(n)}):d()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload.Reload._reload())},o=c.find().observe({added:a,changed:a})}})},s._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:s}}();

!function(){var a=Package.meteor.Meteor,e=Package.reload.Reload,o=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,G=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));

for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ge=Qe.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),
tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");

return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,a;(function(){i={},n=function(t){return t},a=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function a(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=a.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=a.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),o=t.attrs;r[0]=o;var s=this.visitAttributes.apply(this,r);if(s===o&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=a.call(arguments),n=t,o=0;o<t.length;o++){var s=t[o];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[o]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=a.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,a=t.attrs;if(a){a=i.flattenAttributes(a);for(var o in a)if("value"===o&&"textarea"===r)n=[a[o],n];else{var s=this.toText(a[o],i.TEXTMODE.ATTRIBUTE);e.push(" "+o+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var o=n.value;1===o.length?t.attrs=o[0]:o.length>1&&(t.attrs=o),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=a.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=a.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},o=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return o[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&!Object.prototype.hasOwnProperty.call(t,"constructor")},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,a=e?t.length:1;a>n;n++){var o=e?t[n]:t;if("object"!=typeof o||i.isConstructedObject(o))throw new Error("Expected plain JS object as attrs, found: "+o);for(var s in o){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=o[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.minimongo.LocalCollection,i=Package.minimongo.Minimongo,t=Package.underscore._,a=Package.random.Random,c,f,u,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},o=r._idStringify,i=r._idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,o){var r=null,i=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(i&&(a=t.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),c)if(c instanceof Array)e=u(a,c,o);else{if(!l(c))throw s();var n=d(a,c,o);e=n[0],i=n[1]}else e=f(a,o);v(a,e,o),r=c,a=e})});return{stop:function(){c.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(l(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},l=function(e){return e&&t.isObject(e)&&t.isFunction(e.observe)&&t.isFunction(e.fetch)},v=function(e,n,r){var a=Package.minimongo.LocalCollection._diffQueryOrderedChanges,c=[],f=[],u={},d={},s={},l=e.length;t.each(n,function(e,n){f.push({_id:e._id}),d[o(e._id)]=n}),t.each(e,function(e,n){c.push({_id:e._id}),u[o(e._id)]=n,s[o(e._id)]=n}),a(c,f,{addedBefore:function(e,i,a){var c=a?s[o(a)]:l;a&&t.each(s,function(e,n){e>=c&&s[n]++}),l++,s[o(e)]=c,r.addedAt(e,n[d[o(e)]].item,c,a)},movedBefore:function(e,i){if(e!==i){var a=s[o(e)],c=i?s[o(i)]:l;c>a&&c--,t.each(s,function(e,n){e>a&&c>e?s[n]--:e>=c&&a>e&&s[n]++}),s[o(e)]=c,r.movedTo(e,n[d[o(e)]].item,a,c,i)}},removed:function(n){var i=s[o(n)];t.each(s,function(e,n){e>=i&&s[n]--}),delete s[o(n)],l--,r.removedAt(n,e[u[o(n)]].item,i)}}),t.each(d,function(o,a){var c=i(a);if(t.has(u,a)){var f=n[o].item,d=e[u[a]].item;("object"==typeof f||f!==d)&&r.changedAt(c,f,d,o)}})};f=function(e,n){return[]},u=function(n,r,i){var c={},f=t.map(r,function(n,i){var t;if("string"==typeof n)t="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)t=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);t=n&&n._id||i}var f=o(t);return c[f]?("object"==typeof n&&"_id"in n&&e("duplicate id "+t+" in",r),t=a.id()):c[f]=!0,{_id:t,item:n}});return f},d=function(e,n,o){var r=!0,i=[],t=n.observe({addedAt:function(e,n,t){if(r){if(null!==t)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else o.addedAt(e._id,e,n,t)},changedAt:function(e,n,r){o.changedAt(e._id,e,n,r)},removedAt:function(e,n){o.removedAt(e._id,e,n)},movedTo:function(e,n,r,i){o.movedTo(e._id,e,n,r,i)}});return r=!1,[i,t]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.underscore._,o=Package.htmljs.HTML,s=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,c,l,d,p,f,h;(function(){c={},c._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),c._warn=function(e){e="Warning: "+e,"undefined"!=typeof Log&&Log&&Log.warn?Log.warn(e):"undefined"!=typeof console&&console.log&&console.log(e)}}).call(this),function(){var e={};c._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},a=function(e){this.next=this,this.prev=this,this.func=e};a.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},a.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.go=function(){var e=this.func;e&&e()},a.prototype.stop=a.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,i){var o=new a(i),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new a,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];c._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=c._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&c._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(c._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!c._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=c._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},c._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=c._EventSupport={},t=c._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,o=function(e,o,s,u,c){this.elem=e,this.type=o,this.selector=s,this.handler=u,this.recipient=c,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!i.has(n,t.Events.parseEventType(o));l?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=o,o.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,i){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],c=0,l=s.length;l>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new o(e,d,n,r,a);if(u.push(m),m.bind(),h.push(m),i)for(var w=i(a);w;w=i(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;c._allowJavascriptUrls=function(){n=!0},c._javascriptUrlsAllowed=function(){return n},p=function(e,t){this.name=e,this.value=t},c._AttributeHandler=p,p.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},p.extend=function(e){var t=this,n=function r(){p.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&i.extend(n.prototype,e),n};var r=p.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},o=this.getCurrentValue(e),s=o?this.parseValue(o):{};i.each(i.keys(r),function(e){e in a||delete s[e]}),i.each(i.keys(a),function(e){s[e]=a[e]}),this.setValue(e,i.values(s).join(" "))}}),a=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return i.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),o=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),s=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=r.exec(e);a;)n[" "+a[1]]=a[0].trim?a[0].trim():t.trim(a[0]),a=r.exec(e);return n}}),u=p.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=p.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),d=p.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return i.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=p.prototype.update,y=p.extend({update:function(e,t,n){var r=this,a=arguments;if(c._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n);i?(c._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});f=function(e,t,n){return"class"===t?m(e)?new o(t,n):new a(t,n):"style"===t?new s(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new d(t.substring(6),n):w(e.tagName,t)?new y(t,n):new p(t,n):new l(t,n)},h=function(e){this.elem=e,this.handlers={}},h.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!i.has(e,r)){var a=n[r],o=a.value;a.value=null,a.update(t,o,null),delete n[r]}for(var r in e){var a=null,o,s=e[r];i.has(n,r)?(a=n[r],o=a.value):null!==s&&(a=f(t,r,s),n[r]=a,o=null),o!==s&&(a.value=s,a.update(t,o,s),null===s&&delete n[r])}}}.call(this),function(){c._materializeDOM=function(t,n,r){var a=[];for(e(t,n,r,a);a.length;){var i=a.pop();"function"==typeof i?i():e(i[0],i[1],i[2],a)}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case o.Tag.htmljsType:return void n.push(t(e,r,a));case o.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case o.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case o.Raw.htmljsType:for(var i=c._DOMBackend.parseHTML(e.value),s=0;s<i.length;s++)n.push(i[s]);return}else{if(o.isArray(e)){for(var s=e.length-1;s>=0;s--)a.push([e[s],n,r]);return}if(e instanceof c.Template&&(e=e.constructView()),e instanceof c.View)return void c._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,a){var s=e.tagName,u;u=(o.isKnownSVGElement(s)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var l=e.attrs,d=e.children;if("textarea"===s&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||o.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=i.extend({},l||null),l.value=c._expand(d,t),d=[]}if(l){var p=new h(u),f=function(){var e=c._expandAttributes(l,t),n=o.flattenAttributes(e),r={};for(var a in n)r[a]=c._toText(n[a],t,o.TEXTMODE.STRING);p.update(r)},m;m=t?t.autorun(f,void 0,"updater"):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(t,f)})}),c._DOMBackend.Teardown.onElementTeardown(u,function v(){m.stop()})}if(d.length){var w=[];a.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof c._DOMRange?t.attach(u):u.appendChild(t)}}),a.push([d,w,t])}return u},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;c._throwNextException=!1,c._reportException=function(n,r){if(c._throwNextException)throw c._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},c._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){c._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){c.View=function(e,t){return this instanceof c.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,void(this.renderCount=0)):new c.View(e,t)},c.View.prototype._render=function(){return null},c.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},c.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},c.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||c._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function a(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},c.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},c.View.prototype.autorun=function(e,t,n){var a=this;if(!a.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i={};return i.templateInstanceFunc=c.Template._currentTemplateInstanceFunc,i.f=function o(n){return c._withCurrentView(t||a,function(){return c.Template._withTemplateInstanceFunc(i.templateInstanceFunc,function(){return e.call(a,n)})})},i.f.displayName=(a.name||"anonymous")+":"+(n||"anonymous"),i.c=r.autorun(i.f),a.onViewDestroyed(function(){i.c.stop()}),i.c},c.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},c.View.prototype.subscribe=function(t,n){var r=this;n={}||n,r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},c.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},c.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},c._fireCallbacks=function(e,t){c._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r].call(e)})})},c._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),c._fireCallbacks(e,"created")};var t=function(e,t){var n=new c._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,c._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=c._DOMBackend.Teardown.onElementTeardown(n,function a(){c._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};c._materializeView=function(e,n,a,i){c._createView(e,n);var o,s;return r.nonreactive(function(){e.autorun(function u(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||r.nonreactive(function a(){var t=c._materializeDOM(n,[],e);c._isContentEqual(s,n)||(o.setMembers(t),c._fireCallbacks(e,"rendered"))}),s=n,r.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;a?(n=[],a.push(function(){o=t(e,n),n=null,i.push(o)}),a.push([s,n,e])):(n=c._materializeDOM(s,[],e),o=t(e,n),n=null)}),a?null:o},c._expandView=function(e,t){c._createView(e,t,!0),e._isInRender=!0;var n=c._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var a=c._expand(n,e);return r.active?r.onInvalidate(function(){c._destroyView(e)}):c._destroyView(e),a},c._HTMLJSExpander=o.TransformingVisitor.extend(),c._HTMLJSExpander.def({visitObject:function(e){return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View?c._expandView(e,this.parentView):o.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=c._withCurrentView(this.parentView,e)),o.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=c._withCurrentView(this.parentView,t)),o.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=c.currentView;return e&&e._isInRender?e:null};c._expand=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visit(e)},c._expandAttributes=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visitAttributes(e)},c._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,c._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},c._destroyNode=function(e){1===e.nodeType&&c._DOMBackend.Teardown.tearDownElement(e)},c._isContentEqual=function(e,t){return e instanceof o.Raw?t instanceof o.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},c.currentView=null,c._withCurrentView=function(e,t){var n=c.currentView;try{return c.currentView=e,t()}finally{c.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof c.View||e instanceof c.Template||"function"==typeof e))try{(new o.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},s=function(e){if(a(e),e instanceof c.Template)return e.constructView();if(e instanceof c.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),c.View("render",t)},u=function(e){return a(e),"function"!=typeof e?function(){return e}:e};c.render=function(e,t,r,a){if(t||c._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof c.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var i=s(e);return c._materializeView(i,a),t&&i._domrange.attach(t,r),i},c.insert=function(e,t,n){if(c._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},c.renderWithData=function(e,t,n,r,a){return c.render(c._TemplateWith(t,u(e)),n,r,a)},c.remove=function(e){if(!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},c.toHTML=function(e,t){return t=t||n(),o.toHTML(c._expandView(s(e),t))},c.toHTMLWithData=function(e,t,r){return r=r||n(),o.toHTML(c._expandView(c._TemplateWith(t,u(e)),r))},c._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof c.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==o.TEXTMODE.STRING&&r!==o.TEXTMODE.RCDATA&&r!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return o.toText(c._expand(e,t),r)},c.getData=function(e){var t;if(e)if(e instanceof c.View){var n=e;t="with"===n.name?n:c.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=c.getView(e,"with")}else t=c.getView("with");return t?t.dataVar.get():null},c.getElementData=function(e){if(c._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return c.getData(e)},c.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof c.View)return c._getParentView(e,n);if("number"==typeof e.nodeType)return c._getElementView(e,n);throw new Error("Expected DOM element or View")}return c._getCurrentView(n)},c._getCurrentView=function(e){var t=c.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},c._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},c._getElementView=function(e,t){for(var n=c._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:c._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},c._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(o,s){i.each(t,function(t,a){var u=a.split(/,\s+/);i.each(u,function(a){var i=a.split(/\s+/);if(0!==i.length){var u=i.shift(),l=i.join(" ");r.push(c._EventSupport.listen(s,u,l,function(r){if(!o.containsElement(r.currentTarget))return null;var a=n||this,i=arguments;return c._withCurrentView(e,function(){return t.apply(a,i)})},o,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){i.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){c._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},c.With=function(e,t){var n=c.View("with",t);return n.dataVar=new u,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},c.If=function(e,t,n,r){var a=new u,i=c.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=c._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},c.Unless=function(e,t,n){return c.If(e,t,n,!0)},c.Each=function(e,t,n){var a=c.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});return a.initialSubviews=[],a.numItems=0,a.inElseMode=!1,a.stopHandle=null,a.contentFunc=t,a.elseFunc=n,a.argVar=new u,a.onViewCreated(function(){a.autorun(function(){a.argVar.set(e())},a.parentView,"collection"),a.stopHandle=s.observe(function(){return a.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e=c.With(t,a.contentFunc);if(a.numItems++,a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange){a.inElseMode&&(a._domrange.removeMember(0),a.inElseMode=!1);var r=c._materializeView(e,a);a._domrange.addMember(r,n)}else a.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){a.numItems--,a.expandedValueDep?a.expandedValueDep.changed():a._domrange?(a._domrange.removeMember(n),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a._domrange.addMember(c._materializeView(c.View("each_else",a.elseFunc),a),0))):a.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else{var e;e=a._domrange?a._domrange.getMember(i).view:a.initialSubviews[i],e.dataVar.set(t)}})},movedTo:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange)a._domrange.moveMember(n,i);else{var e=a.initialSubviews,t=e[n];e.splice(n,1),e.splice(i,0,t)}})}}),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a.initialSubviews[0]=c.View("each_else",a.elseFunc))}),a.onViewDestroyed(function(){a.stopHandle&&a.stopHandle.stop()}),a},c._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?c._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View&&(e._hasGeneratedParent=!0),e};return n=c.With(a,i),n.__isTemplateWith=!0,n},c._InOuterTemplateScope=function(e,t){var n=c.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r}),n},c.InOuterTemplateScope=c._InOuterTemplateScope}.call(this),function(){c._globalHelpers={},c.registerHelper=function(e,t){c._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:i.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=c.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};c._OLDSTYLE_HELPER={};var n=c._getTemplateHelper=function(e,t){var n=!1;if(e.__helpers.has(t)){var r=e.__helpers.get(t);if(r!==c._OLDSTYLE_HELPER)return r;n=!0}return t in e?(n||(e.__helpers.set(t,c._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||c._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),e[t]):null},r=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return c.Template._withTemplateInstanceFunc(t,function(){return c._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};c.View.prototype.lookup=function(e,a){var o=this.template,s=a&&a.template,u,l;if(this.templateInstance&&(l=i.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return c._parentData(e.length-1,!0)}return o&&null!=(u=n(o,e))?r(t(u),l):s&&e in c.Template&&c.Template[e]instanceof c.Template?c.Template[e]:null!=c._globalHelpers[e]?r(t(c._globalHelpers[e]),l):function(){var t=arguments.length>0,n=c.getData();if(s&&(!n||!n[e]))throw new Error("No such template: "+e);if(t&&(!n||!n[e]))throw new Error("No such function: "+e);if(!n)return null;var r=n[e];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)};return null},c._parentData=function(e,t){null==e&&(e=1);for(var n=c.getView("with"),r=0;e>r&&n;r++)n=c.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},c.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){c.Template=function(e,n){if(!(this instanceof c.Template))return new c.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=c.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},c.isTemplate=function(e){return e instanceof c.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){
this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,o=c.View(a.viewName,a.renderFunction);o.template=a,o.templateContentBlock=t?new e("(contentBlock)",t):null,o.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&o._onViewRendered(function(){1===o.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),i.each(a.__eventMaps,function(e){c._addEventMap(o,e,o)}))}),o._templateInstance=new c.TemplateInstance(o),o.templateInstance=function(){var e=o._templateInstance;return e.data=c.getData(o),o._domrange&&!o.isDestroyed?(e.firstNode=o._domrange.firstNode(),e.lastNode=o._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var s=a._getCallbacks("created");o.onViewCreated(function(){n(s,o.templateInstance())});var u=a._getCallbacks("rendered");o.onViewReady(function(){n(u,o.templateInstance())});var l=a._getCallbacks("destroyed");return o.onViewDestroyed(function(){n(l,o.templateInstance())}),o},c.TemplateInstance=function(e){if(!(this instanceof c.TemplateInstance))return new c.TemplateInstance(e);if(!(e instanceof c.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},c.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},c.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},c.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},c.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},c.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=i.toArray(arguments),r={};if(n.length){var a=i.last(n);i.isFunction(a)?r.onReady=n.pop():a&&i.any([a.onReady,a.onError,a.onStop],i.isFunction)&&(r=n.pop())}var o,s=r.onStop;return r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)},n.push(r),o=e.view.subscribe.call(e.view,n),i.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},c.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=i.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=c.getData(t.currentTarget);null==a&&(a={});var o=Array.prototype.slice.call(arguments),s=i.bind(r.templateInstance,r);return o.splice(1,0,s()),e._withTemplateInstanceFunc(s,function(){return n.apply(a,o)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=c.getData,e.parentData=c._parentData,e.registerHelper=c.registerHelper}.call(this),function(){l=c,c.ReactiveVar=u,l._templateInstance=c.Template.instance,d={},d.registerHelper=c.registerHelper,d._escape=c._escape,d.SafeString=function(e){this.string=e},d.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:c,UI:l,Handlebars:d}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a=Package.blaze.Blaze,t=Package.blaze.UI,o=Package.blaze.Handlebars,d=Package.htmljs.HTML,c;(function(){c=a.Template;var e="__proto__ name".split(" ");c.__checkName=function(a){if(a in c||n.contains(e,a)){if(c[a]instanceof c&&"body"!==a)throw new Error("There are multiple templates named '"+a+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+a)}},c.__define__=function(e,n){c.__checkName(e),c[e]=new c("Template."+e,n),c[e]._NOWARN_OLDSTYLE_HELPERS=!0},c.body=new c("body",function(){var e=this;return n.map(c.body.contentRenderFuncs,function(n){return n.apply(e)})}),c.body.contentRenderFuncs=[],c.body.view=null,c.body.addContent=function(e){c.body.contentRenderFuncs.push(e)},c.body.renderToDocument=function(){if(!c.body.view){var e=a.render(c.body,document.body);c.body.view=e}},t.body=c.body,c.__body__=c.body,c.__body__.__contentParts=c.body.contentViews,c.__body__.__instantiate=c.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.ejson.EJSON,r;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){r={},r.utils={},r.utils.assert=function(e,t){if(!e)throw new Error(t)},r.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},r.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},r.utils.inherits=function(e,o,i){r.utils.assert("undefined"!=typeof e,"Child is undefined in inherits function"),r.utils.assert("undefined"!=typeof o,"Parent is undefined in inherits function");for(var a in o)t.has(o,a)&&(e[a]=n.clone(o[a]));var s=function(){this.constructor=e};return s.prototype=o.prototype,e.prototype=new s,e.__super__=o.prototype,t.isObject(i)&&t.extend(e.prototype,i),e},r.utils.extend=function(e,n){n=n||{};var o=function(){var e;e=t.has(n,"constructor")?n.constructor:o.__super__.constructor,e.apply(this,arguments)};return r.utils.inherits(o,e,n)},r.utils.global=function(){return e.isClient?window:global}(),r.utils.namespace=function(e,t){var n=r.utils.global,o,i,a,s;r.utils.assert("string"==typeof e,"namespace must be a string"),o=e.split("."),a=o.pop(),s=n;for(var u=0;u<o.length;u++)i=o[u],s=s[i]=s[i]||{};return 2===arguments.length?(s[a]=t,t):s[a]},r.utils.resolve=function(e){var t=r.utils.global,n,o;if("string"==typeof e){n=e.split("."),o=t;for(var i=0;i<n.length;i++)if(o=o[n[i]],!o)return void 0}else o=e;return o},r.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},r.utils.classCase=function(e){var n=/_|-|\.|\//;return e?t.map(e.split(n),function(e){return r.utils.capitalize(e)}).join(""):""},r.utils.camelCase=function(e){var t=r.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},r.utils.notifyDeprecated=function(e){var n,r,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";t.isObject(e)?(n=e.name,r=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,n="",r="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",i)+" "+(new Error).stack)},r.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return r.utils.withDeprecatedNotice(e,t)},r.utils.debug=function(e){return r.utils.assert("string"==typeof e,"debug requires a package name"),function n(){if(console&&console.log&&r.debug===!0){var n=t.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},r.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return void 0;e=e[arguments[t]]}return e},r.utils.global.Iron=r}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.ui.Blaze,n=Package.ui.UI,a=Package.ui.Handlebars,r=Package.underscore._,i=Package.jquery.$,o=Package.jquery.jQuery,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package["reactive-var"].ReactiveVar,l=Package.templating.Template,p=Package.random.Random,h=Package["iron:core"].Iron,d=Package.htmljs.HTML,m;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){l.__checkName("__DynamicTemplateError__"),l.__DynamicTemplateError__=new l("Template.__DynamicTemplateError__",function(){var e=this;return d.DIV({style:"margin: 0 auto; color: red;"},"\n    ",t.View("lookup:msg",function(){return Spacebars.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=h.utils.debug("iron:dynamic-template"),a=h.utils.assert,o=h.utils.get,d=h.utils.camelCase,f=function(e){return Object.prototype.toString.call(e)};m=function(e){this._id=p.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new s.Dependency,this._dataDep=new s.Dependency,this._lookupHostDep=new s.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},m.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},m.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},m.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},m.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},m.prototype.create=function(e){var n=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var a=c(null),i=t.View("DynamicTemplate",function(){var e=this,r=a.get();return t.With(function(){var t=n.data();return"undefined"!=typeof t?t:m.getParentDataContext(e)},function(){return n.renderView(r)})});return i.onViewCreated(function(){this.autorun(function(){a.set(n.template())})}),r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){i[e](function(){n._runHooks(e,this)})}),i._onViewRendered(function(){n.isInserted=!0,1===i.renderCount&&n._attachEvents()}),i.onViewDestroyed(function(){n._detachEvents()}),i._templateInstance=new t.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=t.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=i,i.__dynamicTemplate__=this,i.name=this.name,i},m.prototype.renderView=function(e){var n=this,a=null;return"string"==typeof e?(a=l[e],a||(a=l[d(e)]),a||(a=t.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(d(e))+". Are you sure you defined it?"},function(){return l.__DynamicTemplateError__}))):"[object Object]"===f(e)?a=e:"undefined"!=typeof n._content&&(a=n._content),a},m.prototype.destroy=function(){this.isCreated&&(t.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){m.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),m.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)a=n[r],a.call(t,this)},m.prototype.events=function(e,n){var a=this;this._detachEvents(),this._eventThisArg=n;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=t.getData(e.currentTarget);null==i&&(i={});var o=a.view.templateInstance();return r.call(n||this,e,o,i)}}(i,e[i]);this._attachEvents()},m.prototype._attachEvents=function(){var e=this,n=e._eventThisArg,a=e._eventMap,i=e.view,o=e._eventHandles;if(i){var s=i._domrange;if(!s)throw new Error("no domrange");var u=function(n,s){r.each(a,function(a,u){var c=u.split(/,\s+/);r.each(c,function(r){var u=r.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");o.push(t._EventSupport.listen(s,c,l,function(r){if(!n.containsElement(r.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return t._withCurrentView(i,function(){return a.apply(o,s)})},n,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},m.prototype._detachEvents=function(){r.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var _=function(e,n,a,i){r.each(a,function(a,o){var s=o.split(/,\s+/);r.each(s,function(r){var o=r.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(t._EventSupport.listen(n,s,u,function(n){if(!e.containsElement(n.currentTarget))return null;var r=i||this,o=arguments;return t._withCurrentView(view,function(){return a.apply(r,o)})},e,function(e){return e.parentRange}))}})})};m.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var n=e.el||document.body,a=i(n);if(0===a.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),t.render(this.view,a[0],e.nextNode,e.parentView),this}},m.prototype._getLookupHost=function(){return this._lookupHostValue},m.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,u.afterFlush(function(){t._lookupHostDep.changed()})),this},m.getParentDataContext=function(e){return m.getDataContext(e&&e.parentView)},m.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},m.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},m.args=function(e){return function(t){var n=m.getInclusionArguments(e);return n?t?n[t]:n:null}},m.extend=function(e){return h.utils.extend(this,e)},m.findFirstLookupHost=function(e){var n,r;for(a(e instanceof t.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){var n=e.__dynamicTemplate__._getLookupHost();if(n)return n}else e=e.parentView;return void 0},m.findLookupHostWithProperty=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,n))return r}e=e.parentView}return void 0},m.findLookupHostWithHelper=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,"constructor","_helpers",n))return r}e=e.parentView}return void 0},"undefined"!=typeof l&&n.registerHelper("DynamicTemplate",new l("DynamicTemplateHelper",function(){var e=m.args(this);return new m({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),h.DynamicTemplate=m}.call(this),function(){var e=h.utils.assert,n=h.utils.get,a=t.View.prototype.lookup;t.View.prototype.lookup=function(e){var r;return r=m.findLookupHostWithHelper(t.getView(),e),r?function i(){var t=n(r,"constructor","_helpers",e),a=[].slice.call(arguments);return"function"==typeof t?t.apply(r,a):t}:a.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,t=Package.blaze.Blaze,r=Package.blaze.UI,o=Package.blaze.Handlebars,i=Package.underscore._,a=Package["iron:core"].Iron,s=Package.htmljs.HTML,c,u,h;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){n.__checkName("__IronDefaultLayout__"),n.__IronDefaultLayout__=new n("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=a.DynamicTemplate,o=a.utils.inherits;c=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},u=function(e){var n=this;u.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},h=u.DEFAULT_REGION="main",o(u,a.DynamicTemplate),u.prototype.region=function(e,n){return this._ensureRegion(e,n)},u.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},u.prototype.render=function(e,n){n=n||{};var t=n.to||n.region||h,r=this.region(t);return this._trackRenderedRegion(t),r.template(e),r.data(n.data),r},u.prototype.has=function(e){return e=e||u.DEFAULT_REGION,!!this._regions[e]},u.prototype.regionKeys=function(){return i.keys(this._regions)},u.prototype.clear=function(e){return e=e||u.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},u.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},u.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},u.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},u.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,i.keys(n)},i.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){u.prototype[e]=function(n){var t=this._regionHooks[e]=this._regionHooks[e]||[];return t.push(n),this}}),u.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},u.prototype._createDynamicTemplate=function(e,n){var t=this,r=new a.DynamicTemplate(n),o=a.utils.capitalize;return r._region=e,i.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},u.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)i=o[a],i.call(n,t.region,t,this)},"undefined"!=typeof n&&(r.registerHelper("yield",new n("yield",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return i.isString(t)?r=t:i.isObject(t)&&(r=t.region),r=r||h,o=n.region(r),o.isCreated&&o.destroy(),o.create()})),r.registerHelper("contentFor",new n("contentFor",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,a=t.data,s;if(i.isString(t))s=t;else{if(!i.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");s=t.region}return n.region(s).template(o||r),n._trackRenderedRegion(s),a&&n.region(s).data(a),null})),r.registerHelper("hasRegion",function(e){var n=c(t.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!i.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),r.registerHelper("Layout",new n("layout",function(){var e=a.DynamicTemplate.args(this),n=new u({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),a.Layout=u}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package["iron:core"].Iron,t,i;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(t,a,s){a&&"[object Array]"!==n(a)&&(s=a,a=null),a=a||[],s=s||{};var c=s.strict,u=s.end!==!1,p=s.sensitive?"":"i",h=0;if(t instanceof RegExp){var l=t.source.match(/\((?!\?)/g)||[];return a.push.apply(a,l.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),o(t,a)}if("[object Array]"===n(t))return t=t.map(function(e){return r(e,a,s).source}),o(new RegExp("(?:"+t.join("|")+")",p),a);t=t.replace(i,function(r,n,t,i,o,s,c,u){if(n)return n;if(u)return"\\"+u;var p="+"===c||"*"===c,l="?"===c||"*"===c;return a.push({name:i||h++,delimiter:t||"/",optional:l,repeat:p}),t=t?"\\"+t:"",o=e(o||s||"[^"+(t||"\\/")+"]+?"),p&&(o=o+"(?:"+t+o+")*"),l?"(?:"+t+"("+o+"))?":t+"("+o+")"});var f="/"===t[t.length-1];return c||(t=(f?t.slice(0,-2):t)+"(?:\\/(?=$))?"),u||(t+=c&&f?"":"(?=\\/|$)"),o(new RegExp("^"+t+(u?"$":""),p),a)}var n=function(e){return Object.prototype.toString.call(e)},i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),o=function(e,r){return e.keys=r,e};t=r}).call(this),function(){function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI component: "+JSON.stringify(e)+" "+r.stack))}}function o(e){try{return decodeURI(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI: "+JSON.stringify(e)+" "+r.stack))}}var a=n.utils.warn;i=function(e,n){n=n||{},this.options=n,this.keys=[],this.regexp=t(e,this.keys,n),this._originalPath=e,r.extend(this,i.parse(e))},i.normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=i.parse(e),n=r.pathname;return"/"!==n.charAt(0)&&(n="/"+n),n.length>1&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1)),n},i.isSameOrigin=function(e,r){var n=i.parse(e),t=i.parse(r),o=n.origin===t.origin;return o},i.fromQueryString=function(n){if(!n)return{};if("string"!=typeof n)throw new Error("expected string");"?"===n.charAt(0)&&(n=n.slice(1));var t=n.split("&"),i={},o;return r.each(t,function(r){var n=r.split("="),t=n[0],o=e(n[1]);"[]"===t.slice(-2)?(t=t.slice(0,-2),i[t]=i[t]||[],i[t].push(o)):i[t]=o}),i},i.toQueryString=function(e){var n=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(r.each(e,function(e,t){r.isArray(e)?r.each(e,function(e){n.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length>0?"?"+n.join("&"):"")},i.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=e.match(r),t=n[1]?n[1].toLowerCase():void 0,o=n[3],a=!!o,s=n[4]?n[4].toLowerCase():void 0,c=s?s.split("@"):[],u,p;2==c.length?(p=c[0],u=c[1]):1==c.length?(u=c[0],p=void 0):(u=void 0,p=void 0);var h=u&&u.split(":")||[],l=h[0],f=h[1],g=t&&u?t+"//"+u:void 0,d=n[5],m=n[8],y=e,v=n[6],w,R=m&&m.indexOf("?")||-1;~R&&!v?(v=m.slice(R),m=m.substr(0,R),w=v.slice(1)):w=n[7];var x=d+(v||""),U=i.fromQueryString(w),S=[t||"",a?"//":"",s||""].join(""),I=[t||"",a?"//":"",s||"",d||"",v||"",m||""].join("");return{rootUrl:S||"",originalUrl:e||"",href:I||"",protocol:t||"",auth:p||"",host:u||"",hostname:l||"",port:f||"",origin:g||"",path:x||"",pathname:d||"",search:v||"",query:w||"",queryObject:U||"",hash:m||"",slashes:a}},i.prototype.test=function(e){return this.regexp.test(i.normalize(e))},i.prototype.exec=function(e){return this.regexp.exec(i.normalize(e))},i.prototype.params=function(r){if(!r)return[];var n=[],t=this.exec(r),a,s=this.keys,c,u;if(!t)throw new Error('The route named "'+this.name+'" does not match the path "'+r+'"');for(var p=1,h=t.length;h>p;++p)c=s[p-1],u="string"==typeof t[p]?e(t[p]):t[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return r=o(r),"undefined"!=typeof r&&(a=r.split("?")[1],a&&(a=a.split("#")[0]),n.hash=r.split("#")[1]||null,n.query=i.fromQueryString(a)),n},i.prototype.resolve=function(e,n){var t,o,a,s=0,c=this._originalPath,u,p,h=[],l=e;if(n=n||{},e=e||[],p=n.query,u=n.hash&&n.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,i,a,s,c,u,p){if(i=i||"",a=a||"",t=e[s],o="undefined"!=typeof t,u&&!o)t="";else if(!o)return void h.push(s);t=r.isFunction(t)?t.call(e):t;var l=r.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/");return i+a+l}).replace(/\*/g,function(n){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return r.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),p=i.toQueryString(p),c+=p,u&&(u=encodeURI(u.replace("#","")),c=c+"#"+u),c=c.replace(/\/+/g,"/"),c=c.replace(/^(.+)\/$/g,"$1"),0==h.length)return c;if(n.throwOnMissingParams===!0)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(h)+". The params object passed in was: "+JSON.stringify(l)+".");return null},n.Url=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package["iron:core"].Iron,r,i,n;(function(){var t=n.Url;r=function(n,r,i){e.isFunction(n)&&(i=i||r||{},r=n,n="/",this.middleware=!0,"undefined"==typeof i.mount&&(i.mount=!0)),"object"==typeof r&&(i=r,r=i.action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof n&&"/"!==n.charAt(0)?this.name=n:r&&r.name?this.name=r.name:"string"==typeof n&&"/"!==n&&(this.name=n.split("/").slice(1).join(".")),n=i.path||n,"string"==typeof n&&"/"!==n.charAt(0)&&(n="/"+n),this.path=n,this.compiledUrl=new t(n,i),e.isString(r)?this.handle=function o(){var t=this[r];if("function"!=typeof t)throw new Error("No method named "+JSON.stringify(r)+" found on handler.");return t.apply(this,arguments)}:e.isFunction(r)&&(this.handle=r)},r.prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},r.prototype.params=function(t){return this.compiledUrl.params(t)},r.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},r.prototype.clone=function(){var t=new r(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var o=n.Url,a=n.utils.assert,s=n.utils.defaultValue;i=function(){this._stack=[],this.length=0},i.prototype._create=function(t,n,i){var o=new r(t,n,i),a=o.name;if(a){if(e.has(this._stack,a))throw new Error("Handler with name '"+a+"' already exists.");this._stack[a]=o}return o},i.prototype.findByName=function(t){return this._stack[t]},i.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},i.prototype.append=function(){var t=this,n=e.toArray(arguments),r={};return"object"==typeof n[n.length-1]&&(r=n.pop()),e.each(n,function(n){if("undefined"!=typeof n)if("function"==typeof n)t.push(n,r);else{if(!e.isArray(n))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,n.concat([r]))}}),this},i.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},i.prototype.insertBefore=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a,n,r,i),this},i.prototype.insertAfter=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a+1,n,r,i),this},i.prototype.concat=function(){var t=new i,n=Array.prototype.concat,r=EJSON.clone(this._stack),o=e.map(e.toArray(arguments),function(t){return EJSON.clone(t._stack)});return t._stack=n.apply(r,o),t.length=t._stack.length,t},i.prototype.dispatch=function h(e,n,r){var i=this,h=e;a("string"==typeof e,"Requires url"),a("object"==typeof n,"Requires context object"),e=o.normalize(e||"/"),s(n,"request",{}),s(n,"response",{}),s(n,"originalUrl",e),s(n,"_method",n.method),s(n,"_handlersForEnv",{client:!1,server:!1}),s(n,"_handled",!1),s(n,"isHandled",function(){return n._handled}),s(n,"willBeHandledOnClient",function(){return n._handlersForEnv.client}),s(n,"willBeHandledOnServer",function(){return n._handlersForEnv.server});var l=function(){if(r)try{r.apply(this,arguments)}catch(t){throw t._punt=!0,t}},c=0,u=t.bindEnvironment(function p(r){var a=i._stack[c++];if(n.url=n.request.url=n.originalUrl,!a)return l.call(n,r);if(!a.test(e,{method:n._method}))return u(r);var s=t.isClient?"client":"server";if(a.middleware||(n._handlersForEnv[a.where]=!0),a.where!==s)return u(r);if(n.next=u,a.mount){var h=o.normalize(a.compiledUrl.pathname),p=e.substr(h.length,e.length);p=o.normalize(p),n.url=n.request.url=p}try{var d=a.handle.length,f=n.request,m=n.response;return r&&4===d?a.handle.call(n,r,f,m,u):!r&&4>d?a.handle.call(n,f,m,u):u(r)}catch(r){if(r._punt)throw r;u(r)}finally{n._handled=!0,n.next=null}});return u(),n.next=null,n},n=n||{},n.MiddlewareStack=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:middleware-stack"]={Handler:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.jquery.$,o=Package.jquery.jQuery,i=Package["iron:core"].Iron,c,s,h,u,l;(function(){var t=i.Url,n="__hash__";c=function(e){var a=t.parse(e),r=a.hash&&a.hash.replace("#",""),o=a.search,i=a.pathname,c=a.rootUrl;if(r&&"!"!==r.charAt(0)){var s=n+"="+r;o=o?o+"&":"?",o+=s,r=""}return!r&&i?r="#!"+i.substring(1):r&&(r="#"+r),[c,r,o].join("")},s=function(a){var r=t.parse(a),o=r.hash&&r.hash.replace("#!","/"),i=r.search,c=r.rootUrl,s;return e.has(r.queryObject,n)?(s="#"+r.queryObject[n],delete r.queryObject[n]):s="",[c,o,t.toQueryString(r.queryObject),s].join("")},h=function(e){var a=t.parse(e),r=a.queryObject;return a.hash&&(r[n]=a.hash.replace("#","")),["!",a.pathname.substring(1),t.toQueryString(r)].join("")}}).call(this),function(){var t=i.Url;u=function(n,a){e.extend(this,t.parse(n),{options:a||{}})},u.prototype.equals=function(t){return t&&t instanceof u&&t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState?!0:!1},u.prototype.isCancelled=function(){return!!this._isCancelled},u.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var n=i.Url,o=null,f=new a.Dependency,p={go:[],popState:[]},y=function(){return/MSIE 9/.test(navigator.appVersion)},g=function(){return/MSIE 8/.test(navigator.appVersion)},d=function(){return!!Package.appcache},S=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},v=function(){return l.options.useHashPaths||g()||y()||d()||S()},k=function(){return!!l.options.useHashPaths},w=function(t,n){e.each(p[t],function(t){t.call(n)})},P=function(t){if(!(t instanceof u))throw new Error("Expected a State instance");return t.equals(o)?!1:(o=t,f.changed(),!0)},m=function(){var t=location.href,e;e=k()?new u(s(t)):new u(t,{historyState:history.state}),w("popState",e),P(e)},j=function(t){var e=q;e&&e(t)},_=function(t,e){e=e||{};var n=new u(t,e);w("go",n),P(n)&&a.afterFlush(function(){n.isCancelled()||(k()?location.hash=h(t):e.replaceState===!0?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},q=function(t){try{var e=t.currentTarget,a=e.href,r=e.pathname+e.search+e.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(e.target)return;if(!n.isSameOrigin(a,location.href))return;t.preventDefault(),_(r)}catch(o){throw t.preventDefault(),o}};l={},l.options={linkSelector:"a[href]",useHashPaths:!1},l.configure=function(t){e.extend(this.options,t||{})},l.get=function(){return f.depend(),o},l.start=function(){if(!this._isStarted){var e=n.parse(location.href);if(v()){if(e.pathname.length>1){var a=c(location.href);window.location=a}this.configure({useHashPaths:!0})}var o=location.href;if(k()){var i=new u(s(o));P(i)}else{if("!"===e.hash.replace("#","")[0])var o=s(o);var h={initial:!0};history.replaceState(h,null,o);var i=new u(o,{historyState:h});P(i)}r(window).on("popstate.iron-location",m),r(window).on("hashchange.iron-location",m),t.startup(function(){r(document).on("click.iron-location",l.options.linkSelector,j)}),this._isStarted=!0}},l.stop=function(){this._isStarted&&(r(window).on("popstate.iron-location"),r(window).on("hashchange.iron-location"),r(document).off("click.iron-location"),this._isStarted=!1)},l.onClick=function(t){q=t},l.go=function(t,e){return _(t,e)},l.onGo=function(t){p.go.push(t)},l.onPopState=function(t){p.popState.push(t)},l.start(),i.Location=l}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:location"]={urlToHashStyle:c,urlFromHashStyle:s}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,a=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,r;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)};r=function(e){if(e)if("string"==typeof e)r._registerDictForMigrate(e,this),this.keys=r._loadMigratedDict(e)||{};else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.keyDeps={},this.keyValueDeps={}},t.extend(r.prototype,{set:function(a,i){var n=this;if("object"==typeof a&&void 0===i)return void n._setObject(a);var r=a;i=e(i);var s="undefined";if(t.has(n.keys,r)&&(s=n.keys[r]),i!==s){n.keys[r]=i;var c=function(e){e&&e.changed()};c(n.keyDeps[r]),n.keyValueDeps[r]&&(c(n.keyValueDeps[r][s]),c(n.keyValueDeps[r][i]))}},setDefault:function(e,t){var a=this;void 0===a.keys[e]&&a.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(r,s){var c=this,o=null;if("undefined"!=typeof Mongo&&(o=Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(s);if(a.active){c._ensureKey(r),t.has(c.keyValueDeps[r],u)||(c.keyValueDeps[r][u]=new a.Dependency);var d=c.keyValueDeps[r][u].depend();d&&a.onInvalidate(function(){c.keyValueDeps[r][u].hasDependents()||delete c.keyValueDeps[r][u]})}var f=void 0;return t.has(c.keys,r)&&(f=i(c.keys[r])),n.equals(f,s)},_setObject:function(e){var a=this;t.each(e,function(e,t){a.set(t,e)})},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new a.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(r._migratedDictData={},r._dictsToMigrate={},r._loadMigratedDict=function(e){return t.has(r._migratedDictData,e)?r._migratedDictData[e]:null},r._registerDictForMigrate=function(e,a){if(t.has(r._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);r._dictsToMigrate[e]=a},e.isClient&&Package.reload){var a=Package.reload.Reload._migrationData("reactive-dict");a&&a.dicts&&(r._migratedDictData=a.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=r._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,o=Package["reactive-dict"].ReactiveDict,r=Package.templating.Template,i=Package["iron:core"].Iron,u=Package.blaze.Blaze,s=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package.htmljs.HTML,p,d;(function(){var t=i.utils.assert,n=function(){for(var t={},e=a.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},o=function(a){var o=n(),r=e.keys(a._dependentsById);e.each(r,function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};p=function(){this._readyDep=new a.Dependency,this._comps=[],this._notReadyCount=0},p.prototype.wait=function(t){var n=this,r=a.currentComputation;o(n._readyDep),a.nonreactive(function(){var o=null,i=a.autorun(function(e){var a=!!t(),r=n._notReadyCount;e.firstRun&&!a?n._notReadyCount++:null!==o&&a!==o&&a===!0?n._notReadyCount--:null!==o&&a!==o&&a===!1&&n._notReadyCount++,o=a,0===r&&n._notReadyCount>0?n._readyDep.changed():r>0&&0===n._notReadyCount&&n._readyDep.changed()});n._comps.push(i),r&&r.onInvalidate(function(){a.afterFlush(function(){i.stop(),n._comps.splice(e.indexOf(n._comps,i),1),o===!1&&(n._notReadyCount--,0===n._notReadyCount&&n._readyDep.changed())})})})},p.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},p.prototype.stop=function(){e.each(this._comps,function(t){t.stop()}),this._comps=[]},i.WaitList=p}).call(this),function(){var t=i.utils.debug("iron:controller"),n=i.Layout,a=i.DynamicTemplate,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d=function(t){var e=this;this.options=t||{},this._layout=this.options.layout||new n(this.options),this._isController=!0,this._layout._setLookupHost(this);var a=d._collectEventMaps.call(this.constructor);this._layout.events(a,this),this.init(t)},d.prototype.layout=function(t,n){var a=this;return this._layout.template(t),n&&e.has(n,"data")&&this._layout.data(o(n.data,this)),{data:function(t){return a._layout.data(o(t,a))}}},d.prototype.render=function(t,e){var n=this;e&&"undefined"!=typeof e.data&&(e.data=o(e.data,this));var a=this._layout.render(t,e);return{data:function(t){return a.data(o(t,n))}}},d.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},d.extend=function(t){return i.utils.extend(this,t)},d.events=function(t){return this._eventMap=t,this};var s=function(t,n){var a={};return t.__super__&&e.extend(a,s(t.__super__.constructor,n)),e.has(t,n)?e.extend(a,t[n]):a};d._collectEventMaps=function(){return s(this,"_eventMap")},d._helpers={},d.helpers=function(t){return e.extend(this._helpers,t),this},"undefined"!=typeof r&&(i.controller=function(){return a.findLookupHostWithProperty(u.getView(),"_isController")},r.registerHelper("get",function(t){var e=i.controller();return e&&e.state?e.state.get(t):void 0})),i.Controller=d}.call(this),function(){var t=i.Layout,n=i.utils.debug("iron:controller"),a=i.utils.defaultValue,r=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};d.prototype.init=function(t){this._waitlist=new p,this.state=new o},d.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},d.prototype.wait=function(t){var n=this;if(t)return e.isArray(t)?e.each(t,function a(t){n.wait(t)}):this._waitlist.wait(t.ready?function(){return t.ready()}:t),this},d.prototype.ready=function(){return this._waitlist.ready()},d.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,o=Package.tracker.Tracker,e=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package.templating.Template,u=Package.ejson.EJSON,s=Package.meteor.Meteor,l=Package["iron:core"].Iron,p=Package.htmljs.HTML,c,h,f,d,y,m;(function(){f=new s.EnvironmentVariable}).call(this),function(){d=["get","post","put","delete","patch"]}.call(this),function(){var o=l.Controller,e=l.Url,r=l.MiddlewareStack,n=l.utils.assert;h=o.extend({constructor:function(o){h.__super__.constructor.apply(this,arguments),o=o||{},this.options=o,this._onStopCallbacks=[],this.route=o.route,this.params=[];var e=this.lookupOption("data");"function"==typeof e?this.data=t.bind(e,this):"undefined"!=typeof e&&(this.data=function(){return e}),this.init(o)}}),h.prototype.lookupOption=function(o){if(this.route&&this.route.options&&t.has(this.route.options,o))return this.route.options[o];if(t.has(this.options,o))return this.options[o];if("undefined"!=typeof this[o])return this[o];var e=f.get();return e&&t.has(e,o)?e[o]:this.router&&this.router.options&&t.has(this.router.options,o)?this.router.options[o]:void 0},h.prototype.configureFromUrl=function(t,o,e){n("string"==typeof t,"url must be a string"),o=o||{},this.request=o.request||{},this.response=o.response||{},this.url=o.url||t,this.originalUrl=o.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),e)},h.prototype._collectHooks=function(){var o=this,e=t.toArray(arguments),r=function(e){if(!e)return[];var r=o.router.lookupHook,n=t.isArray(e)?e:[e];return t.map(n,function(t){return r(t)})},n=function(o,e){var i=[];return o.__super__&&(i=i.concat(n(o.__super__.constructor,e))),t.has(o.prototype,e)?i.concat(r(o.prototype[e])):i},i=function(t){for(var o=0;o<e.length;o++)t(e[o])},a=[];i(function(t){var e=o.route&&o.route.getName(),r=o.router.getHooks(t,e);a=a.concat(r)});var u=[];i(function(t){var e=n(o.constructor,t);u=u.concat(e)});var s=[];i(function(e){if(t.has(o,e)){var n=r(o[e]);s=s.concat(n)}});var l=[];o.route&&i(function(t){var e=r(o.route.options[t]);l=l.concat(e)});var p=a.concat(l).concat(u).concat(s);return p},h.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),o=0,e=t.length;e>o;o++){var r=t[o];r.call(this)}return t.length},h.prototype.getParams=function(){return this.params},h.prototype.setParams=function(t){return this.params=t,this},l.RouteController=h}.call(this),function(){var r=l.Controller,n=l.Url,i=l.MiddlewareStack,a=l.utils.debug("iron-router:RouteController");if(h.prototype.init=function(t){h.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new o.Dependency,this.location=l.Location},h.prototype.getParams=function(){return this._paramsDep.depend(),this.params},h.prototype.setParams=function(o,e){var r=function(o,r){if(!(o instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!u.equals(o[n],r[n],e))return!1;var i=t.keys(o),a=t.keys(r),s;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(s=i[n],!t.has(r,s))return!1;if(!u.equals(o[s],r[s]))return!1}return!0};if(!r(this.params,o))return this.params=o,e=e||{},e.reactive!==!1&&this._paramsDep.changed(),this},h.prototype.dispatch=function(t,o,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return e.nonreactive(function(){e.autorun(function(e){n._computation=e,t.dispatch(o,n,r)})}),n},h.prototype._runRoute=function(o,r,n){var a=this,u=this._collectHooks("subscriptions");t.each(u,function(t){a.wait(t.call(a))});var s=this._collectHooks("waitOn");t.each(s,function(t){a.wait(t.call(a))});var p=s.length>0,c,f,d=function(){return e.nonreactive(function(){return a._layout.template()})},y=function(){return e.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},m=d(),_=y();this.beginRendering(function R(o){if(!a.isStopped){var e=d(),r=y();if(m!==e||_!=r){var n=a._layout.regionKeys(),i=t.difference(n,o);t.each(i,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function b(t,o,e){this._computation.firstRun&&!h._hasJustReloaded&&v.length>0?v.dispatch(t.url,this,e):e(),h._hasJustReloaded=!1},function C(t,o,e){this._computation.firstRun?e():k.length>0?k.dispatch(t.url,this,e):e()},{where:"client"}),p&&g.push(t.bind(l.Router.hooks.loading,a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===o._actionStack.length&&o._actionStack.push(o._path,"action",o.options),g=g.concat(o._actionStack),this._rendered=!1,g.dispatch(r,this,n),e.afterFlush(function(){l.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},h.prototype.action=function(){this.render()},h.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},h.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},h.prototype.render=function(t,o){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),e=h.__super__.render.call(this,t);return this.renderRegions(),e}return h.__super__.render.call(this,t,o)},h.prototype.renderRegions=function(){var o=this,e=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(e)),t.each(e,function(t,e){o.render(e,t)})},h.prototype.stop=function(){h.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},h.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},h.prototype.subscribe=function(){var o=this,e=s.subscribe.apply(this,arguments);return t.extend(e,{wait:function(){o.wait(this)}})},Package.reload){Package.reload.Reload._onMigrate("iron-router",function(){return[!0,!0]});var p=Package.reload.Reload._migrationData("iron-router");h._hasJustReloaded=p}}.call(this),function(){var o=l.Url,e=l.MiddlewareStack,r=l.utils.assert;y=function(o,r,n){var i=function(t,o,e){var r=this;r.request=t,r.response=o,i.dispatch(t.url,r,e)};return"object"==typeof r&&(n=r,r=n.action),n=n||{},"string"==typeof o&&"/"!==o.charAt(0)&&(o=n.path?n.path:"/"+o),t.extend(i,this.constructor.prototype),n=i.options=n||{},i._actionStack=new e,i._beforeStack=new e,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new e,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(o,t.extend(n,{template:r})):("function"==typeof r||"object"==typeof r)&&i._actionStack.push(o,r,n),i._path=o,i},y.prototype.getName=function(){return this.handler&&this.handler.name},y.prototype.findControllerConstructor=function(){var t=this,o=function(t,o){o=o||{};var e=l.utils.resolve(t);if(e&&h.prototype.isPrototypeOf(e.prototype))return e;if(o.supressErrors!==!0)throw new Error("RouteController '"+t+"' is not defined.");return void 0},e=function(o){return t.router.toControllerName(o)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?o(this.options.controller):this.router&&this.router.options.controller?"function"==typeof this.router.options.controller?this.router.options.controller:"string"==typeof this.router.options.controller?o(this.router.options.controller):void 0:n&&(r=o(e(n),{supressErrors:!0}))?r:h},y.prototype.createController=function(t){t=t||{};var o=this.findControllerConstructor();t.route=this;var e=new o(t);return e},y.prototype.setControllerParams=function(t,o){},y.prototype.dispatch=function(t,o,e){return r(o._runRoute,"context doesn't have a _runRoute method"),o._runRoute(this,t,e)},y.prototype.path=function(t,o){return this.handler.resolve(t,o)},y.prototype.url=function(t,o){var e=this.path(t,o),r=o&&o.host||s.absoluteUrl();return"/"===r.charAt(r.length-1),r=r.slice(0,r.length-1),r+e},y.prototype.params=function(t){return this.handler.params(t)},t.each(d,function(t){y.prototype[t]=function(o){return this._methods[t]=!0,this._actionStack.push(this._path,o,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),l.Route=y}.call(this),function(){var o=l.MiddlewareStack,e=l.Url,r=l.Layout,n=l.utils.warn,i=l.utils.assert;c=function(e){function r(t,o,e){r.dispatch(t.url,{request:t,response:o},e)}return r._stack=new o,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,e),t.extend(r,this.constructor.prototype),this.init.call(r,e),s.startup(function(){s.defer(function(){r.options.autoStart!==!1&&r.start()})}),r},c.prototype.init=function(t){},c.prototype.configure=function(o){var e=this;o=o||{};var r=function(o){return o?t.isArray(o)?o:[o]:[]};return t.each(l.Router.HOOK_TYPES,function n(i){o[i]&&(t.each(r(o[i]),function a(t){e.addHook(i,t)}),delete o[i])}),this.options=this.options||{},t.extend(this.options,o),this},c.prototype.map=function(t){return t.call(this)},c.prototype.route=function(t,o,e){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof o&&(e=o,o=e.action);var n=new y(t,o,e);e=e||{},e.mount=!1;var a=this._stack.push(t,n,e);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},c.prototype.findFirstRoute=function(t){for(var o,e,r=0;r<this.routes.length;r++)if(m=this.routes[r],o=m.handler.test(t,{where:s.isServer?"server":"client"}))return m;return null},c.prototype.path=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(o,e)},c.prototype.url=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(o,e)},c.prototype.createController=function(t,o){var e=this.findFirstRoute(t),r;return o=o||{},r=e?e.createController({layout:this._layout}):new h({layout:this._layout}),r.router=this,r.configureFromUrl(t,o,{reactive:!1}),r},c.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},c.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},c.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):l.utils.classCase(t)},c.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):l.utils.classCase(t)+"Controller"},c.prototype.addHook=function(o,e,r){var n=this;r=r||{};var i=function(o){return o?t.isArray(o)?o:[o]:[]};r.only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=this._globalHooks[o]=this._globalHooks[o]||[],u=function(){var t=this,o=arguments;return f.withValue(r,function(){return n.lookupHook(e).apply(t,o)})};return a.push({options:r,hook:u}),this},c.prototype.lookupHook=function(o){var e=o;if(t.isFunction(e))return e;if(t.isString(e)&&t.isFunction(l.Router.hooks[e]))return l.Router.hooks[e];throw new Error("No hook found named: "+o)},c.prototype.getHooks=function(o,e){var r=this,n=[];return t.each(this._globalHooks[o],function(o){var r=o.options;return r.except&&t.include(r.except,e)?[]:r.only&&!t.include(r.only,e)?[]:void n.push(o.hook)}),n},c.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],c.hooks={},c.plugins={},t.each(c.HOOK_TYPES,function(t){c.prototype[t]=function(o,e){this.addHook(t,o,e)}}),c.prototype.plugin=function(t,o){var e;if("function"==typeof t?e=t:"string"==typeof t&&(e=l.Router.plugins[t]),!e)throw new Error("No plugin found named "+JSON.stringify(t));return e.call(this,this,o),this},l.Router=c}.call(this),function(){if("undefined"!=typeof a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),o=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});c.hooks.loading=function(){if(this.ready())return void this.next();var o=this.lookupOption("loadingTemplate");this.render(o||t),this.renderRegions()},c.hooks.dataNotFound=function(){if(!this.ready())return void this.next();var t=this.lookupOption("data"),e,r=this.lookupOption("notFoundTemplate");return"function"!=typeof t||(e=t.call(this))?void this.next():(this.render(r||o),void this.renderRegions())}}.call(this),function(){var o=l.utils.warn,e=l.DynamicTemplate,i=l.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return c.createView()})),n.registerHelper("pathFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return o(p,"pathFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=p.path(l,{query:a,hash:s})),i}),n.registerHelper("urlFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return o(p,"urlFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=p.url(l,{query:a,hash:s})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=e.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));i=i||{};var a="",s=i.query,l=i.hash,h=i.route,f=t.extend({},i.data||e.getParentDataContext(this)),d=c.routes[h],y;o(d,"linkTo couldn't find a route named "+JSON.stringify(h)),d&&(t.each(d.handler.compiledUrl.keys,function(o){var e=o.name;t.has(i,e)&&(f[e]=u.clone(i[e]),delete i[e])}),a=d.path(f,{query:s,hash:l}));var m=t.omit(i,"route","query","hash","data");return m.href=a,r.With(function(){return e.getParentDataContext(n)},function(){return p.A(m,n.templateContentBlock)})}))}.call(this),function(){var o=l.MiddlewareStack,r=l.Url,n=l.Layout,i=l.utils.assert,a="__IronRouterNotFound__",u="__IronRouterNoRoutes__";c.prototype.init=function(t){var o=this;o._currentController=null,o._currentRoute=null,o._currentDep=new e.Dependency,o._locationComputation=null,o._layout=new n({template:o.options.layoutTemplate}),s.startup(function(){setTimeout(function t(){o.options.autoRender!==!1&&o.insert({el:document.body})})})},c.prototype.insert=function(t){return this._layout.insert(t),this},c.prototype.createView=function(){return this._layout.create()},c.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?u:a},c.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},c.prototype.dispatch=function(t,o,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var s=this._currentController,l=this.findFirstRoute(t),p=this._currentRoute;return this._currentRoute=l,this._currentController&&this._currentController.stop(),s&&l&&p===l?s.configureFromUrl(t,o):s=this.createController(t,o),this._currentController=s,s.dispatch(n._stack,t,function c(t){if(t)throw t;if(!s.isHandled()){var o=e.nonreactive(function(){return s.location.get().options.historyState});if(o&&o.initial===!0){this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var i=this.lookupOption("notFoundTemplate");i||(i=0===n.routes.length?u:a),this.render(i,{data:{url:this.url}}),this.renderRegions(),s.isHandled=function(){return!0}}return r&&r.call(s)}}),this._currentController==s&&this._currentDep.changed(),s},c.prototype.current=function(){return this._currentDep.depend(),this._currentController},c.prototype._scrollToHash=function(t){try{var o=$(t);$("html, body").scrollTop(o.offset().top)}catch(e){}},c.prototype.start=function(){var t=this,o;t._locationComputation=e.autorun(function r(e){var r,n=l.Location.get(),i,a,u,s=t._currentController;!s||o&&o.path!==n.path?r=t.dispatch(n.href,null,function p(t){this.isHandled()||(n.cancelUrlChange(),window.location=n.path)}):(t._scrollToHash(n.hash),s.configureFromUrl(n.href)),o=n})},c.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},c.prototype.go=function(o,e,r){var n=this,a=/^\/|http/,u;if(r=r||{},a.test(o))u=o;else{var s=n.routes[o];i(s,"No route found named "+JSON.stringify(o)),u=s.path(e,t.extend(r,{throwOnMissingParams:!0}))}l.Location.go(u,r)}}.call(this),function(){c.plugins.loading=function(t,o){t.onBeforeAction("loading",o)},c.plugins.dataNotFound=function(t,o){t.onBeforeAction("dataNotFound",o)}}.call(this),function(){c=new l.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return p.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",p.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View("lookup:url",function(){return Spacebars.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return p.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://iron-meteor.github.io/iron-router" target="_blank">\n          https://iron-meteor.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={Router:c,RouteController:h}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["fourseven:scss"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["wolves:bourbon"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package.underscore._,r=Package.check.check,a=Package.check.Match,o=Package.random.Random,s,u,l,c,f,p,d;(function(){!function(){"use strict";function e(e){this.s=null!==e&&void 0!==e?"string"==typeof e?e:e.toString():e,this.orig=e,null!==e&&void 0!==e?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=e.length:this.length=-1}function t(){for(var e in c)!function(e){var t=c[e];l.hasOwnProperty(e)||(f.push(e),l[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function n(){for(var e=0;e<f.length;++e)delete String.prototype[f[e]];f.length=0}function i(){for(var e=r(),t={},n=0;n<e.length;++n){var i=e[n],a=l[i];try{var o=typeof a.apply("teststring",[]);t[i]=o}catch(s){}}return t}function r(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(l),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={},n=[];for(var i in String.prototype)t[i]=i;for(var i in Object.prototype)delete t[i];for(var i in t)e.push(i);return e}function a(t){return new e(t)}function o(e,t){var n=[],i;for(i=0;i<e.length;i++)n.push(e[i]),t&&t.call(e,e[i],i);return n}var s="1.5.0",u={},l=String.prototype,c=e.prototype={between:function(t,n){var i=this.s,r=i.indexOf(t),a=i.indexOf(n),o=r+t.length;return new e(a>r?i.slice(o,a):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new e(t)},capitalize:function(){return new e(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(t){var n=this.s;return 0===n.indexOf(t)?(n=n.slice(t.length),new e(n)):this},chompRight:function(t){if(this.endsWith(t)){var n=this.s;return n=n.slice(0,n.length-t.length),new e(n)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new e(t)},contains:function(e){return this.s.indexOf(e)>=0},count:function(e){for(var t=0,n=this.s.indexOf(e);n>=0;)t+=1,n=this.s.indexOf(e,n+1);return t},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new e(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),i=u[t]||t.match(/;$/)&&u[n];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:e}),new e(t)},endsWith:function(e){var t=this.s.length-e.length;return t>=0&&this.s.indexOf(e,t)===t},escapeHTML:function(){return new e(this.s.replace(/[&<>"']/g,function(e){return"&"+m[e]+";"}))},ensureLeft:function(t){var n=this.s;return 0===n.indexOf(t)?this:new e(t+n)},ensureRight:function(t){var n=this.s;return this.endsWith(t)?this:new e(n+t)},humanize:function(){if(null===this.s||void 0===this.s)return new e("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new e(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var n=this.s.substr(0,t);return new e(n)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,n){if(n=n||" ",this.s.length>=t)return new e(this.s);t-=this.s.length;var i=Array(Math.ceil(t/2)+1).join(n),r=Array(Math.floor(t/2)+1).join(n);return new e(i+this.s+r)},padLeft:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:Array(t-this.s.length+1).join(n)+this.s)},padRight:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(n))},parseCSV:function(e,t,n,i){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var r=0,a=[],o=[],s=this.s.length,u=!1,l=this,c=function(e){return l.s.charAt(e)};if("undefined"!=typeof i)var f=[];for(t||(u=!0);s>r;){var p=c(r);switch(p){case n:if(u&&(n!==t||c(r+1)===t)){r+=1,a.push(c(r));break}if(n!==t)break;case t:u=!u;break;case e:u&&t?a.push(p):(o.push(a.join("")),a.length=0);break;case i:u?a.push(p):f&&(o.push(a.join("")),f.push(o),o=[],a.length=0);break;default:u&&a.push(p)}r+=1}return o.push(a.join("")),f?(f.push(o),f):o},replaceAll:function(t,n){var i=this.s.split(t).join(n);return new e(i)},right:function(t){if(t>=0){var n=this.s.substr(this.s.length-t,t);return new e(n)}return this.left(-t)},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new e(t)},startsWith:function(e){return 0===this.s.lastIndexOf(e,0)},stripPunctuation:function(){return new e(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,n=arguments.length>0?arguments:[""];return o(n,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new e(t)},template:function(t,n,i){var r=this.s,n=n||a.TMPL_OPEN,i=i||a.TMPL_CLOSE,o=new RegExp(n+"(.+?)"+i,"g"),s=r.match(o)||[];return s.forEach(function(e){var a=e.substring(n.length,e.length-i.length);t[a]&&(r=r.replace(e,t[a]))}),new e(r)},times:function(t){return new e(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof l.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new e(t)},trimLeft:function(){var t;return t=l.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new e(t)},trimRight:function(){var t;return t=l.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new e(t)},truncate:function(t,n){var i=this.s;if(t=~~t,n=n||"...",i.length<=t)return new e(i);var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=i.slice(0,t+1).replace(/.(?=\W*\w*$)/g,r);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):new e(a.slice(0,a.length-1)).trimRight().s,new e((a+n).length>i.length?i:i.slice(0,a.length)+n)},toCSV:function(){function t(e){return null!==e&&""!==e}var n=",",i='"',r="\\",a=!0,o=!1,s=[];if("object"==typeof arguments[0]?(n=arguments[0].delimiter||n,n=arguments[0].separator||n,i=arguments[0].qualifier||i,a=!!arguments[0].encloseNumbers,r=arguments[0].escape||r,o=!!arguments[0].keys):"string"==typeof arguments[0]&&(n=arguments[0]),"string"==typeof arguments[1]&&(i=arguments[1]),null===arguments[1]&&(i=null),this.orig instanceof Array)s=this.orig;else for(var u in this.orig)this.orig.hasOwnProperty(u)&&s.push(o?u:this.orig[u]);for(var l=r+i,c=[],f=0;f<s.length;++f){var p=t(i);if("number"==typeof s[f]&&(p&=a),p&&c.push(i),null!==s[f]&&void 0!==s[f]){var d=new e(s[f]).replaceAll(i,l).s;c.push(d)}else c.push("");p&&c.push(i),n&&c.push(n)}return c.length=c.length-1,new e(c.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new e(t)},unescapeHTML:function(){return new e(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in h?h[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()}},f=[],p=i();for(var d in p)!function(t){var n=l[t];"function"==typeof n&&(c[t]||(c[t]="string"===p[t]?function(){return new e(n.apply(this,arguments))}:n))}(d);c.repeat=c.times,c.include=c.contains,c.toInteger=c.toInt,c.toBool=c.toBoolean,c.decodeHTMLEntities=c.decodeHtmlEntities,a.extendPrototype=t,a.restorePrototype=n,a.VERSION=s,a.TMPL_OPEN="{{",a.TMPL_CLOSE="}}",a.ENTITIES=u,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.S=a;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},m={};for(var g in h)m[h[g]]=g;u={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)}).call(this),function(){var e=function(e){return e===Object(e)};"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var t=function(t){return e(t)&&Object.getPrototypeOf(t)===Object.prototype},n=function o(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+$/g,".$")},r=function s(e,t){return"$each"===t?e:e?e+"."+t:t},a=function l(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null};u=function(e,o){function s(e,a,u,l,f,p){!l&&u&&"$"===u.substring(0,1)&&(l=u,u=null);var d=!1,h,m=!1;u&&(f||("$push"===l||"$addToSet"===l||"$pop"===l?(t(e)&&"$each"in e?(e=e.$each,a+="[$each]"):u+=".0",f=!0):"$pull"===l&&(u+=".0",t(e)&&(m=!0),f=!0)),h=n(u),d=i.contains(o,h),a&&(c._affectedKeys[a]=u,c._genericAffectedKeys[a]=h,p&&c._positionsInsideArrays.push(a))),m||(i.isArray(e)&&!i.isEmpty(e)?(a&&c._parentPositions.push(a),i.each(e,function(e,t){s(e,a?a+"["+t+"]":t,u+"."+t,l,f,!0)})):(t(e)&&!d||!a)&&(a&&!i.isEmpty(e)&&(c._parentPositions.push(a),c._objectPositions.push(a)),i.each(e,function(t,n){void 0===t?delete e[n]:"$slice"!==n&&s(t,a?a+"["+n+"]":n,r(u,n),l,f,p)})))}function l(){c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj)}var c=this;c._obj=e,c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj),c.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=i.extend({endPointsOnly:!0},t);var n={};i.each(c._affectedKeys,function(r,o){t.endPointsOnly&&i.contains(c._parentPositions,o)||e.call({value:c.getValueForPosition(o),operator:a(o),position:o,key:r,genericKey:c._genericAffectedKeys[o],updateValue:function(e){n[o]=e},remove:function(){n[o]=void 0}})}),i.each(n,function(e,t){c.setValueForPosition(t,e)})},c.getValueForPosition=function(e){for(var n,r=e.split("["),a=c._obj,o=0,s=r.length;s>o;o++)if(n=r[o],"]"===n.slice(-1)&&(n=n.slice(0,-1)),a=a[n],!i.isArray(a)&&!t(a)&&s-1>o)return;return a},c.setValueForPosition=function(e,n){for(var r,a,o=e.split("["),s=c._obj,u=0,f=o.length;f>u;u++)if(a=o[u],"]"===a.slice(-1)&&(a=a.slice(0,-1)),u===f-1)s[a]=n,void 0===n&&delete s[a];else if(void 0===s[a]&&void 0!==n&&(r=o[u+1],r=parseInt(r,10),s[a]=isNaN(r)?{}:[]),s=s[a],!i.isArray(s)&&!t(s)&&f-1>u)return;l()},c.removeValueForPosition=function(e){c.setValueForPosition(e,void 0)},c.getKeyForPosition=function(e){return c._affectedKeys[e]},c.getGenericKeyForPosition=function(e){return c._genericAffectedKeys[e]},c.getInfoForKey=function(e){var t=c.getPositionForKey(e);if(t)return{value:c.getValueForPosition(t),operator:a(t)};for(var n=c.getPositionsForGenericKey(e+".$"),i,r,o=0,s=n.length;s>o;o++)if(i=n[o],r=c.getValueForPosition(i)||c.getValueForPosition(i.slice(0,i.lastIndexOf("["))))return{value:r,operator:a(i)}},c.getPositionForKey=function(e){for(var t in c._affectedKeys)if(c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e)return t},c.getPositionsForGenericKey=function(e){var t=[];for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&t.push(n);return t},c.getValueForKey=function(e){var t=c.getPositionForKey(e);return t?c.getValueForPosition(t):void 0},c.addKey=function(e,t,n){var i=n?n+"["+e+"]":u._keyToPosition(e);c.setValueForPosition(i,t)},c.removeGenericKeys=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&i.contains(e,c._genericAffectedKeys[t])&&c.removeValueForPosition(t)},c.removeGenericKey=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKey=function(e){for(var t in c._affectedKeys)c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKeys=function(e){for(var t=0,n=e.length;n>t;t++)c.removeKey(e[t])},c.filterGenericKeys=function(e){var t,n=[],r=[];for(var a in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(a)&&(t=c._genericAffectedKeys[a],i.contains(n,t)||(n.push(t),t&&!e(t)&&r.push(t)));i.each(r,function(e){c.removeGenericKey(e)})},c.setValueForKey=function(e,t){for(var n in c._affectedKeys)c._affectedKeys.hasOwnProperty(n)&&c._affectedKeys[n]===e&&c.setValueForPosition(n,t)},c.setValueForGenericKey=function(e,t){for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&c.setValueForPosition(n,t)},c.getObject=function(){return c._obj},c.getFlatObject=function(e){e=e||{};var t={};return i.each(c._affectedKeys,function(n,r){("string"==typeof n&&e.keepArrays===!0&&!i.contains(c._positionsInsideArrays,r)&&!i.contains(c._objectPositions,r)||!e.keepArrays&&!i.contains(c._parentPositions,r))&&(t[n]=c.getValueForPosition(r))}),t},c.affectsKey=function(e){return!!c.getPositionForKey(e)},c.affectsGenericKey=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e)return!0;return!1},c.affectsGenericKeyImplicit=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)){var n=c._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var i=e.slice(-2);if(".$"===i&&e.slice(0,-2)===n)return!0}return!1}},u.expandKey=function(e,t,n){for(var i,r,a=t.split("["),o=n,s=0,u=a.length;u>s;s++)r=a[s],"]"===r.slice(-1)&&(r=r.slice(0,-1)),s===u-1?(o[r]=e,void 0===e&&delete o[r]):(i=a[s+1],i=parseInt(i,10),o[r]||(o[r]=isNaN(i)?{}:[])),o=o[r]},u._keyToPosition=function c(e,t){var n="";return i.each(e.split("."),function(e,i){n+=0!==i||t?"["+e+"]":e}),n},u._positionToKey=function f(e){var t=new u({});t.setValueForPosition(e,1);var n=t.getKeyForPosition(e);return t=null,n}}.call(this),function(){l={appendAffectedKey:function e(t,n){return"$each"===n?t:t?t+"."+n:n},shouldCheck:function t(e){if("$pushAll"===e)throw new Error("$pushAll is not supported; use $push + $each");return!i.contains(["$pull","$pullAll","$pop","$slice"],e)},errorObject:function n(e,t,i){return{name:t,type:e,value:i}},isBasicObject:function r(e){return i.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},safariBugFix:function a(e){return"undefined"!=typeof Uint8Array&&e===Uint8Array||"undefined"!=typeof Uint16Array&&e===Uint16Array||"undefined"!=typeof Uint32Array&&e===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&e===Uint8ClampedArray},isNotNullOrUndefined:function o(e){return void 0!==e&&null!==e},extractOp:function s(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null},deleteIfPresent:function u(e,t){t in e&&delete e[t]},looksLikeModifier:function c(e){for(var t in e)if(e.hasOwnProperty(t)&&"$"===t.substring(0,1))return!0;return!1},dateToDateString:function f(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n}}}.call(this),function(){function t(t,n,r){function a(e){var a=this.key;if(!i.contains(s,a)){var o=a.lastIndexOf("."),u=-1===o?"":a.slice(0,o+1),l=!1,c=e.call(i.extend({isSet:void 0!==this.value,unset:function(){l=!0},value:this.value,operator:this.operator,field:function(e){var n=t.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(e){var n=t.getInfoForKey(u+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},r||{}),t.getObject());if(s.push(a),void 0===c)return void(l&&t.removeValueForPosition(this.position));var f,p;if(i.isObject(c))for(var d in c)if(c.hasOwnProperty(d)&&"$"===d.substring(0,1)){f=d,p=c[d];break}!f&&n&&"$"!==this.position.slice(0,1)&&(f="$set",p=c),f?(t.removeValueForPosition(this.position),t.setValueForPosition(f+"["+a+"]",p)):t.setValueForPosition(this.position,c)}}var o=this,s=[];e.isClient&&void 0===r.userId&&(r.userId=e.userId&&e.userId()||null),i.each(o._autoValues,function(e,r){var o,s,c,f;if(-1!==r.indexOf("$")){var p=r.slice(0,r.lastIndexOf("$")+1);c=r.slice(p.length+1),o=u._keyToPosition(c,!0),c="."+c,f=t.getPositionsForGenericKey(p)}else f=t.getPositionsForGenericKey(r),f.length?(s=r,c="",o=""):(s=r,c="",o="",f=n?["$set["+r+"]"]:[u._keyToPosition(r)]);i.each(f,function(n){a.call({key:(s||u._positionToKey(n))+c,value:t.getValueForPosition(n+o),operator:l.extractOp(n),position:n+o},e)})})}function r(t,i){e.startup(function(){n.autorun(function(){t.isValid()||console.log('SimpleSchema invalid keys for "'+i+'" context:',t.invalidKeys())})})}e.isServer&&(c=Npm.require("string")),e.isClient&&(c=window.S);var o={type:a.Any,label:a.Optional(a.OneOf(String,Function)),optional:a.Optional(a.OneOf(Boolean,Function)),min:a.Optional(a.OneOf(Number,Date,Function)),max:a.Optional(a.OneOf(Number,Date,Function)),minCount:a.Optional(a.OneOf(Number,Function)),maxCount:a.Optional(a.OneOf(Number,Function)),allowedValues:a.Optional(a.OneOf([a.Any],Function)),decimal:a.Optional(Boolean),exclusiveMax:a.Optional(Boolean),exclusiveMin:a.Optional(Boolean),regEx:a.Optional(a.OneOf(RegExp,[RegExp])),custom:a.Optional(Function),blackbox:a.Optional(Boolean),autoValue:a.Optional(Function),defaultValue:a.Optional(a.Any),trim:a.Optional(Boolean)},f=function(e,t){var n;if(i.isArray(e)||i.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!c(e).isEmpty()){var r=Number(e);return isNaN(r)?e:r}return e}if(t===Date){if("string"==typeof e&&(n=Date.parse(e),isNaN(n)===!1))return new Date(n);if("number"==typeof e)return new Date(e)}return e},p=function(e){return i.each(e,function(t,n){var r,o;if(t){if(a.test(t.type,s))r=".",o=t.type,t.type=Object;else{if(!a.test(t.type,[s]))return;r=".$.",o=t.type[0],t.type=[Object]}i.each(o._schema,function(t,i){var a=n+r+i;a in e||(e[a]=t)})}}),e},h=function(e){i.each(e,function(t,n){if(i.isArray(t.type)||t.type===Array){var r=n+".$";r in e||(e[r]={}),i.isArray(t.type)&&(e[r].type=t.type[0]),t.label&&(e[r].label=t.label),e[r].optional=!0,"undefined"!=typeof t.min&&(e[r].min=t.min),"undefined"!=typeof t.max&&(e[r].max=t.max),"undefined"!=typeof t.allowedValues&&(e[r].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[r].decimal=t.decimal),"undefined"!=typeof t.exclusiveMax&&(e[r].exclusiveMax=t.exclusiveMax),"undefined"!=typeof t.exclusiveMin&&(e[r].exclusiveMin=t.exclusiveMin),"undefined"!=typeof t.regEx&&(e[r].regEx=t.regEx),"undefined"!=typeof t.blackbox&&(e[r].blackbox=t.blackbox),t.type=Array,i.each(["min","max","allowedValues","decimal","exclusiveMax","exclusiveMin","regEx","blackbox"],function(e){l.deleteIfPresent(t,e)})}})},m=function(e){var t=[],n=[],r,a,o,s;for(i.each(e,function(e,i){for(var a=i.indexOf(".");-1!==a;)r=i.substring(0,a),".$"===r.substring(r.length-2)?a=-1:".$."===i.substring(a,a+3)?(t.push(r),a=i.indexOf(".",a+3)):(n.push(r),a=i.indexOf(".",a+1))}),o=0,s=t.length;s>o;o++)a=t[o],a in e||(e[a]={type:[Object],optional:!0});for(o=0,s=n.length;s>o;o++)a=n[o],a in e||(e[a]={type:Object,optional:!0});return h(e),e},g=function(e){var t={};return i.each(e,function(e){e=a.test(e,s)?e._schema:m(p(e)),i.each(e,function(e,n){t[n]=t[n]||{},i.extend(t[n],e)})}),e.length&&h(t),t},v=function(e,t){var n,r,a={},o;return i.each(e,function(e,s){e.type===Object&&(n=s+".",o=[],i.each(t,function(e){c(e).startsWith(n)&&(r=e.substring(n.length),-1===r.indexOf(".")&&o.push(r))}),a[n]=o)}),a},y=function(e){var t=e,n=t.lastIndexOf(".");if(-1!==n&&(t=t.substring(n+1),"$"===t)){var i=e.split(".");t=i[i.length-2]}return"_id"===t?"ID":c(t).humanize().s};s=function(e,t){var r=this,s=[],u;t=t||{},e=e||{},i.isArray(e)||(e=[e]),r._schema=g(e),r._schemaKeys=[],r._autoValues={},r._blackboxKeys=[],r._validators=[],r._messages={},r._depsMessages=new n.Dependency,r._depsLabels={},i.each(r._schema,function(e,t){if(!a.test(e,o))throw new Error("Invalid definition for "+t+" field.");if(u=t.split(".")[0],r._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');r._autoValues[t]=function l(e){return function(){return null!==this.operator||this.isSet?void 0:e}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');r._autoValues[t]=e.autoValue}r._depsLabels[t]=new n.Dependency,e.blackbox===!0&&r._blackboxKeys.push(t),i.contains(s,u)||s.push(u)}),r._firstLevelSchemaKeys=s,r._objectKeys=v(r._schema,r._schemaKeys),r._validationContexts={}},s.extendOptions=function(e){i.extend(o,e)};var b="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",x="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",_="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",O="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",w="(?:"+[x,_,O].join("|")+")";s.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+b+"$"),WeakDomain:new RegExp("^"+w+"$"),IP:new RegExp("^(?:"+_+"|"+O+")$"),IPv4:new RegExp("^"+_+"$"),IPv6:new RegExp("^"+O+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/},s._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")},s._depsGlobalMessages=new n.Dependency,s.prototype=new a.Where,s.prototype.condition=function(t){var n=this,r,o;if(i.each(t,function(e,t){"$"===t.substring(0,1)?r=!0:o=!0}),r&&o)throw new a.Error("Object cannot contain modifier operators alongside other keys");var s=n.newContext();if(!s.validate(t,{modifier:r,filter:!1,autoConvert:!1})){var u=s.getErrorObject(),l=new a.Error(u.message);throw l.invalidKeys=u.invalidKeys,e.isServer&&(l.sanitizedError=u.sanitizedError),l}return!0},s.prototype.namedContext=function(t){var i=this;return"string"!=typeof t&&(t="default"),i._validationContexts[t]||(i._validationContexts[t]=new d(i),s.debug&&e.isClient&&n.nonreactive(function(){r(i._validationContexts[t],t)})),i._validationContexts[t]},s._validators=[],s.addValidator=function(e){s._validators.push(e)},s.prototype.addValidator=s.prototype.validator=function(e){this._validators.push(e)},s.prototype.pick=function(){var e=this,t=i.toArray(arguments);t.unshift(e._schema);var n=i.pick.apply(null,t);return new s(n)},s.prototype.clean=function(e,n){var r=this;if(n=i.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,trimStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},n||{}),"$pushAll"in e){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),e.$push=e.$push||{};for(var a in e.$pushAll){e.$push[a]=e.$push[a]||{},e.$push[a].$each=e.$push[a].$each||[];for(var o=0,l=e.$pushAll[a].length;l>o;o++)e.$push[a].$each.push(e.$pushAll[a][o]);delete e.$pushAll}}var p=new u(e,r._blackboxKeys);if((n.filter||n.autoConvert||n.removeEmptyStrings||n.trimStrings)&&p.forEachNode(function(){var e=this.genericKey,t,i,a;if(e){if(i=r._schema[e],a=this.value,n.filter&&"$unset"!==this.operator&&!r.allowsKey(e))return"[$each]"===this.position.slice(-7)?p.removeValueForPosition(this.position.slice(0,-7)):this.remove(),void(s.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+e+'", which is not allowed by the schema'));if(void 0!==a){var o=!1;if(n.autoConvert&&"$unset"!==this.operator&&i){var u=f(a,i.type);n.trimStrings&&"string"==typeof u&&(u=c(u).trim().s),void 0!==u&&u!==a&&(!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof u||u.length||(u=void 0,"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))),s.debug&&console.info("SimpleSchema.clean: autoconverted value "+a+" from "+typeof a+" to "+typeof u+" for "+e),this.updateValue(u),o=!0)}o||(n.trimStrings&&"string"==typeof a&&(!i||i&&i.trim!==!1)&&this.updateValue(c(a).trim().s),!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof a||a.length||(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))))}}},{endPointsOnly:!1}),n.getAutoValues&&t.call(r,p,n.isModifier,n.extendAutoValueContext),n.isModifier)for(var d in e)e.hasOwnProperty(d)&&i.isEmpty(e[d])&&delete e[d];return e},s.prototype.schema=function(e){var t=this;return null!==e&&void 0!==e?t._schema[s._makeGeneric(e)]:t._schema},s.prototype.getDefinition=function(e,t,n){var r=this,a=r.schema(e);return a?(a=i.isArray(t)?i.pick(a,t):i.clone(a),i.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){i.isFunction(a[e])&&(a[e]=a[e].call(n||{}))}),a.label=a.label||y(e),a):void 0},s.prototype.keyIsInBlackBox=function(e){var t=this,n=s._makeGeneric(e),i,r;do i=n.lastIndexOf("."),-1!==i&&(n=n.slice(0,i),r=t.getDefinition(n));while(-1!==i&&!r);return!(!r||!r.blackbox)},s.prototype.labels=function(e){var t=this;i.each(e,function(e,n){(i.isString(e)||i.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},s.prototype.label=function(e){var t=this;if(null===e||void 0===e){var n={};return i.each(t.schema(),function(e,i){n[i]=t.label(i)}),n}var r=t.getDefinition(e);if(r){var a=s._makeGeneric(e);return t._depsLabels[a]&&t._depsLabels[a].depend(),r.label}return null},s._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minNumberExclusive:"[label] must be greater than [min]",maxNumberExclusive:"[label] must be less than [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",badDate:"[label] is not a valid date",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:s.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:s.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:s.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:s.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:s.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:s.RegEx.Url,msg:"[label] must be a valid URL"},{exp:s.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[key] is not allowed by the schema"},s.messages=function(e){i.extend(s._globalMessages,e),s._depsGlobalMessages.changed()},s.prototype.messages=function(e){var t=this;i.extend(t._messages,e),t._depsMessages.changed()},s.prototype.messageForError=function(e,t,n,r){function a(t){if("regEx"!==e||!i.isArray(t))return t;var n;return f&&(n=i.find(t,function(e){return e.exp&&e.exp.toString()===f})),n||(n=i.findWhere(t,{exp:null}),n||(n=i.findWhere(t,{exp:void 0}))),n?n.msg:null}var o=this;n=n||o.getDefinition(t,["regEx","label","minCount","maxCount","min","max","type"])||{};

var u=e.indexOf("."),c=null;-1!==u&&(c=e.substring(u+1),c=parseInt(c,10),e=e.substring(0,u));var f;"regEx"===e&&(f=null===c||void 0===c||isNaN(c)?n.regEx:n.regEx[c],f&&(f=f.toString()));var p=e+" "+t,d=s._makeGeneric(t),h=e+" "+d;s._depsGlobalMessages.depend(),o._depsMessages.depend();var m=o._messages[p]||o._messages[h]||o._messages[e];if(m=a(m),m||(m=s._globalMessages[p]||s._globalMessages[h]||s._globalMessages[e],m=a(m)),!m)return"Unknown validation error";m=m.replace("[key]",t),m=m.replace("[label]",o.label(t)),"undefined"!=typeof n.minCount&&(m=m.replace("[minCount]",n.minCount)),"undefined"!=typeof n.maxCount&&(m=m.replace("[maxCount]",n.maxCount)),m=void 0!==r&&null!==r?m.replace("[value]",r.toString()):m.replace("[value]","null");var g=n.min,v=n.max;return n.type===Date||n.type===[Date]?("undefined"!=typeof g&&(m=m.replace("[min]",l.dateToDateString(g))),"undefined"!=typeof v&&(m=m.replace("[max]",l.dateToDateString(v)))):("undefined"!=typeof g&&(m=m.replace("[min]",g)),"undefined"!=typeof v&&(m=m.replace("[max]",v))),n.type instanceof Function&&(m=m.replace("[type]",n.type.name)),m},s.prototype.allowsKey=function(e){var t=this;return i.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var i=n.length,r=e.slice(0,i+2),a=r.slice(0,-1);if(r===n+".$")return!1;if(a===n+".")return!0}return!1})},s.prototype.newContext=function(){return new d(this)},s.prototype.objectKeys=function(e){var t=this;return e?t._objectKeys[e+"."]||[]:t._firstLevelSchemaKeys}}.call(this),function(){function e(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||l.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}f=function t(n,r,a,o,c,f){function p(t,r,a,o,p,d,h,v){if(!o)return void m.push(l.errorObject("keyNotInSchema",r,t,o,c));if(!d&&!o.optional&&(null===t||"$unset"===p||"$rename"===p||void 0===t&&(h||v||!p||"$set"===p)))return void m.push(l.errorObject("required",r,null,o,c));if("$rename"===p&&"string"==typeof t&&!c.allowsKey(t))return void m.push(l.errorObject("keyNotInSchema",t,null,null,c));if("$unset"!==p&&"$rename"!==p&&l.isNotNullOrUndefined(t)){var y=e(o,t,p);if(y)return void m.push(l.errorObject(y,r,t,o,c));if(o.allowedValues&&!i.contains(o.allowedValues,t))return void m.push(l.errorObject("notAllowed",r,t,o,c))}var b=r.lastIndexOf("."),x=-1===b?"":r.slice(0,b+1),_=o.custom?[o.custom]:[];_=_.concat(c._validators).concat(s._validators),i.every(_,function(e){var s=e.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==t,value:t,operator:p,field:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(x+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},f||{}));return"string"==typeof s?(m.push(l.errorObject(s,r,t,o,c)),!1):!0})}function d(e,t,n,r,a,u){var f,h;if(t){if(c.keyIsInBlackBox(t))return;if(f=s._makeGeneric(t),h=c.getDefinition(t),!o||o===t||o===f){var m=i.some(r,function(e){return e.slice(0,t.length+1)===t+"."});p(e,t,f,h,n,m,a,u)}}if(void 0!==e&&null!==e||h&&(h.type!==Object||h.optional)||(e={}),i.isArray(e))i.each(e,function(e,i){d(e,t+"."+i,n,r)});else if(l.isBasicObject(e)&&(!h||!h.blackbox)){var g=i.keys(e),v=i.union(g,c.objectKeys(f));a=f&&".$"===f.slice(-2),i.each(v,function(i){d(e[i],l.appendAffectedKey(t,i),n,r,a,!0)})}}function h(e){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=i.keys(e.$set||{}).concat(i.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(a&&(e.$set=e.$set||{},e.$set=i.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),i.each(e,function(e,n){if("$"!==n.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(l.shouldCheck(n)){if(a&&"$set"===n){var r=i.keys(e);i.each(c.objectKeys(),function(e){i.contains(r,e)||d(void 0,e,n,t)})}i.each(e,function(e,i){("$push"===n||"$addToSet"===n)&&(l.isBasicObject(e)&&"$each"in e?e=e.$each:i+=".0"),d(e,i,n,t)})}})}if(!i.isObject(n))throw new Error("The first argument of validate() or validateOne() must be an object");if(!r&&l.looksLikeModifier(n))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var m=[],g;r?h(n):d(n);var v=[];return m=i.filter(m,function(e){return i.contains(v,e.name)?!1:(v.push(e.name),!0)})}}.call(this),function(){function t(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||l.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}function n(t,n,r){var a=new e.Collection(null),s;if(r)s=o.id(),a.upsert({_id:s},t);else{var l=new u(t),c=new u({});i.each(n,function(e,t){var n;if(e.type===Array&&l.affectsGenericKey(t)?n=[]:e.optional||(n=e.type===Boolean?!0:e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0"),void 0!==n){var i=t.replace(/\.\$/g,".0"),r=u._keyToPosition(i,!1);c.setValueForPosition(r,n)}}),c=c.getObject(),s=a.insert(c),a.update(s,t)}var f=a.findOne(s);return a.remove(s),n._id||delete f._id,f}p=function r(e,a,o,c,f,p){function d(n,r,a,o,c,d,h){if(!o)return void g.push(l.errorObject("keyNotInSchema",r,n,o,f));if(!(d||o.optional||null!==n&&void 0!==n))return void g.push(l.errorObject("required",r,null,o,f));if(l.isNotNullOrUndefined(n)){var m=t(o,n,c);if(m)return void g.push(l.errorObject(m,r,n,o,f));if(o.allowedValues&&!i.contains(o.allowedValues,n))return void g.push(l.errorObject("notAllowed",r,n,o,f))}var y=r.lastIndexOf("."),b=-1===y?"":r.slice(0,y+1),x=o.custom?[o.custom]:[];x=x.concat(f._validators).concat(s._validators),i.every(x,function(t){var s=t.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==n,value:n,operator:c,field:function(t){v=v||new u(e,f._blackboxKeys);var n=v.getInfoForKey(t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(t){v=v||new u(e,f._blackboxKeys);var n=v.getInfoForKey(b+t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},p||{}));return"string"==typeof s?(g.push(l.errorObject(s,r,n,o,f)),!1):!0})}function h(e,t,n,r){var a,o;if(t){if(f.keyIsInBlackBox(t))return;a=s._makeGeneric(t),o=f.getDefinition(t),c&&c!==t&&c!==a||d(e,t,a,o,null,n,r)}if(void 0!==e&&null!==e||o&&(o.type!==Object||o.optional)||(e={}),i.isArray(e))i.each(e,function(e,n){h(e,t+"."+n)});else if(l.isBasicObject(e)&&(!o||!o.blackbox)){var u=i.keys(e),p=i.union(u,f._schemaKeys);r=a&&".$"===a.slice(-2),i.each(p,function(i){l.shouldCheck(i)&&h(e[i],l.appendAffectedKey(t,i),n,r)})}}if(!i.isObject(e))throw new Error("The first argument of validate() or validateOne() must be an object");if(a){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var m=i.every(e,function(e,t){return"$"===t.substring(0,1)});if(!m)throw new Error("When the modifier option is true, all validation object keys must be operators");e=n(e,f.schema(),o)}else if(l.looksLikeModifier(e))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var g=[],v;h(e);var y=[];return g=i.filter(g,function(e){return i.contains(y,e.name)?!1:(y.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,i,r,a){var o=!0,s=o?f:p;return s(e,t,n,i,r,a)}d=function r(e){var t=this;t._simpleSchema=e,t._schema=e.schema(),t._schemaKeys=i.keys(t._schema),t._invalidKeys=[],t._deps={},t._depsAny=new n.Dependency,i.each(t._schemaKeys,function(e){t._deps[e]=new n.Dependency})},d.prototype.validate=function a(n,r){var a=this;r=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},r||{}),e.isClient&&void 0===r.extendedCustomContext.userId&&(r.extendedCustomContext.userId=e.userId&&e.userId()||null);var o=t(n,r.modifier,r.upsert,null,a._simpleSchema,r.extendedCustomContext),s=i.pluck(a._invalidKeys,"name");a._invalidKeys=o;var u=i.pluck(a._invalidKeys,"name"),l=i.union(u,s);return a._markKeysChanged(l),0===a._invalidKeys.length},d.prototype.validateOne=function o(n,r,a){var o=this,s,u,l;a=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},a||{}),e.isClient&&void 0===a.extendedCustomContext.userId&&(a.extendedCustomContext.userId=e.userId&&e.userId()||null);var c=t(n,a.modifier,a.upsert,r,o._simpleSchema,a.extendedCustomContext),f=[];for(s=0,u=o._invalidKeys.length;u>s;s++)l=o._invalidKeys[s],l.name!==r&&f.push(l);for(o._invalidKeys=f,s=0,u=c.length;u>s;s++)l=c[s],o._invalidKeys.push(l);return o._markKeysChanged([r]),!o._keyIsInvalid(r)},d.prototype.resetValidation=function u(){var e=this,t=i.pluck(e._invalidKeys,"name");e._invalidKeys=[],e._markKeysChanged(t)},d.prototype.isValid=function l(){var e=this;return e._depsAny.depend(),!e._invalidKeys.length},d.prototype.invalidKeys=function c(){var e=this;return e._depsAny.depend(),e._invalidKeys},d.prototype.addInvalidKeys=function h(e){var t=this;if(e&&e.length){var n=[];i.each(e,function(e){n.push(e.name),t._invalidKeys.push(e)}),t._markKeysChanged(n)}},d.prototype._markKeysChanged=function m(e){var t=this;e&&e.length&&(i.each(e,function(e){var n=s._makeGeneric(e);n in t._deps&&t._deps[n].changed()}),t._depsAny.changed())},d.prototype._getInvalidKeyObject=function g(e,t){var n=this;t=t||s._makeGeneric(e);var r=i.findWhere(n._invalidKeys,{name:e});return r||(r=i.findWhere(n._invalidKeys,{name:t})),r},d.prototype._keyIsInvalid=function v(e,t){return!!this._getInvalidKeyObject(e,t)},d.prototype.keyIsInvalid=function y(e){var t=this,n=s._makeGeneric(e);return t._deps[n]&&t._deps[n].depend(),t._keyIsInvalid(e,n)},d.prototype.keyErrorMessage=function b(e){var t=this,n=s._makeGeneric(e);t._deps[n]&&t._deps[n].depend();var i=t._getInvalidKeyObject(e,n);return i?t._simpleSchema.messageForError(i.type,i.name,null,i.value):""},d.prototype.getErrorObject=function x(){var t=this,n,r=this._invalidKeys;r.length?(n=t.keyErrorMessage(r[0].name),r=i.map(r,function(e){return i.extend({message:t.keyErrorMessage(e.name)},e)})):n="Failed validation";var a=new Error(n);return a.invalidKeys=r,e.isServer&&(a.sanitizedError=new e.Error(400,n)),a}}.call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:simple-schema"]={SimpleSchema:s,MongoObject:u}}();

!function(){var e=Package.meteor.Meteor,t=Package["aldeed:simple-schema"].SimpleSchema,n=Package["aldeed:simple-schema"].MongoObject,i=Package.underscore._,r=Package.check.check,o=Package.check.Match,a=Package.mongo.Mongo,s=Package.ejson.EJSON,a;(function(){function n(t,n,o,a,s){function l(e,n,r,o,l,u){p.clean(e,{filter:r,autoConvert:o,getAutoValues:n,isModifier:"insert"!==t,removeEmptyStrings:l,trimStrings:u,extendAutoValueContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:a,isFromTrustedCode:s,docId:"update"!==t&&"upsert"!==t||!h?void 0:h._id||h,isLocalCollection:S},g.extendAutoValueContext||{})})}var c=this,p=c._c2._simpleSchema,f,m,v,g,_,h,y,C,S=null===c._connection;if(!n.length)throw new Error(t+" requires an argument");if("insert"===t)f=n[0],g=n[1],m=n[2],n="function"==typeof g?[f,g]:"function"==typeof m?[f,m]:[f];else{if("update"!==t&&"upsert"!==t)throw new Error("invalid type argument");h=n[0],f=n[1],g=n[2],m=n[3]}m||"function"!=typeof g||(m=g,g={}),g=g||{},y=n.length-1,C="function"==typeof n[y],_="upsert"===t||"update"===t&&g.upsert===!0,e.isClient&&!m&&(m=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),e.isClient&&C&&(m=n[y]=d(c,g.validationContext,m));var x;f._id&&!p.allowsKey("_id")&&(x=f._id,delete f._id),(e.isServer||S)&&g.getAutoValues===!1&&(o=!0),l(f,(e.isServer||S)&&!o,g.filter!==!1,g.autoConvert!==!1,g.removeEmptyStrings!==!1,g.trimStrings!==!1);var I={};for(var w in f)f.hasOwnProperty(w)&&(I[w]=f[w]);if(e.isServer&&_&&i.isObject(h)){var k=I.$set||{};I.$set=i.clone(h),i.extend(I.$set,k)}e.isClient&&!S&&l(I,!0,!1,!1,!1,!1);var E=p.namedContext(g.validationContext),O;if(O=g.validate===!1?!0:E.validate(I,{modifier:"update"===t||"upsert"===t,upsert:_,extendedCustomContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:a,isFromTrustedCode:s,docId:"update"!==t&&"upsert"!==t||!h?void 0:h._id||h,isLocalCollection:S},g.extendedCustomContext||{})}))return x&&(f._id=x),"insert"===t?n[0]=f:n[1]=f,e.isServer&&C&&(n[y]=u(c,f,g.validationContext,n[y])),n;if(v=r(E),!m)throw v;m(v,!1)}function r(t){var n,i=t.invalidKeys();n=i.length?t.keyErrorMessage(i[0].name):"Failed validation";var r=new Error(n);return r.invalidKeys=i,r.validationContext=t,e.isServer&&(r.sanitizedError=new e.Error(400,n)),r}function l(e,t){var n=t.split("c2_")[1].split(" ")[0],i=t.split("dup key:")[1].split('"')[1];e.addInvalidKeys([{name:n,type:"notUnique",value:i}])}function u(e,t,n,i){return function o(t){if(t&&("MongoError"===t.name&&11001===t.code||t.message.indexOf(!0))&&-1!==t.message.indexOf("c2_")){var o=e.simpleSchema().namedContext(n);l(o,t.message),arguments[0]=r(o)}return i.apply(this,arguments)}}function d(t,n,i){return function o(a){var u=t.simpleSchema().namedContext(n);if(a instanceof e.Error&&400===a.error&&"INVALID"===a.reason&&"string"==typeof a.details){var d=s.parse(a.details);u.addInvalidKeys(d),arguments[0]=r(u)}else a instanceof e.Error&&409===a.error&&a.reason&&-1!==a.reason.indexOf("E11000")&&-1!==a.reason.indexOf("c2_")&&(l(u,a.reason),arguments[0]=r(u));return i.apply(this,arguments)}}function c(e){Package&&Package.insecure&&!f[e._name]&&(e.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},fetch:[],transform:null}),f[e._name]=!0)}function p(t,r){if(!m[t._name]){var o=null===t._connection;t.deny({insert:function(n,i){var r=t.simpleSchema(),a;return e.isServer&&i._id&&!r.allowsKey("_id")&&(a=i._id,delete i._id),r.clean(i,{isModifier:!1,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!0,isUpdate:!1,isUpsert:!1,userId:n,isFromTrustedCode:!1,docId:a,isLocalCollection:o}}),a&&(i._id=a),!1},update:function(e,n,i,r){var a=t.simpleSchema();return a.clean(r,{isModifier:!0,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!1,isUpdate:!0,isUpsert:!1,userId:e,isFromTrustedCode:!1,docId:n&&n._id,isLocalCollection:o}}),!1},fetch:["_id"],transform:null}),t.deny(i.extend({insert:function(i,r){return n.call(t,"insert",[r,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",s.stringify(t.invalidKeys))}],!0,i,!1),!1},update:function(i,r,o,a){return n.call(t,"update",[{_id:r&&r._id},a,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",s.stringify(t.invalidKeys))}],!0,i,!1),!1},fetch:["_id"]},r.transform===!0?{}:{transform:null})),m[t._name]=!0}}t.extendOptions({index:o.Optional(o.OneOf(Number,String,Boolean)),unique:o.Optional(Boolean),denyInsert:o.Optional(Boolean),denyUpdate:o.Optional(Boolean)}),t.messages({notUnique:"[label] must be unique",insertNotAllowed:"[label] cannot be set during an insert",updateNotAllowed:"[label] cannot be set during an update"}),"undefined"==typeof a&&(a={},a.Collection=e.Collection),a.Collection.prototype.attachSchema=function v(n,r){function o(t,n,i,r,o){e.startup(function(){t._collection._ensureIndex(n,{background:!0,name:i,unique:r,sparse:o})})}function a(t,n){e.startup(function(){try{t._collection._dropIndex(n)}catch(e){}})}var s=this;r=r||{},n instanceof t||(n=new t(n)),s._c2=s._c2||{},s._c2._simpleSchema&&r.replace!==!0&&(n=new t([s._c2._simpleSchema,n])),s._c2._simpleSchema=n,e.isServer&&i.each(n.schema(),function(e,t){if("index"in e||e.unique===!0){var n={},i;"index"in e?(i=e.index,i===!0&&(i=1)):i=1;var r="c2_"+t,l=t.replace(/\.\$\./g,".");n[l]=i;var u=!!e.unique&&(1===i||-1===i),d=!!e.optional&&u;i===!1?a(s,r):o(s,n,r,u,d)}}),n.validator(function(){var e=this.definition,t=this.value,n=this.operator;return e.denyInsert&&void 0!==t&&!n?"insertNotAllowed":e.denyUpdate&&n&&("$set"!==n||"$set"===n&&void 0!==t)?"updateNotAllowed":!0}),p(s,r),c(s)},a.Collection.prototype.simpleSchema=function g(){var e=this;return e._c2?e._c2._simpleSchema:null},i.each(["insert","update","upsert"],function(t){var r=a.Collection.prototype[t];a.Collection.prototype[t]=function(){var o=this,a=i.toArray(arguments);if(o._c2){var s=null;try{s=e.userId()}catch(l){}if(a=n.call(o,t,a,!1,s,e.isServer),!a)return"insert"===t?o._makeNewID():void 0}return r.apply(o,a)}});var f={},m={}}).call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:collection2"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n=function(e){var t=this;if(!(t instanceof n))throw new Error('use "new" to construct an EventEmitter');e=e||{},t._eventEmitter={onListeners:{},onceListeners:{},maxListeners:e.maxListeners||10}};var e=function(e,t){var n=this;return n._eventEmitter.maxListeners&&t>n._eventEmitter.maxListeners?"warning: possible EventEmitter memory leak detected. "+t+' listeners added on event "'+e+'". Use emitter.setMaxListeners() to increase limit. ('+n._eventEmitter.maxListeners+")":void 0};n.prototype.setMaxListeners=function(e){this._eventEmitter.maxListeners=e};var r=function(t,n,r){return"undefined"==typeof t[n]&&(t[n]=[]),e.apply(this,[n,t[n].push(r)])};n.prototype.on=function(e,t){var n=r.apply(this,[this._eventEmitter.onListeners,e,t]);return n&&console.warn(new Error(n).stack),this},n.prototype.once=function(e,t){var n=r.apply(this,[this._eventEmitter.onceListeners,e,t]);return n&&console.warn(new Error(n).stack),this};var i=function(e,n){var r=this,i=0;return"undefined"!=typeof e&&t.each(e,function(e){i++,e.apply(r,n)}),i};n.prototype.emit=function(e){var n=this,r=t.rest(arguments),o=0,s=n._eventEmitter.onceListeners[e];return n._eventEmitter.onceListeners[e]=[],o+=i.call(n,n._eventEmitter.onListeners[e],r),o+=i.call(n,s,r),o>0};var o=function(e,t){for(var n=!1,r=[],i=0;i<e.length;i++)n||e[i]!==t?r.push(e[i]):n=!0;return r};n.prototype.off=function(e,t){var n=this;e?"function"==typeof t?("undefined"!=typeof n._eventEmitter.onListeners[e]&&(n._eventEmitter.onListeners[e]=o(n._eventEmitter.onListeners[e],t)),"undefined"!=typeof n._eventEmitter.onceListeners[e]&&(n._eventEmitter.onceListeners[e]=o(n._eventEmitter.onceListeners[e],t))):(n._eventEmitter.onListeners[e]=[],n._eventEmitter.onceListeners[e]=[]):(n._eventEmitter.onListeners={},n._eventEmitter.onceListeners={})},n.prototype.addListener=n.prototype.on,n.prototype.removeListener=n.prototype.off,n.prototype.removeAllListeners=n.prototype.off,n.prototype.one=n.prototype.once,n.prototype.trigger=n.prototype.emit}).call(this),"undefined"==typeof Package&&(Package={}),Package["raix:eventemitter"]={EventEmitter:n}}();

!function(){var e=Package.meteor.Meteor,t;(function(){t={},t.inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorspark:util"]={Util:t}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var e=Package.underscore._,n=Package.meteor.Meteor,r=Package["raix:eventemitter"].EventEmitter,t=Package["meteorspark:util"].Util,a=Package.tracker.Tracker,u=Package.tracker.Deps,s=Package.session.Session,o=Package.jquery.$,i=Package.jquery.jQuery,l=Package.templating.Template,c=Package.blaze.Blaze,f=Package.blaze.UI,p=Package.blaze.Handlebars,m=Package.htmljs.HTML,g,d,b,h;(function(){b={fallback_language:"ua",langauges_tags_regex:"([a-z]{2})(-[A-Z]{2})?",project_translations_domain:"project",browser_path:"/tap-i18n",debug:!1}}).call(this),function(){g={},function(){function e(e,n){if(!n||"function"==typeof n)return e;for(var r in n)e[r]=n[r];return e}function n(e,n,r){var t,a=0,u=e.length,s=void 0===u||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(r)if(s){for(t in e)if(n.apply(e[t],r)===!1)break}else for(;u>a&&n.apply(e[a++],r)!==!1;);else if(s){for(t in e)if(n.call(e[t],t,e[t])===!1)break}else for(;u>a&&n.call(e[a],a,e[a++])!==!1;);return e}function r(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return M[e]}):e}function t(e){var n=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(n){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},r=function(e){if("string"==typeof e)return e;var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")},t=function(e){e=e.replace(/\r\n/g,"\n");for(var n="",r=0;r<e.length;r++){var t=e.charCodeAt(r);128>t?n+=String.fromCharCode(t):t>127&&2048>t?(n+=String.fromCharCode(t>>6|192),n+=String.fromCharCode(63&t|128)):(n+=String.fromCharCode(t>>12|224),n+=String.fromCharCode(t>>6&63|128),n+=String.fromCharCode(63&t|128))}return n},a=function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=t(e);var r="",a,u,s,o,i,l,c,f=0;do a=e.charCodeAt(f++),u=e.charCodeAt(f++),s=e.charCodeAt(f++),o=a>>2,i=(3&a)<<4|u>>4,l=(15&u)<<2|s>>6,c=63&s,isNaN(u)?l=c=64:isNaN(s)&&(c=64),r+=n.charAt(o)+n.charAt(i)+n.charAt(l)+n.charAt(c),a=u=s="",o=i=l=c="";while(f<e.length);return r},u=function(){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])}return e},s=function(e,t,a,o){"function"==typeof a&&(o=a,a={}),a.cache=a.cache||!1,a.data=a.data||{},a.headers=a.headers||{},a.jsonp=a.jsonp||!1,a.async=void 0===a.async?!0:a.async;var i=u({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},s.headers,a.headers),l;if(l="application/json"===i["content-type"]?JSON.stringify(a.data):r(a.data),"GET"===e){var c=[];if(l&&(c.push(l),l=null),a.cache||c.push("_="+(new Date).getTime()),a.jsonp&&(c.push("callback="+a.jsonp),c.push("jsonp="+a.jsonp)),c=c.join("&"),c.length>1&&(t+=t.indexOf("?")>-1?"&"+c:"?"+c),a.jsonp){var f=document.getElementsByTagName("head")[0],p=document.createElement("script");return p.type="text/javascript",p.src=t,void f.appendChild(p)}}n(function(n,r){if(n)return o(n);r.open(e,t,a.async);for(var u in i)i.hasOwnProperty(u)&&r.setRequestHeader(u,i[u]);r.onreadystatechange=function(){if(4===r.readyState){var e=r.responseText||"";if(!o)return;o(r.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},r.send(l)})},o={authBasic:function(e,n){s.headers.Authorization="Basic "+a(e+":"+n)},connect:function(e,n,r){return s("CONNECT",e,n,r)},del:function(e,n,r){return s("DELETE",e,n,r)},get:function(e,n,r){return s("GET",e,n,r)},head:function(e,n,r){return s("HEAD",e,n,r)},headers:function(e){s.headers=e||{}},isAllowed:function(e,n,r){this.options(e,function(e,t){r(-1!==t.text().indexOf(n))})},options:function(e,n,r){return s("OPTIONS",e,n,r)},patch:function(e,n,r){return s("PATCH",e,n,r)},post:function(e,n,r){return s("POST",e,n,r)},put:function(e,n,r){return s("PUT",e,n,r)},trace:function(e,n,r){return s("TRACE",e,n,r)}},i=e.type?e.type.toLowerCase():"get";o[i](e.url,e,function(n,r){200===n?e.success(r.json(),n,null):e.error(r.text(),n,null)})}function a(e,n){"function"==typeof e&&(n=e,e={}),e=e||{},R.extend(E,e),delete E.fixLng,"string"==typeof E.ns&&(E.ns={namespaces:[E.ns],defaultNs:E.ns}),"string"==typeof E.fallbackNS&&(E.fallbackNS=[E.fallbackNS]),("string"==typeof E.fallbackLng||"boolean"==typeof E.fallbackLng)&&(E.fallbackLng=[E.fallbackLng]),E.interpolationPrefixEscaped=R.regexEscape(E.interpolationPrefix),E.interpolationSuffixEscaped=R.regexEscape(E.interpolationSuffix),E.lng||(E.lng=R.detectLanguage()),E.lng?E.useCookie&&R.cookie.create(E.cookieName,E.lng,E.cookieExpirationTime,E.cookieDomain):(E.lng=E.fallbackLng[0],E.useCookie&&R.cookie.remove(E.cookieName)),A=R.toLanguages(E.lng),O=A[0],R.log("currentLng set to: "+O);var r=y;e.fixLng&&(r=function(e,n){return n=n||{},n.lng=n.lng||r.lng,y(e,n)},r.lng=O),z.setCurrentLng(O),P&&E.setJqueryExt&&m();var t;if(P&&P.Deferred&&(t=P.Deferred()),!E.resStore){var a=R.toLanguages(E.lng);"string"==typeof E.preload&&(E.preload=[E.preload]);for(var u=0,s=E.preload.length;s>u;u++)for(var o=R.toLanguages(E.preload[u]),i=0,l=o.length;l>i;i++)a.indexOf(o[i])<0&&a.push(o[i]);return g.sync.load(a,E,function(e,a){j=a,C=!0,n&&n(r),t&&t.resolve(r)}),t?t.promise():void 0}return j=E.resStore,C=!0,n&&n(r),t&&t.resolve(r),t?t.promise():void 0}function u(e,n){"string"==typeof e&&(e=[e]);for(var r=0,t=e.length;t>r;r++)E.preload.indexOf(e[r])<0&&E.preload.push(e[r]);return a(n)}function s(e,n,r){"string"!=typeof n?(r=n,n=E.ns.defaultNs):E.ns.namespaces.indexOf(n)<0&&E.ns.namespaces.push(n),j[e]=j[e]||{},j[e][n]=j[e][n]||{},R.extend(j[e][n],r)}function o(e,n){"string"!=typeof n&&(n=E.ns.defaultNs),j[e]=j[e]||{},j[e][n]={}}function i(e){E.ns.defaultNs=e}function l(e,n){c([e],n)}function c(e,n){var r={dynamicLoad:E.dynamicLoad,resGetPath:E.resGetPath,getAsync:E.getAsync,customLoad:E.customLoad,ns:{namespaces:e,defaultNs:""}},t=R.toLanguages(E.lng);"string"==typeof E.preload&&(E.preload=[E.preload]);for(var a=0,u=E.preload.length;u>a;a++)for(var s=R.toLanguages(E.preload[a]),o=0,i=s.length;i>o;o++)t.indexOf(s[o])<0&&t.push(s[o]);for(var l=[],c=0,f=t.length;f>c;c++){var p=!1,m=j[t[c]];if(m)for(var d=0,b=e.length;b>d;d++)m[e[d]]||(p=!0);else p=!0;p&&l.push(t[c])}l.length?g.sync._fetch(l,r,function(r,t){var a=e.length*l.length;R.each(e,function(e,r){E.ns.namespaces.indexOf(r)<0&&E.ns.namespaces.push(r),R.each(l,function(e,u){j[u]=j[u]||{},j[u][r]=t[u][r],a--,0===a&&n&&(E.useLocalStorage&&g.sync._storeLocal(j),n())})})}):n&&n()}function f(e,n,r){return"function"==typeof n?(r=n,n={}):n||(n={}),n.lng=e,a(n,r)}function p(){return O}function m(){function e(e,n,r){if(0!==n.length){var t="text";if(0===n.indexOf("[")){var a=n.split("]");n=a[1],t=a[0].substr(1,a[0].length-1)}n.indexOf(";")===n.length-1&&(n=n.substr(0,n.length-2));var u;if("html"===t)u=E.defaultValueFromContent?P.extend({defaultValue:e.html()},r):r,e.html(P.t(n,u));else if("text"===t)u=E.defaultValueFromContent?P.extend({defaultValue:e.text()},r):r,e.text(P.t(n,u));else if("prepend"===t)u=E.defaultValueFromContent?P.extend({defaultValue:e.html()},r):r,e.prepend(P.t(n,u));else if("append"===t)u=E.defaultValueFromContent?P.extend({defaultValue:e.html()},r):r,e.append(P.t(n,u));else if(0===t.indexOf("data-")){var s=t.substr("data-".length);u=E.defaultValueFromContent?P.extend({defaultValue:e.data(s)},r):r;var o=P.t(n,u);e.data(s,o),e.attr(t,o)}else u=E.defaultValueFromContent?P.extend({defaultValue:e.attr(t)},r):r,e.attr(t,P.t(n,u))}}function n(n,r){var t=n.attr(E.selectorAttr);if(t||"undefined"==typeof t||t===!1||(t=n.text()||n.val()),t){var a=n,u=n.data("i18n-target");if(u&&(a=n.find(u)||n),r||E.useDataAttrOptions!==!0||(r=n.data("i18n-options")),r=r||{},t.indexOf(";")>=0){var s=t.split(";");P.each(s,function(n,t){""!==t&&e(a,t,r)})}else e(a,t,r);E.useDataAttrOptions===!0&&n.data("i18n-options",r)}}P.t=P.t||y,P.fn.TAPi18next=function(e){return this.each(function(){n(P(this),e);var r=P(this).find("["+E.selectorAttr+"]");r.each(function(){n(P(this),e)})})}}function d(e,n,r,t){if(!e)return e;if(t=t||n,e.indexOf(t.interpolationPrefix||E.interpolationPrefix)<0)return e;var a=t.interpolationPrefix?R.regexEscape(t.interpolationPrefix):E.interpolationPrefixEscaped,u=t.interpolationSuffix?R.regexEscape(t.interpolationSuffix):E.interpolationSuffixEscaped,s="HTML"+u;return R.each(n,function(n,o){var i=r?r+E.keyseparator+n:n;"object"==typeof o&&null!==o?e=d(e,o,i,t):t.escapeInterpolation||E.escapeInterpolation?(e=e.replace(new RegExp([a,i,s].join(""),"g"),o),e=e.replace(new RegExp([a,i,u].join(""),"g"),R.escape(o))):e=e.replace(new RegExp([a,i,u].join(""),"g"),o)}),e}function b(e,n){var r=",",t="{",a="}",u=R.extend({},n);for(delete u.postProcess;-1!=e.indexOf(E.reusePrefix)&&(w++,!(w>E.maxRecursion));){var s=e.lastIndexOf(E.reusePrefix),o=e.indexOf(E.reuseSuffix,s)+E.reuseSuffix.length,i=e.substring(s,o),l=i.replace(E.reusePrefix,"").replace(E.reuseSuffix,"");if(-1!=l.indexOf(r)){var c=l.indexOf(r);if(-1!=l.indexOf(t,c)&&-1!=l.indexOf(a,c)){var f=l.indexOf(t,c),p=l.indexOf(a,f)+a.length;try{u=R.extend(u,JSON.parse(l.substring(f,p))),l=l.substring(0,c)}catch(m){}}}var g=k(l,u);e=e.replace(i,g)}return e}function h(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function v(e){return void 0!==e.count&&"string"!=typeof e.count&&1!==e.count}function _(e,n){n=n||{};var r=x(e,n),t=L(e,n);return void 0!==t||t===r}function y(e,n){return"undefined"==typeof n&&(n={}),C?(w=0,k.apply(null,arguments)):(R.log("i18next not finished initialization. you might have called t function before loading resources finished."),n.defaultValue||"")}function x(e,n){return void 0!==n.defaultValue?n.defaultValue:e}function N(){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return{postProcess:"sprintf",sprintf:e}}function k(e,n){if("undefined"!=typeof n&&null!==n&&"object"!=typeof n?"sprintf"===E.shortcutFunction?n=N.apply(null,arguments):"defaultValue"===E.shortcutFunction&&(n={defaultValue:n}):n=n||{},void 0===e||null===e)return"";"string"==typeof e&&(e=[e]);var r=e[0];if(e.length>1)for(var t=0;t<e.length&&(r=e[t],!_(r,n));t++);var a=x(r,n),u=L(r,n),s=n.lng?R.toLanguages(n.lng):A,o=n.ns||E.ns.defaultNs,i;r.indexOf(E.nsseparator)>-1&&(i=r.split(E.nsseparator),o=i[0],r=i[1]),void 0===u&&E.sendMissing&&(n.lng?H.postMissing(s[0],o,r,a,s):H.postMissing(E.lng,o,r,a,s));var l=n.postProcess||E.postProcess;void 0!==u&&l&&I[l]&&(u=I[l](u,r,n));var c=a;if(a.indexOf(E.nsseparator)>-1&&(i=a.split(E.nsseparator),c=i[1]),c===r&&E.parseMissingKey&&(a=E.parseMissingKey(a)),void 0===u&&(a=d(a,n),a=b(a,n),l&&I[l])){var f=x(r,n);u=I[l](f,r,n)}return void 0!==u?u:a}function L(e,n){n=n||{};var r,t,a=x(e,n),u=A;if(!j)return a;if("cimode"===u[0].toLowerCase())return a;if(n.lng&&(u=R.toLanguages(n.lng),!j[u[0]])){var s=E.getAsync;E.getAsync=!1,g.sync.load(u,E,function(e,n){R.extend(j,n),E.getAsync=s})}var o=n.ns||E.ns.defaultNs;if(e.indexOf(E.nsseparator)>-1){var i=e.split(E.nsseparator);o=i[0],e=i[1]}if(h(n)){r=R.extend({},n),delete r.context,r.defaultValue=E.contextNotFound;var l=o+E.nsseparator+e+"_"+n.context;if(t=y(l,r),t!=E.contextNotFound)return d(t,{context:n.context})}if(v(n)){r=R.extend({},n),delete r.count,r.defaultValue=E.pluralNotFound;var c=o+E.nsseparator+e+E.pluralSuffix,f=z.get(u[0],n.count);if(f>=0?c=c+"_"+f:1===f&&(c=o+E.nsseparator+e),t=y(c,r),t!=E.pluralNotFound)return d(t,{count:n.count,interpolationPrefix:n.interpolationPrefix,interpolationSuffix:n.interpolationSuffix})}for(var p,m=e.split(E.keyseparator),_=0,N=u.length;N>_&&void 0===p;_++){for(var S=u[_],T=0,P=j[S]&&j[S][o];m[T];)P=P&&P[m[T]],T++;if(void 0!==P){var O=Object.prototype.toString.apply(P);if("string"==typeof P)P=d(P,n),P=b(P,n);else if("[object Array]"!==O||E.returnObjectTrees||n.returnObjectTrees){if(null===P&&E.fallbackOnNull===!0)P=void 0;else if(null!==P)if(E.returnObjectTrees||n.returnObjectTrees){if("[object Number]"!==O&&"[object Function]"!==O&&"[object RegExp]"!==O){var w="[object Array]"===O?[]:{};R.each(P,function(r){w[r]=k(o+E.nsseparator+e+E.keyseparator+r,n)}),P=w}}else E.objectTreeKeyHandler&&"function"==typeof E.objectTreeKeyHandler?P=E.objectTreeKeyHandler(e,P,S,o,n):(P="key '"+o+":"+e+" ("+S+")' returned an object instead of string.",R.log(P))}else P=P.join("\n"),P=d(P,n),P=b(P,n);"string"==typeof P&&""===P.trim()&&E.fallbackOnEmpty===!0&&(P=void 0),p=P}}if(void 0===p&&!n.isFallbackLookup&&(E.fallbackToDefaultNS===!0||E.fallbackNS&&E.fallbackNS.length>0))if(n.isFallbackLookup=!0,E.fallbackNS.length){for(var C=0,M=E.fallbackNS.length;M>C;C++)if(p=L(E.fallbackNS[C]+E.nsseparator+e,n)){var F=p.indexOf(E.nsseparator)>-1?p.split(E.nsseparator)[1]:p,D=a.indexOf(E.nsseparator)>-1?a.split(E.nsseparator)[1]:a;if(F!==D)break}}else p=L(e,n);return p}function S(){var e,n=[];if("undefined"!=typeof window&&(!function(){for(var e=window.location.search.substring(1),r=e.split("&"),t=0;t<r.length;t++){var a=r[t].indexOf("=");if(a>0){var u=r[t].substring(0,a),s=r[t].substring(a+1);n[u]=s}}}(),n[E.detectLngQS]&&(e=n[E.detectLngQS])),!e&&"undefined"!=typeof document&&E.useCookie){var r=R.cookie.read(E.cookieName);r&&(e=r)}return e||"undefined"==typeof navigator||(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var t=0;if(arguments.length>0&&(t=Number(arguments[1]),t!=t?t=0:0!=t&&t!=1/0&&t!=-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r)return-1;for(var a=t>=0?t:Math.max(r-Math.abs(t),0);r>a;a++)if(a in n&&n[a]===e)return a;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var t=r;arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:0!=t&&t!=1/0&&t!=-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))));for(var a=t>=0?Math.min(t,r-1):r-Math.abs(t);a>=0;a--)if(a in n&&n[a]===e)return a;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var T=this,P=T.jQuery||T.Zepto,j={},O,w=0,A=[],C=!1;"undefined"!=typeof module&&module.exports?module.exports=g:(P&&(P.TAPi18next=P.TAPi18next||g),T.TAPi18next=T.TAPi18next||g);var E={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,setJqueryExt:!1,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"TAPi18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:["sprintf"],parseMissingKey:void 0,shortcutFunction:"sprintf"},M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},F={create:function(e,n,r,t){var a;if(r){var u=new Date;u.setTime(u.getTime()+60*r*1e3),a="; expires="+u.toGMTString()}else a="";t=t?"domain="+t+";":"",document.cookie=e+"="+n+a+";"+t+"path=/"},read:function(e){for(var n=e+"=",r=document.cookie.split(";"),t=0;t<r.length;t++){for(var a=r[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},D={create:function(e,n,r,t){},read:function(e){return null},remove:function(e){}},R={extend:P?P.extend:e,each:P?P.each:n,ajax:P?P.ajax:"undefined"!=typeof document?t:function(){},cookie:"undefined"!=typeof document?F:D,detectLanguage:S,escape:r,log:function(e){E.debug&&"undefined"!=typeof console&&console.log(e)},toLanguages:function(e){var n=[];if("string"==typeof e&&e.indexOf("-")>-1){var r=e.split("-");e=E.lowerCaseLng?r[0].toLowerCase()+"-"+r[1].toLowerCase():r[0].toLowerCase()+"-"+r[1].toUpperCase(),"unspecific"!==E.load&&n.push(e),"current"!==E.load&&n.push(r[0])}else n.push(e);for(var t=0;t<E.fallbackLng.length;t++)-1===n.indexOf(E.fallbackLng[t])&&E.fallbackLng[t]&&n.push(E.fallbackLng[t]);return n},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};R.applyReplacement=d;var H={load:function(e,n,r){n.useLocalStorage?H._loadLocal(e,n,function(t,a){for(var u=[],s=0,o=e.length;o>s;s++)a[e[s]]||u.push(e[s]);u.length>0?H._fetch(u,n,function(e,n){R.extend(a,n),H._storeLocal(n),r(null,a)}):r(null,a)}):H._fetch(e,n,function(e,n){r(null,n)})},_loadLocal:function(e,n,r){var t={},a=(new Date).getTime();if(window.localStorage){var u=e.length;R.each(e,function(e,s){var o=window.localStorage.getItem("res_"+s);o&&(o=JSON.parse(o),o.i18nStamp&&o.i18nStamp+n.localStorageExpirationTime>a&&(t[s]=o)),u--,0===u&&r(null,t)})}},_storeLocal:function(e){if(window.localStorage)for(var n in e)e[n].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+n,JSON.stringify(e[n]))},_fetch:function(e,n,r){var t=n.ns,a={};if(n.dynamicLoad){var u=function(e,n){r(null,n)};if("function"==typeof n.customLoad)n.customLoad(e,t.namespaces,n,u);else{var s=d(n.resGetPath,{lng:e.join("+"),ns:t.namespaces.join("+")});R.ajax({url:s,success:function(e,n,r){R.log("loaded: "+s),u(null,e)},error:function(e,n,r){R.log("failed loading: "+s),u("failed loading resource.json error: "+r)},dataType:"json",async:n.getAsync})}}else{var o=t.namespaces.length*e.length,i;R.each(t.namespaces,function(t,u){R.each(e,function(e,t){var s=function(e,n){e&&(i=i||[],i.push(e)),a[t]=a[t]||{},a[t][u]=n,o--,0===o&&r(i,a)};"function"==typeof n.customLoad?n.customLoad(t,u,n,s):H._fetchOne(t,u,n,s)})})}},_fetchOne:function(e,n,r,t){var a=d(r.resGetPath,{lng:e,ns:n});R.ajax({url:a,success:function(e,n,r){R.log("loaded: "+a),t(null,e)},error:function(e,n,r){if(n&&200==n||e&&e.status&&200==e.status)R.log("There is a typo in: "+a);else if(n&&404==n||e&&e.status&&404==e.status)R.log("Does not exist: "+a);else{var u=n?n:e&&e.status?e.status:null;R.log(u+" when loading "+a)}t(r,{})},dataType:"json",async:r.getAsync})},postMissing:function(e,n,r,t,a){var u={};u[r]=t;var s=[];if("fallback"===E.sendMissingTo&&E.fallbackLng[0]!==!1)for(var o=0;o<E.fallbackLng.length;o++)s.push({lng:E.fallbackLng[o],url:d(E.resPostPath,{lng:E.fallbackLng[o],ns:n})});else if("current"===E.sendMissingTo||"fallback"===E.sendMissingTo&&E.fallbackLng[0]===!1)s.push({lng:e,url:d(E.resPostPath,{lng:e,ns:n})});else if("all"===E.sendMissingTo)for(var o=0,i=a.length;i>o;o++)s.push({lng:a[o],url:d(E.resPostPath,{lng:a[o],ns:n})});for(var l=0,c=s.length;c>l;l++){var f=s[l];R.ajax({url:f.url,type:E.sendType,data:u,success:function(e,a,u){R.log("posted missing key '"+r+"' to: "+f.url);for(var s=r.split("."),o=0,i=j[f.lng][n];s[o];)i=i[s[o]]=o===s.length-1?t:i[s[o]]||{},o++},error:function(e,n,t){R.log("failed posting missing key '"+r+"' to: "+f.url)},dataType:"json",async:E.postAsync})}}},z={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ay:{name:"Aymará",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(1!=e)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&4>=e?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(1!=e)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(1!=e)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(1==e?0:2==e?1:7>e?2:11>e?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&20>e?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(1!=e)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(1!=e)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(1!=e)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(0!==e)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(e){return Number(1==e?0:2==e?1:3==e?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(1==e||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(0==e?0:1==e?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(1==e?0:0===e||e%100>1&&11>e%100?1:e%100>10&&20>e%100?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(1!=e)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(1!=e)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(1!=e)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(1!=e)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(1==e?0:0===e||e%100>0&&20>e%100?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(1!=e)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(1!=e)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(1==e?0:e>=2&&4>=e?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(1!=e)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(1!=e)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(1!=e)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(1!=e)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(1!=e)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(1!=e)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(1!=e)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,n){z.rules[e]=n},setCurrentLng:function(e){if(!z.currentRule||z.currentRule.lng!==e){var n=e.split("-");z.currentRule={lng:e,rule:z.rules[n[0]]}}},get:function(e,n){function r(n,r){var t;if(t=z.currentRule&&z.currentRule.lng===e&&z.currentRule.rule?z.currentRule.rule:z.rules[n]){var a=t.plurals(r),u=t.numbers[a];return 2===t.numbers.length&&1===t.numbers[0]&&(2===u?u=-1:1===u&&(u=1)),u}return 1===r?"1":"-1"}var t=e.split("-");return r(t[0],n)}},I={},V=function(e,n){I[e]=n},B=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,n){for(var r=[];n>0;r[--n]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,t){var a=1,u=r.length,s="",o,i=[],l,c,f,p,m,g;for(l=0;u>l;l++)if(s=e(r[l]),"string"===s)i.push(r[l]);else if("array"===s){if(f=r[l],f[2])for(o=t[a],c=0;c<f[2].length;c++){if(!o.hasOwnProperty(f[2][c]))throw B('[sprintf] property "%s" does not exist',f[2][c]);o=o[f[2][c]]}else o=f[1]?t[f[1]]:t[a++];if(/[^s]/.test(f[8])&&"number"!=e(o))throw B("[sprintf] expecting number but found %s",e(o));switch(f[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=f[7]?o.toExponential(f[7]):o.toExponential();break;case"f":o=f[7]?parseFloat(o).toFixed(f[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&f[7]?o.substring(0,f[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(f[8])&&f[3]&&o>=0?"+"+o:o,m=f[4]?"0"==f[4]?"0":f[4].charAt(1):" ",g=f[6]-String(o).length,p=f[6]?n(m,g):"",i.push(f[5]?o+p:p+o)}return i.join("")},r.cache={},r.parse=function(e){for(var n=e,r=[],t=[],a=0;n;){if(null!==(r=/^[^\x25]+/.exec(n)))t.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(n)))t.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw"[sprintf] huh?";

if(r[2]){a|=1;var u=[],s=r[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(u.push(o[1]);""!==(s=s.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(s)))u.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";u.push(o[1])}r[2]=u}else a|=2;if(3===a)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";t.push(r)}n=n.substring(r[0].length)}return t},r}(),G=function(e,n){return n.unshift(e),B.apply(null,n)};V("sprintf",function(e,n,r){return r.sprintf?"[object Array]"===Object.prototype.toString.apply(r.sprintf)?G(e,r.sprintf):"object"==typeof r.sprintf?B(e,r.sprintf):e:e}),g.init=a,g.setLng=f,g.preload=u,g.addResourceBundle=s,g.removeResourceBundle=o,g.loadNamespace=l,g.loadNamespaces=c,g.setDefaultNamespace=i,g.t=y,g.translate=y,g.exists=_,g.detectLanguage=R.detectLanguage,g.pluralExtensions=z,g.sync=H,g.functions=R,g.lng=p,g.addPostProcessor=V,g.options=E}()}.call(this),function(){g.init({resStore:{},fallbackLng:b.fallback_language,useCookie:!1})}.call(this),function(){h="object"==typeof h?h:{};var e=h;e.helpers={}}.call(this),h="object"==typeof h?h:{};var v=h,_;_=b.fallback_language,d=function(){return r.call(this),this._fallback_language=_,this._language_changed_tracker=new a.Dependency,this._loaded_languages=[_],this.conf=null,this.packages={},this.languages_names={},this.translations={},n.isClient&&(s.set(this._loaded_lang_session_key,null),this._languageSpecificTranslators={},this._languageSpecificTranslatorsTrackers={}),n.isServer&&(this.server_translators={},n.startup(function(e){return function(){return e._enabled()?e._registerHTTPMethod():void 0}}(this))),this.__=this._getPackageI18nextProxy(b.project_translations_domain),g.setLng(_),this},t.inherits(d,r),e.extend(d.prototype,{_loaded_lang_session_key:"TAPi18n::loaded_lang",_enable:function(e){return this.conf=e,this._onceEnabled()},_onceEnabled:function(){},_enabled:function(){return null!=this.conf},_getPackageDomain:function(e){return e.replace(/:/g,"-")},addResourceBundle:function(e,n,r){return g.addResourceBundle(e,this._getPackageDomain(n),r)},_getSpecificLangTranslator:function(e){var n,r;return n=g.lng(),r=null,g.setLng(e,{fixLng:!0},function(e){return function(e){return r=e}}(this)),g.setLng(n),r},_getProjectLanguages:function(){return this._enabled()?e.isArray(this.conf.supported_languages)?e.union([this._fallback_language],this.conf.supported_languages):e.keys(this.languages_names):[this._fallback_language]},getLanguages:function(){var e,n,r,t,a;if(!this._enabled())return null;for(n={},a=this._getProjectLanguages(),r=0,t=a.length;t>r;r++)e=a[r],n[e]={name:this.languages_names[e][1],en:this.languages_names[e][0]};return n},_loadLangFileObject:function(n,r){var t,a,u,s;s=[];for(a in r)t=r[a],t=e.extend({},t,(null!=(u=this._loadTranslations_cache[n])?u[a]:void 0)||{}),s.push(this.addResourceBundle(n,a,t));return s},_loadTranslations_cache:{},loadTranslations:function(r,t){var a,u,s,o;u=this._getProjectLanguages(),o=[];for(a in r)s=r[a],null==this._loadTranslations_cache[a]&&(this._loadTranslations_cache[a]={}),null==this._loadTranslations_cache[a][t]&&(this._loadTranslations_cache[a][t]={}),e.extend(this._loadTranslations_cache[a][t],s),this.addResourceBundle(a,t,s),o.push(n.isClient&&this.getLanguage()===a?this._language_changed_tracker.changed():void 0);return o}}),h="object"==typeof h?h:{};var v=h,y=[].indexOf||function(e){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===e)return n;return-1},x=[].slice;e.extend(d.prototype,{_languageSpecificTranslators:null,_languageSpecificTranslatorsTrackers:null,_getLanguageFilePath:function(e){var r;return this._enabled()?(r=null!=this.conf.cdn_path?this.conf.cdn_path:this.conf.i18n_files_route,r=r.replace(/\/$/,""),n.isCordova&&"/"===r[0]&&(r=n.absoluteUrl().replace(/\/+$/,"")+r),""+r+"/"+e+".json"):null},_loadLanguage:function(e){var n,r,t,a,u;return r=new o.Deferred,this._enabled()?(u=this._getProjectLanguages(),y.call(u,e)>=0?y.call(this._loaded_languages,e)<0?(a=function(n){return function(){var t;return t=o.getJSON(n._getLanguageFilePath(e)),t.done(function(t){return n._loadLangFileObject(e,t),n._loaded_languages.push(e),r.resolve()}),t.fail(function(n,t){return r.reject("Couldn't load language '"+e+"' JSON: "+t)})}}(this),t=y.call(e,"-")>=0?e.replace(/-.*/,""):_,e!==_&&y.call(u,t)>=0?(n=this._loadLanguage(t),n.done(function(e){return function(){return a()}}(this)),n.fail(function(e){return function(e){return r.reject("Loading process failed since dependency language '"+t+"' failed to load: "+e)}}(this))):a()):r.resolve():r.reject(["Language "+e+" is not supported"]),r.promise()):r.reject("tap-i18n is not enabled in the project level, check tap-i18n README")},_registerHelpers:function(n,r){var t,a,u;return a=this._getPackageI18nextProxy(n!==b.project_translations_domain?this.packages[n].namespace:b.project_translations_domain),u=function(){var n,r,t;return r=arguments[0],n=2<=arguments.length?x.call(arguments,1):[],t=n.pop().hash,e.isEmpty(n)||(t.sprintf=n),a(r,t)},n===b.project_translations_domain?(f.registerHelper(this.conf.helper_name,u),f.registerHelper("languageTag",function(e){return function(){return e.getLanguage()}}(this))):null!=l[r]&&null!=l[r].helpers?(t={},t[this.packages[n].helper_name]=u,l[r].helpers(t)):void 0},_getRegisterHelpersProxy:function(e){return function(n){return function(r){return n._registerHelpers(e,r)}}(this)},_prepareLanguageSpecificTranslator:function(e){var n;return n=(new o.Deferred).resolve().promise(),e in this._languageSpecificTranslatorsTrackers?n:(this._languageSpecificTranslatorsTrackers[e]=new a.Dependency,e in this._languageSpecificTranslators||(n=this._loadLanguage(e).done(function(n){return function(){return n._languageSpecificTranslators[e]=n._getSpecificLangTranslator(e),n._languageSpecificTranslatorsTrackers[e].changed()}}(this))),n)},_getPackageI18nextProxy:function(e){return function(n){return function(r,t,a){return null==a&&(a=null),null!=(null!=t?t.lang:void 0)&&null==(null!=t?t.lng:void 0)&&(t.lng=t.lang),null!=(null!=t?t.lng:void 0)&&null==a&&(a=t.lng,delete t.lng),null!=a?(n._prepareLanguageSpecificTranslator(a),n._languageSpecificTranslatorsTrackers[a].depend(),a in n._languageSpecificTranslators?n._languageSpecificTranslators[a](""+d._getPackageDomain(e)+":"+r,t):g.t(""+d._getPackageDomain(e)+":"+r,t)):(n._language_changed_tracker.depend(),g.t(""+d._getPackageDomain(e)+":"+r,t))}}(this)},_onceEnabled:function(){return this._registerHelpers(b.project_translations_domain)},setLanguage:function(e){var n;return n=this,this._loadLanguage(e).then(function(n){return function(){return g.setLng(e),n._language_changed_tracker.changed(),s.set(n._loaded_lang_session_key,e)}}(this))},getLanguage:function(){var e;return this._enabled()?(e=s.get(this._loaded_lang_session_key),null!=e?e:this._fallback_language):null}}),h="object"==typeof h?h:{};var v=h;d=new d,"undefined"==typeof Package&&(Package={}),Package["tap:i18n"]={TAPi18next:g,TAPi18n:d}}();

!function(){var n=Package.underscore._,e=Package.meteor.Meteor,t=Package.jquery.$,r=Package.jquery.jQuery,o=Package["reactive-dict"].ReactiveDict,i=Package["tap:i18n"].TAPi18next,a=Package["tap:i18n"].TAPi18n,u,c;(function(){u={fallback_language:"en"}}).call(this),function(){c="object"==typeof c?c:{};var t=c,r,o,i=[].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1};a.Collection=function(n,o){var i,a;return null==o&&(o={}),e.isClient&&(a=o.transform||function(n){return n},o.transform=function(n){return t.i18nCollectionTransform(a(n),i)}),i=t.i18nCollectionExtensions(r(new e.Collection(n,o))),i._base_language=o.base_language?o.base_language:u.fallback_language,i},t.helpers={},t.helpers.dialectOf=function(n){return null!=n&&i.call(n,"-")>=0?n.replace(/-.*/,""):null},t.helpers.removeTrailingUndefs=function(e){for(;!n.isEmpty(e)&&n.isUndefined(n.last(e));)e.pop();return e},o=t.helpers.removeTrailingUndefs,r=function(t){var r,o,u,c,l;return u=function(t,r,o){return n.isFunction(o)?e.setTimeout(function(){return o(t,!1)},0):console.log(""+r+" failed: "+t.reason),t},c=function(n,e,t){throw u(n,e,t)},l=function(n,t){return a._enabled()?void 0:c(new e.Error(400,"TAPi18n is not supported"),n,t)},o=function(n,t,r){return i.call(a.conf.supported_languages,n)>=0?void 0:c(new e.Error(400,"Not supported language: "+n),t,r)},r=function(n,t,r){return e.isClient&&null==n&&(n=a.getLanguage()),null!=n?n:c(new e.Error(400,"Missing language_tag"),t,r)},t}}.call(this),function(){c="object"==typeof c?c:{};var r=c,i,u,l;u=r.helpers.removeTrailingUndefs,i=t.extend,l=function(e,t,r){var o,i,a,u;u=[];for(i in e)a=e[i],u.push(n.isObject(a)?(o=a[t]||a[r])?e[i]=o:l(a,t,r):void 0);return u},r.i18nCollectionTransform=function(e,t){var o,i,u,c,f,s,g;for(g=t._disabledOnRoutes,f=0,s=g.length;s>f;f++)if(c=g[f],c.test(window.location.pathname))return e;return o=t._base_language,u=a.getLanguage(),null==u?e:(i=r.helpers.dialectOf(u),e=n.clone(e,!0),l(e,i||u,o),e)},r.i18nCollectionExtensions=function(e){var t,r,i,c;i={find:e.find,findOne:e.findOne},t=new o,c=function(n){return e[n]=function(r,o){return t.get("force_lang_switch_reactivity_hook"),i[n].apply(e,u([r,o]))}};for(r in i)c(r);return e.forceLangSwitchReactivity=n.once(function(){Deps.autorun(function(){return t.set("force_lang_switch_reactivity_hook",a.getLanguage())})}),e._disabledOnRoutes=[],e._disableTransformationOnRoute=function(n){return e._disabledOnRoutes.push(n)},null!=Package.autopublish&&e.forceLangSwitchReactivity(),e},a.subscribe=function(t){var r,i,c,l,f,s,g,p,d,y,v;return l=new o,l.set("ready",!1),p=Array.prototype.slice.call(arguments,1),r={},p.length&&(c=n.last(p),"function"==typeof c?r.onReady=p.pop():!c||"function"!=typeof c.onReady&&"function"!=typeof c.onError||(r=p.pop())),s=!1,f=!1,g=r.onReady,r.onReady=function(){return f?void 0:(l.set("ready",!0),"function"==typeof g?g():void 0)},null!=r.onError&&(r.onError=function(){return s?n.once(r.onError):void 0}),y=null,v=null,d=function(){return v=Deps.autorun(function(){var n;return n=a.getLanguage(),y=e.subscribe.apply(this,u([].concat(t,p,n,r))),l.set("ready",y.ready())})},i=Deps.currentComputation,"undefined"!=typeof currentComputation&&null!==currentComputation?(Deps.onInvalidate(function(){return v.invalidate()}),Deps.nonreactive(function(){return d()})):d(),{ready:function(){return l.get("ready")},stop:function(){return v.stop()},_getSubscription:function(){return y}}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["tap:i18n-db"]={}}();

!function(){var n=Package.meteor.Meteor,t,r;(function(){(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,o=null===t,i=t===b,a=t===t;if(n>t&&!o||!u||r&&!i&&a||e&&a)return 1;if(t>n&&!r||!a||o&&!e&&u||i&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function o(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function i(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function a(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function f(t,r,e){for(var u=-1,o=t.criteria,i=r.criteria,a=o.length,f=e.length;++u<a;){var c=n(o[u],i[u]);if(c){if(u>=f)return c;var l=e[u];return c*("asc"===l||l===!0?1:-1)}}return t.index-r.index}function c(n){return qn[n]}function l(n){return Mn[n]}function s(n,t,r){return t?n=Yn[n]:r&&(n=Gn[n]),"\\"+n}function p(n){return"\\"+Gn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var o=n[u];if(o!==o)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=B,o[++u]=r);return o}function y(n,t){for(var r,e=-1,u=n.length,o=-1,i=[];++e<u;){var a=n[e],f=t?t(a,e,n):a;e&&r===f||(r=f,i[++o]=a)}return i}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function m(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function w(n){return Kn[n]}function x(_){function G(n){if(v(n)&&!Wa(n)&&!(n instanceof qn)){if(n instanceof nn)return n;if(ui.call(n,"__chain__")&&ui.call(n,"__wrapped__"))return _e(n)}return new nn(n)}function H(){}function nn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function qn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Si,this.__views__=[]}function Mn(){var n=new qn(this.__wrapped__);return n.__actions__=ot(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ot(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ot(this.__views__),n}function Kn(){if(this.__filtered__){var n=new qn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Vn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Wa(n),e=0>t,u=r?n.length:0,o=Gr(0,u,this.__views__),i=o.start,a=o.end,f=a-i,c=e?a:i-1,l=this.__iteratees__,s=l.length,p=0,h=ki(f,this.__takeCount__);if(!r||L>u||u==f&&h==f)return or(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;f--&&h>p;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,m=y.type,w=d(g);if(m==T)g=w;else if(!w){if(m==N)continue n;break n}}v[p++]=g}return v}function Yn(){this.__data__={}}function Gn(n){return this.has(n)&&delete this.__data__[n]}function Jn(n){return"__proto__"==n?b:this.__data__[n]}function Xn(n){return"__proto__"!=n&&ui.call(this.__data__,n)}function Zn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Hn(n){var t=n?n.length:0;for(this.data={hash:wi(null),set:new vi};t--;)this.push(n[t])}function Qn(n,t){var r=n.data,e="string"==typeof t||Pu(t)?r.set.has(t):r.hash[t];return e?0:-1}function nt(n){var t=this.data;"string"==typeof n||Pu(n)?t.set.add(n):t.hash[n]=!0}function ut(n,t){for(var r=-1,e=n.length,u=-1,o=t.length,i=qo(e+o);++r<e;)i[r]=n[r];for(;++u<o;)i[r++]=t[u];return i}function ot(n,t){var r=-1,e=n.length;for(t||(t=qo(e));++r<e;)t[r]=n[r];return t}function it(n,t){for(var r=-1,e=n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function at(n,t){for(var r=n.length;r--&&t(n[r],r,n)!==!1;);return n}function ft(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ct(n,t,r,e){for(var u=-1,o=n.length,i=e,a=i;++u<o;){var f=n[u],c=+t(f);r(c,i)&&(i=c,a=f)}return a}function lt(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function st(n,t){for(var r=-1,e=n.length,u=qo(e);++r<e;)u[r]=t(n[r],r,n);return u}function pt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function ht(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function vt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function _t(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function gt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function yt(n,t){return n===b?t:n}function dt(n,t,r,e){return n!==b&&ui.call(e,r)?n:t}function mt(n,t,r){for(var e=-1,u=Va(t),o=u.length;++e<o;){var i=u[e],a=n[i],f=r(a,t[i],i,n,t);(f===f?f===a:a!==a)&&(a!==b||i in n)||(n[i]=f)}return n}function wt(n,t){return null==t?n:bt(t,Va(t),n)}function xt(n,t){for(var r=-1,e=null==n,u=!e&&Qr(n),o=u?n.length:0,i=t.length,a=qo(i);++r<i;){var f=t[r];a[r]=u?ne(f,o)?n[f]:b:e?b:n[f]}return a}function bt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function At(n,t,r){var e=typeof n;return"function"==e?t===b?n:fr(n,t,r):null==n?Co:"object"==e?Dt(n):t===b?Po(n):qt(n,t)}function jt(n,t,r,e,u,o,i){var a;if(r&&(a=u?r(n,e,u):r(n)),a!==b)return a;if(!Pu(n))return n;var f=Wa(n);if(f){if(a=Jr(n),!t)return ot(n,a)}else{var c=ii.call(n),l=c==Y;if(c!=X&&c!=D&&(!l||u))return Dn[c]?Zr(n,c,t):u?n:{};if(rt(n))return u?n:{};if(a=Xr(l?{}:n),!t)return wt(a,n)}o||(o=[]),i||(i=[]);for(var s=o.length;s--;)if(o[s]==n)return i[s];return o.push(n),i.push(a),(f?it:Ft)(n,function(e,u){a[u]=jt(e,t,r,u,n,o,i)}),a}function Ot(n,t,r){if("function"!=typeof n)throw new Ho(z);return _i(function(){n.apply(b,r)},t)}function kt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var o=-1,i=Kr(),a=i==r,f=a&&t.length>=L?yr(t):null,c=t.length;f&&(i=Qn,a=!1,t=f);n:for(;++o<e;){var l=n[o];if(a&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else i(t,l,0)<0&&u.push(l)}return u}function It(n,t){var r=!0;return Di(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Rt(n,t,r,e){var u=e,o=u;return Di(n,function(n,i,a){var f=+t(n,i,a);(r(f,u)||f===e&&f===o)&&(u=f,o=n)}),o}function Et(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;u>r;)n[r++]=t;return n}function Ct(n,t){var r=[];return Di(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function St(n,t,r,e){var u;return r(n,function(n,r,o){return t(n,r,o)?(u=e?r:n,!1):void 0}),u}function Ut(n,t,r,e){e||(e=[]);for(var u=-1,o=n.length;++u<o;){var i=n[u];v(i)&&Qr(i)&&(r||Wa(i)||Iu(i))?t?Ut(i,t,r,e):pt(e,i):r||(e[e.length]=i)}return e}function $t(n,t){return Mi(n,t,ro)}function Ft(n,t){return Mi(n,t,Va)}function Wt(n,t){return Ki(n,t,Va)}function Pt(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];Wu(n[i])&&(o[++u]=i)}return o}function Lt(n,t,r){if(null!=n){n=he(n),r!==b&&r in n&&(t=[r]);for(var e=0,u=t.length;null!=n&&u>e;)n=he(n)[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,o){return n===t?!0:null==n||null==t||!Pu(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,o)}function Tt(n,t,r,e,u,o,i){var a=Wa(n),f=Wa(t),c=q,l=q;a||(c=ii.call(n),c==D?c=X:c!=X&&(a=Ku(n))),f||(l=ii.call(t),l==D?l=X:l!=X&&(f=Ku(t)));var s=c==X&&!rt(n),p=l==X&&!rt(t),h=c==l;if(h&&!a&&!s)return Br(n,t,c);if(!u){var v=s&&ui.call(n,"__wrapped__"),_=p&&ui.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,o,i)}if(!h)return!1;o||(o=[]),i||(i=[]);for(var g=o.length;g--;)if(o[g]==n)return i[g]==t;o.push(n),i.push(t);var y=(a?zr:Dr)(n,t,r,e,u,o,i);return o.pop(),i.pop(),y}function zt(n,t,r){var e=t.length,u=e,o=!r;if(null==n)return!u;for(n=he(n);e--;){var i=t[e];if(o&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++e<u;){i=t[e];var a=i[0],f=n[a],c=i[1];if(o&&i[2]){if(f===b&&!(a in n))return!1}else{var l=r?r(f,c,a):b;if(!(l===b?Nt(c,f,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Qr(n)?qo(n.length):[];return Di(n,function(n,u,o){e[++r]=t(n,u,o)}),e}function Dt(n){var t=Vr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?!1:(n=he(n),n[r]===e&&(e!==b||r in n))}}return function(n){return zt(n,t)}}function qt(n,t){var r=Wa(n),e=re(n)&&oe(t),u=n+"";return n=ve(n),function(o){if(null==o)return!1;var i=u;if(o=he(o),!(!r&&e||i in o)){if(o=1==n.length?o:Lt(o,Zt(n,0,-1)),null==o)return!1;i=Re(n),o=he(o)}return o[i]===t?t!==b||i in o:Nt(t,o[i],b,!0)}}function Mt(n,t,r,e,u){if(!Pu(n))return n;var o=Qr(t)&&(Wa(t)||Ku(t)),i=o?b:Va(t);return it(i||t,function(a,f){if(i&&(f=a,a=t[f]),v(a))e||(e=[]),u||(u=[]),Kt(n,t,f,Mt,r,e,u);else{var c=n[f],l=r?r(c,a,f,n,t):b,s=l===b;s&&(l=a),l===b&&(!o||f in n)||!s&&(l===l?l===c:c!==c)||(n[f]=l)}}),n}function Kt(n,t,r,e,u,o,i){for(var a=o.length,f=t[r];a--;)if(o[a]==f)return void(n[r]=i[a]);var c=n[r],l=u?u(c,f,r,n,t):b,s=l===b;s&&(l=f,Qr(f)&&(Wa(f)||Ku(f))?l=Wa(c)?c:Qr(c)?ot(c):[]:Du(f)||Iu(f)?l=Iu(c)?Xu(c):Du(c)?c:{}:s=!1),o.push(f),i.push(l),s?n[r]=e(l,f,u,o,i):(l===l?l!==c:c===c)&&(n[r]=l)}function Vt(n){return function(t){return null==t?b:he(t)[n]}}function Yt(n){var t=n+"";return n=ve(n),function(r){return Lt(r,n,t)}}function Gt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&ne(e)){var u=e;gi.call(n,e,1)}}return n}function Jt(n,t){return n+xi(Ei()*(t-n+1))}function Xt(n,t,r,e,u){return u(n,function(n,u,o){r=e?(e=!1,n):t(r,n,u,o)}),r}function Zt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var o=qo(u);++e<u;)o[e]=n[e+t];return o}function Ht(n,t){var r;return Di(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Qt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function nr(n,t,r){var e=qr(),u=-1;t=st(t,function(n){return e(n)});var o=Bt(n,function(n){var r=st(t,function(t){return t(n)});return{criteria:r,index:++u,value:n}});return Qt(o,function(n,t){return f(n,t,r)})}function tr(n,t){var r=0;return Di(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function rr(n,t){var e=-1,u=Kr(),o=n.length,i=u==r,a=i&&o>=L,f=a?yr():null,c=[];f?(u=Qn,i=!1):(a=!1,f=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=f.length;p--;)if(f[p]===s)continue n;t&&f.push(s),c.push(l)}else u(f,s,0)<0&&((t||a)&&f.push(s),c.push(l))}return c}function er(n,t){for(var r=-1,e=t.length,u=qo(e);++r<e;)u[r]=n[t[r]];return u}function ur(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););return r?Zt(n,e?0:o,e?o+1:u):Zt(n,e?o+1:0,e?u:o)}function or(n,t){var r=n;r instanceof qn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var o=t[e];r=o.func.apply(o.thisArg,pt([r],o.args))}return r}function ir(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&Fi>=u){for(;u>e;){var o=e+u>>>1,i=n[o];(r?t>=i:t>i)&&null!==i?e=o+1:u=o}return u}return ar(n,t,Co,r)}function ar(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!==t,a=null===t,f=t===b;o>u;){var c=xi((u+o)/2),l=r(n[c]),s=l!==b,p=l===l;if(i)var h=p||e;else h=a?p&&s&&(e||null!=l):f?p&&(e||s):null==l?!1:e?t>=l:t>l;h?u=c+1:o=c}return ki(o,$i)}function fr(n,t,r){if("function"!=typeof n)return Co;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)};case 5:return function(r,e,u,o,i){return n.call(t,r,e,u,o,i)}}return function(){return n.apply(t,arguments)}}function cr(n){var t=new ci(n.byteLength),r=new yi(t);return r.set(new yi(n)),t}function lr(n,t,r){for(var e=r.length,u=-1,o=Oi(n.length-e,0),i=-1,a=t.length,f=qo(a+o);++i<a;)f[i]=t[i];for(;++u<e;)f[r[u]]=n[u];for(;o--;)f[i++]=n[u++];return f}function sr(n,t,r){for(var e=-1,u=r.length,o=-1,i=Oi(n.length-u,0),a=-1,f=t.length,c=qo(i+f);++o<i;)c[o]=n[o];for(var l=o;++a<f;)c[l+a]=t[a];for(;++e<u;)c[l+r[e]]=n[o++];return c}function pr(n,t){return function(r,e,u){var o=t?t():{};if(e=qr(e,u,3),Wa(r))for(var i=-1,a=r.length;++i<a;){var f=r[i];n(o,f,e(f,i,r),r)}else Di(r,function(t,r,u){n(o,t,e(t,r,u),u)});return o}}function hr(n){return mu(function(t,r){var e=-1,u=null==t?0:r.length,o=u>2?r[u-2]:b,i=u>2?r[2]:b,a=u>1?r[u-1]:b;for("function"==typeof o?(o=fr(o,a,5),u-=2):(o="function"==typeof a?a:b,u-=o?1:0),i&&te(r[0],r[1],i)&&(o=3>u?b:o,u=1);++e<u;){var f=r[e];f&&n(t,f,o)}return t})}function vr(n,t){return function(r,e){var u=r?Gi(r):0;if(!ue(u))return n(r,e);for(var o=t?u:-1,i=he(r);(t?o--:++o<u)&&e(i[o],o,i)!==!1;);return r}}function _r(n){return function(t,r,e){for(var u=he(t),o=e(t),i=o.length,a=n?i:-1;n?a--:++a<i;){var f=o[a];if(r(u[f],f,u)===!1)break}return t}}function gr(n,t){function r(){var u=this&&this!==tt&&this instanceof r?e:n;return u.apply(t,arguments)}var e=mr(n);return r}function yr(n){return wi&&vi?new Hn(n):null}function dr(n){return function(t){for(var r=-1,e=Io(po(t)),u=e.length,o="";++r<u;)o=n(o,e[r],r);return o}}function mr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Bi(n.prototype),e=n.apply(r,t);return Pu(e)?e:r}}function wr(n){function t(r,e,u){u&&te(r,e,u)&&(e=b);var o=Tr(r,n,b,b,b,b,b,e);return o.placeholder=t.placeholder,o}return t}function xr(n,t){return mu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function br(n,t){return function(r,e,u){if(u&&te(r,e,u)&&(e=b),e=qr(e,u,3),1==e.length){r=Wa(r)?r:pe(r);var o=ct(r,e,n,t);if(!r.length||o!==t)return o}return Rt(r,e,n,t)}}function Ar(n,r){return function(e,u,o){if(u=qr(u,o,3),Wa(e)){var i=t(e,u,r);return i>-1?e[i]:b}return St(e,u,n)}}function jr(n){return function(r,e,u){return r&&r.length?(e=qr(e,u,3),t(r,e,n)):-1}}function Or(n){return function(t,r,e){return r=qr(r,e,3),St(t,r,n,!0)}}function kr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,o=qo(r);n?e--:++e<r;){var i=o[u++]=arguments[e];if("function"!=typeof i)throw new Ho(z);!t&&nn.prototype.thru&&"wrapper"==Mr(i)&&(t=new nn([],!0))}for(e=t?-1:r;++e<r;){i=o[e];var a=Mr(i),f="wrapper"==a?Yi(i):b;t=f&&ee(f[0])&&f[1]==(S|I|E|U)&&!f[4].length&&1==f[9]?t[Mr(f[0])].apply(t,f[3]):1==i.length&&ee(i)?t[a]():t.thru(i)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Wa(e)&&e.length>=L)return t.plant(e).value();for(var u=0,i=r?o[u].apply(this,n):e;++u<r;)i=o[u].call(this,i);return i}}}function Ir(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Wa(r)?n(r,e):t(r,fr(e,u,3))}}function Rr(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=fr(r,e,3)),n(t,r,ro)}}function Er(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=fr(r,e,3)),n(t,r)}}function Cr(n){return function(t,r,e){var u={};return r=qr(r,e,3),Ft(t,function(t,e,o){var i=r(t,e,o);e=n?i:e,t=n?t:i,u[e]=t}),u}}function Sr(n){return function(t,r,e){return t=u(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Ur(n){var t=mu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function $r(n,t){return function(r,e,u,o){var i=arguments.length<3;return"function"==typeof e&&o===b&&Wa(r)?n(r,e,u,i):Xt(r,qr(e,o,4),u,i,t)}}function Fr(n,t,r,e,u,o,i,a,f,c){function l(){for(var m=arguments.length,w=m,x=qo(m);w--;)x[w]=arguments[w];if(e&&(x=lr(x,e,u)),o&&(x=sr(x,o,i)),v||y){var A=l.placeholder,k=g(x,A);if(m-=k.length,c>m){var I=a?ot(a):b,R=Oi(c-m,0),S=v?k:b,U=v?b:k,$=v?x:b,F=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|O));var W=[n,t,r,$,S,F,U,I,f,R],P=Fr.apply(b,W);return ee(n)&&Ji(P,W),P.placeholder=A,P}}var L=p?r:this,N=h?L[n]:n;return a&&(x=le(x,a)),s&&f<x.length&&(x.length=f),this&&this!==tt&&this instanceof l&&(N=d||mr(n)),N.apply(L,x)}var s=t&S,p=t&j,h=t&O,v=t&I,_=t&k,y=t&R,d=h?b:mr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!Ai(t))return"";var u=t-e;return r=null==r?" ":r+"",mo(r,mi(u/r.length)).slice(0,u)}function Pr(n,t,r,e){function u(){for(var t=-1,a=arguments.length,f=-1,c=e.length,l=qo(c+a);++f<c;)l[f]=e[f];for(;a--;)l[f++]=arguments[++t];var s=this&&this!==tt&&this instanceof u?i:n;return s.apply(o?r:this,l)}var o=t&j,i=mr(n);return u}function Lr(n){var t=Yo[n];return function(n,r){return r=r===b?0:+r||0,r?(r=pi(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var o=qr(e);return null==e&&o===At?ir(t,r,n):ar(t,r,o(e,u,1),n)}}function Tr(n,t,r,e,u,o,i,a){var f=t&O;if(!f&&"function"!=typeof n)throw new Ho(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=f?b:Yi(n),h=[n,t,r,e,u,l,s,o,i,a];if(p&&(ie(h,p),t=h[1],a=h[9]),h[9]=null==a?f?0:n.length:Oi(a-c,0)||0,t==j)var v=gr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?Fr.apply(b,h):Pr.apply(b,h);var _=p?Vi:Ji;return _(v,h)}function zr(n,t,r,e,u,o,i){var a=-1,f=n.length,c=t.length;if(f!=c&&!(u&&c>f))return!1;for(;++a<f;){var l=n[a],s=t[a],p=e?e(u?s:l,u?l:s,a):b;if(p!==b){if(p)continue;return!1}if(u){if(!_t(t,function(n){return l===n||r(l,n,e,u,o,i)}))return!1}else if(l!==s&&!r(l,s,e,u,o,i))return!1}return!0}function Br(n,t,r){switch(r){case M:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case J:return n!=+n?t!=+t:n==+t;case Z:case Q:return n==t+""}return!1}function Dr(n,t,r,e,u,o,i){var a=Va(n),f=a.length,c=Va(t),l=c.length;if(f!=l&&!u)return!1;for(var s=f;s--;){var p=a[s];if(!(u?p in t:ui.call(t,p)))return!1}for(var h=u;++s<f;){p=a[s];var v=n[p],_=t[p],g=e?e(u?_:v,u?v:_,p):b;if(!(g===b?r(v,_,e,u,o,i):g))return!1;h||(h="constructor"==p)}if(!h){var y=n.constructor,d=t.constructor;if(y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d))return!1}return!0}function qr(n,t,r){var e=G.callback||Ro;return e=e===Ro?At:e,r?e(n,t,r):e}function Mr(n){for(var t=n.name,r=Li[t],e=r?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}function Kr(n,t,e){var u=G.indexOf||ke;return u=u===ke?r:u,n?u(n,t,e):u}function Vr(n){for(var t=eo(n),r=t.length;r--;)t[r][2]=oe(t[r][1]);return t}function Yr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Gr(n,t,r){for(var e=-1,u=r.length;++e<u;){var o=r[e],i=o.size;switch(o.type){case"drop":n+=i;break;case"dropRight":t-=i;break;case"take":t=ki(t,n+i);break;case"takeRight":n=Oi(n,t-i)}}return{start:n,end:t}}function Jr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&ui.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Xr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Jo),new t}function Zr(n,t,r){var e=n.constructor;switch(t){case tn:return cr(n);case M:case K:return new e(+n);case rn:case en:case un:case on:case an:case fn:case cn:case ln:case sn:e instanceof e&&(e=Ni[t]);var u=n.buffer;return new e(r?cr(u):u,n.byteOffset,n.length);case J:case Q:return new e(n);case Z:var o=new e(n.source,Cn.exec(n));o.lastIndex=n.lastIndex}return o}function Hr(n,t,r){null==n||re(t,n)||(t=ve(t),n=1==t.length?n:Lt(n,Zt(t,0,-1)),t=Re(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Qr(n){return null!=n&&ue(Gi(n))}function ne(n,t){return n="number"==typeof n||$n.test(n)?+n:-1,t=null==t?Wi:t,n>-1&&n%1==0&&t>n}function te(n,t,r){if(!Pu(r))return!1;var e=typeof t;if("number"==e?Qr(r)&&ne(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function re(n,t){var r=typeof n;if("string"==r&&An.test(n)||"number"==r)return!0;if(Wa(n))return!1;var e=!bn.test(n);return e||null!=t&&n in he(t)}function ee(n){var t=Mr(n);if(!(t in qn.prototype))return!1;var r=G[t];if(n===r)return!0;var e=Yi(r);return!!e&&n===e[0]}function ue(n){return"number"==typeof n&&n>-1&&n%1==0&&Wi>=n}function oe(n){return n===n&&!Pu(n)}function ie(n,t){var r=n[1],e=t[1],u=r|e,o=S>u,i=e==S&&r==I||e==S&&r==U&&n[7].length<=t[8]||e==(S|U)&&r==I;if(!o&&!i)return n;e&j&&(n[2]=t[2],u|=r&j?0:k);var a=t[3];if(a){var f=n[3];n[3]=f?lr(f,a,t[4]):ot(a),n[4]=f?g(n[3],B):ot(t[4])}return a=t[5],a&&(f=n[5],n[5]=f?sr(f,a,t[6]):ot(a),n[6]=f?g(n[5],B):ot(t[6])),a=t[7],a&&(n[7]=ot(a)),e&S&&(n[8]=null==n[8]?t[8]:ki(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ae(n,t){return n===b?t:Pa(n,t,ae)}function fe(n,t){n=he(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function ce(n,t){var r={};return $t(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function le(n,t){for(var r=n.length,e=ki(t.length,r),u=ot(n);e--;){var o=t[e];n[e]=ne(o,r)?u[o]:b}return n}function se(n){for(var t=ro(n),r=t.length,e=r&&n.length,u=!!e&&ue(e)&&(Wa(n)||Iu(n)||Mu(n)),o=-1,i=[];++o<r;){var a=t[o];(u&&ne(a,e)||ui.call(n,a))&&i.push(a)}return i}function pe(n){return null==n?[]:Qr(n)?G.support.unindexedChars&&Mu(n)?n.split(""):Pu(n)?n:Jo(n):ao(n)}function he(n){if(G.support.unindexedChars&&Mu(n)){for(var t=-1,r=n.length,e=Jo(n);++t<r;)e[t]=n.charAt(t);return e}return Pu(n)?n:Jo(n)}function ve(n){if(Wa(n))return n;var t=[];return u(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(Rn,"$1"):r||n)}),t}function _e(n){return n instanceof qn?n.clone():new nn(n.__wrapped__,n.__chain__,ot(n.__actions__))}function ge(n,t,r){t=(r?te(n,t,r):null==t)?1:Oi(xi(t)||1,1);for(var e=0,u=n?n.length:0,o=-1,i=qo(mi(u/t));u>e;)i[++o]=Zt(n,e,e+=t);return i}function ye(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u}function de(n,t,r){var e=n?n.length:0;return e?((r?te(n,t,r):null==t)&&(t=1),Zt(n,0>t?0:t)):[]}function me(n,t,r){var e=n?n.length:0;return e?((r?te(n,t,r):null==t)&&(t=1),t=e-(+t||0),Zt(n,0,0>t?0:t)):[]}function we(n,t,r){return n&&n.length?ur(n,qr(t,r,3),!0,!0):[]}function xe(n,t,r){return n&&n.length?ur(n,qr(t,r,3),!0):[]}function be(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&te(n,t,r)&&(r=0,e=u),Et(n,t,r,e)):[]}function Ae(n){return n?n[0]:b}function je(n,t,r){var e=n?n.length:0;return r&&te(n,t,r)&&(t=!1),e?Ut(n,t):[]}function Oe(n){var t=n?n.length:0;return t?Ut(n,!0):[]}function ke(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=0>e?Oi(u+e,0):e;else if(e){var o=ir(n,t);return u>o&&(t===t?t===n[o]:n[o]!==n[o])?o:-1}return r(n,t,e||0)}function Ie(n){return me(n,1)}function Re(n){var t=n?n.length:0;return t?n[t-1]:b}function Ee(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(0>r?Oi(e+r,0):ki(r||0,e-1))+1;else if(r){u=ir(n,t,!0)-1;var o=n[u];return(t===t?t===o:o!==o)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Ce(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Kr(),u=n.length;++r<u;)for(var o=0,i=n[r];(o=e(t,i,o))>-1;)gi.call(t,o,1);return t}function Se(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=qr(t,r,3);++u<i;){var a=n[u];t(a,u,n)&&(e.push(a),o.push(u))}return Gt(n,o),e}function Ue(n){return de(n,1)}function $e(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&te(n,t,r)&&(t=0,r=e),Zt(n,t,r)):[]}function Fe(n,t,r){var e=n?n.length:0;return e?((r?te(n,t,r):null==t)&&(t=1),Zt(n,0,0>t?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?te(n,t,r):null==t)&&(t=1),t=e-(+t||0),Zt(n,0>t?0:t)):[]}function Pe(n,t,r){return n&&n.length?ur(n,qr(t,r,3),!1,!0):[]}function Le(n,t,r){return n&&n.length?ur(n,qr(t,r,3)):[]}function Ne(n,t,e,u){var o=n?n.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=te(n,t,u)?b:t,t=!1);var i=qr();return(null!=e||i!==At)&&(e=i(e,u,3)),t&&Kr()==r?y(n,e):rr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=lt(n,function(n){return Qr(n)?(r=Oi(n.length,r),!0):void 0});for(var e=qo(r);++t<r;)e[t]=st(n,Vt(t));return e}function ze(n,t,r){var e=n?n.length:0;if(!e)return[];var u=Te(n);return null==t?u:(t=fr(t,r,4),st(u,function(n){return ht(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Qr(r))var e=e?pt(kt(e,r),kt(r,e)):r}return e?rr(e):[]}function De(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Wa(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function qe(n){var t=G(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function Ke(n,t,r){return t.call(r,n)}function Ve(){return qe(this)}function Ye(){return new nn(this.value(),this.__chain__)}function Ge(n){for(var t,r=this;r instanceof H;){var e=_e(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Je(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof qn){var r=n;return this.__actions__.length&&(r=new qn(this)),r=r.reverse(),r.__actions__.push({func:Ke,args:[t],thisArg:b}),new nn(r,this.__chain__)}return this.thru(t)}function Xe(){return this.value()+""}function Ze(){return or(this.__wrapped__,this.__actions__)}function He(n,t,r){var e=Wa(n)?ft:It;return r&&te(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=qr(t,r,3)),e(n,t)}function Qe(n,t,r){var e=Wa(n)?lt:Ct;return t=qr(t,r,3),e(n,t)}function nu(n,t){return la(n,Dt(t))}function tu(n,t,r,e){var u=n?Gi(n):0;return ue(u)||(n=ao(n),u=n.length),r="number"!=typeof r||e&&te(t,r,e)?0:0>r?Oi(u+r,0):r||0,"string"==typeof n||!Wa(n)&&Mu(n)?u>=r&&n.indexOf(t,r)>-1:!!u&&Kr(n,t,r)>-1}function ru(n,t,r){var e=Wa(n)?st:Bt;return t=qr(t,r,3),e(n,t)}function eu(n,t){return ru(n,Po(t))}function uu(n,t,r){var e=Wa(n)?lt:Ct;return t=qr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function ou(n,t,r){if(r?te(n,t,r):null==t){n=pe(n);var e=n.length;return e>0?n[Jt(0,e-1)]:b}var u=-1,o=Ju(n),e=o.length,i=e-1;for(t=ki(0>t?0:+t||0,e);++u<t;){var a=Jt(u,i),f=o[a];o[a]=o[u],o[u]=f}return o.length=t,o}function iu(n){return ou(n,Si)}function au(n){var t=n?Gi(n):0;return ue(t)?t:Va(n).length}function fu(n,t,r){var e=Wa(n)?_t:Ht;return r&&te(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=qr(t,r,3)),e(n,t)}function cu(n,t,r){if(null==n)return[];r&&te(n,t,r)&&(t=b);var e=-1;t=qr(t,r,3);var u=Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}});return Qt(u,a)}function lu(n,t,r,e){return null==n?[]:(e&&te(t,r,e)&&(r=b),Wa(t)||(t=null==t?[]:[t]),Wa(r)||(r=null==r?[]:[r]),nr(n,t,r))}function su(n,t){return Qe(n,Dt(t))}function pu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ho(z);var r=n;n=t,t=r}return n=Ai(n=+n)?n:0,function(){return--n<1?t.apply(this,arguments):void 0}}function hu(n,t,r){return r&&te(n,t,r)&&(t=b),t=n&&null==t?n.length:Oi(+t||0,0),Tr(n,S,b,b,b,b,t)}function vu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ho(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=b),r}}function _u(n,t,r){function e(){h&&li(h),c&&li(c),_=0,c=h=v=b}function u(t,r){r&&li(r),c=h=v=b,t&&(_=xa(),l=n.apply(p,f),h||c||(f=p=b))}function o(){var n=t-(xa()-s);0>=n||n>t?u(v,c):h=_i(o,n)}function i(){u(y,h)}function a(){if(f=arguments,s=xa(),p=this,v=y&&(h||!d),g===!1)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=0>=e||e>g;u?(c&&(c=li(c)),_=s,l=n.apply(p,f)):c||(c=_i(i,e))}return u&&h?h=li(h):h||t===g||(h=_i(o,t)),r&&(u=!0,l=n.apply(p,f)),!u||h||c||(f=p=b),l}var f,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ho(z);if(t=0>t?0:+t||0,r===!0){var d=!0;y=!1}else Pu(r)&&(d=!!r.leading,g="maxWait"in r&&Oi(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return a.cancel=e,a}function gu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ho(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],o=r.cache;if(o.has(u))return o.get(u);var i=n.apply(this,e);return r.cache=o.set(u,i),i};return r.cache=new gu.Cache,r}function yu(n){if("function"!=typeof n)throw new Ho(z);return function(){return!n.apply(this,arguments)}}function du(n){return vu(2,n)}function mu(n,t){if("function"!=typeof n)throw new Ho(z);return t=Oi(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=Oi(r.length-t,0),o=qo(u);++e<u;)o[e]=r[t+e];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,r[0],o);case 2:return n.call(this,r[0],r[1],o)}var i=qo(t+1);for(e=-1;++e<t;)i[e]=r[e];return i[t]=o,n.apply(this,i)}}function wu(n){if("function"!=typeof n)throw new Ho(z);return function(t){return n.apply(this,t)}}function xu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ho(z);return r===!1?e=!1:Pu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),_u(n,t,{leading:e,maxWait:+t,trailing:u})}function bu(n,t){return t=null==t?Co:t,Tr(t,E,b,[n],[])}function Au(n,t,r,e){return t&&"boolean"!=typeof t&&te(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?jt(n,t,fr(r,e,1)):jt(n,t)}function ju(n,t,r){return"function"==typeof t?jt(n,!0,fr(t,r,1)):jt(n,!0)}function Ou(n,t){return n>t}function ku(n,t){return n>=t}function Iu(n){return v(n)&&Qr(n)&&ui.call(n,"callee")&&!hi.call(n,"callee")}function Ru(n){return n===!0||n===!1||v(n)&&ii.call(n)==M}function Eu(n){return v(n)&&ii.call(n)==K}function Cu(n){return!!n&&1===n.nodeType&&v(n)&&!Du(n)}function Su(n){return null==n?!0:Qr(n)&&(Wa(n)||Mu(n)||Iu(n)||v(n)&&Wu(n.splice))?!n.length:!Va(n).length}function Uu(n,t,r,e){r="function"==typeof r?fr(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function $u(n){return v(n)&&"string"==typeof n.message&&ii.call(n)==V}function Fu(n){return"number"==typeof n&&Ai(n)}function Wu(n){return Pu(n)&&ii.call(n)==Y}function Pu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Lu(n,t,r,e){return r="function"==typeof r?fr(r,e,3):b,zt(n,Vr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null==n?!1:Wu(n)?fi.test(ei.call(n)):v(n)&&(rt(n)?fi:Un).test(n)}function zu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ii.call(n)==J}function Du(n){var t;if(!v(n)||ii.call(n)!=X||rt(n)||Iu(n)||!ui.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return G.support.ownLast?($t(n,function(n,t,e){return r=ui.call(e,t),!1}),r!==!1):($t(n,function(n,t){r=t}),r===b||ui.call(n,r))}function qu(n){return Pu(n)&&ii.call(n)==Z}function Mu(n){return"string"==typeof n||v(n)&&ii.call(n)==Q}function Ku(n){return v(n)&&ue(n.length)&&!!Bn[ii.call(n)]}function Vu(n){return n===b}function Yu(n,t){return t>n}function Gu(n,t){return t>=n}function Ju(n){var t=n?Gi(n):0;return ue(t)?t?G.support.unindexedChars&&Mu(n)?n.split(""):ot(n):[]:ao(n)}function Xu(n){return bt(n,ro(n))}function Zu(n,t,r){var e=Bi(n);return r&&te(n,t,r)&&(t=b),t?wt(e,t):e}function Hu(n){return Pt(n,ro(n))}function Qu(n,t,r){var e=null==n?b:Lt(n,ve(t),t+"");return e===b?r:e}function no(n,t){if(null==n)return!1;var r=ui.call(n,t);if(!r&&!re(t)){if(t=ve(t),n=1==t.length?n:Lt(n,Zt(t,0,-1)),null==n)return!1;t=Re(t),r=ui.call(n,t)}return r||ue(n.length)&&ne(t,n.length)&&(Wa(n)||Iu(n)||Mu(n))}function to(n,t,r){r&&te(n,t,r)&&(t=b);for(var e=-1,u=Va(n),o=u.length,i={};++e<o;){var a=u[e],f=n[a];t?ui.call(i,f)?i[f].push(a):i[f]=[a]:i[f]=a}return i}function ro(n){if(null==n)return[];Pu(n)||(n=Jo(n));var t=n.length,r=G.support;t=t&&ue(t)&&(Wa(n)||Iu(n)||Mu(n))&&t||0;for(var e=n.constructor,u=-1,o=Wu(e)&&e.prototype||ti,i=o===n,a=qo(t),f=t>0,c=r.enumErrorProps&&(n===ni||n instanceof Ko),l=r.enumPrototypes&&Wu(n);++u<t;)a[u]=u+"";for(var s in n)l&&"prototype"==s||c&&("message"==s||"name"==s)||f&&ne(s,t)||"constructor"==s&&(i||!ui.call(n,s))||a.push(s);if(r.nonEnumShadows&&n!==ti){var p=n===ri?Q:n===ni?V:ii.call(n),h=Ti[p]||Ti[X];for(p==X&&(o=ti),t=Tn.length;t--;){s=Tn[t];var v=h[s];i&&v||(v?!ui.call(n,s):n[s]===o[s])||a.push(s)}}return a}function eo(n){n=he(n);for(var t=-1,r=Va(n),e=r.length,u=qo(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u}function uo(n,t,r){var e=null==n?b:he(n)[t];return e===b&&(null==n||re(t,n)||(t=ve(t),n=1==t.length?n:Lt(n,Zt(t,0,-1)),e=null==n?b:he(n)[Re(t)]),e=e===b?r:e),Wu(e)?e.call(n):e}function oo(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||re(t,n)?[e]:ve(t);for(var u=-1,o=t.length,i=o-1,a=n;null!=a&&++u<o;){var f=t[u];Pu(a)&&(u==i?a[f]=r:null==a[f]&&(a[f]=ne(t[u+1])?[]:{})),
a=a[f]}return n}function io(n,t,r,e){var u=Wa(n)||Ku(n);if(t=qr(t,e,4),null==r)if(u||Pu(n)){var o=n.constructor;r=u?Wa(n)?new o:[]:Bi(Wu(o)?o.prototype:b)}else r={};return(u?it:Ft)(n,function(n,e,u){return t(r,n,e,u)}),r}function ao(n){return er(n,Va(n))}function fo(n){return er(n,ro(n))}function co(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=ki(t,r)&&n<Oi(t,r)}function lo(n,t,r){r&&te(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var o=Ei();return ki(n+o*(t-n+si("1e-"+((o+"").length-1))),t)}return Jt(n,t)}function so(n){return n=u(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function po(n){return n=u(n),n&&n.replace(Fn,c).replace(In,"")}function ho(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:ki(0>r?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function vo(n){return n=u(n),n&&dn.test(n)?n.replace(gn,l):n}function _o(n){return n=u(n),n&&kn.test(n)?n.replace(On,s):n||"(?:)"}function go(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!Ai(t))return n;var o=(t-e)/2,i=xi(o),a=mi(o);return r=Wr("",a,r),r.slice(0,i)+n+r}function yo(n,t,r){return(r?te(n,t,r):null==t)?t=0:t&&(t=+t),n=bo(n),Ri(n,t||(Sn.test(n)?16:10))}function mo(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!Ai(t))return r;do t%2&&(r+=n),t=xi(t/2),n+=n;while(t);return r}function wo(n,t,r){return n=u(n),r=null==r?0:ki(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function xo(n,t,r){var e=G.templateSettings;r&&te(n,t,r)&&(t=r=b),n=u(n),t=mt(wt({},r||t),e,dt);var o=mt(wt({},t.imports),e.imports,dt),i=Va(o),a=er(o,i),f,c,l=0,s=t.interpolate||Wn,h="__p += '",v=Xo((t.escape||Wn).source+"|"+s.source+"|"+(s===xn?En:Wn).source+"|"+(t.evaluate||Wn).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++zn+"]")+"\n";n.replace(v,function(t,r,e,u,o,i){return e||(e=u),h+=n.slice(l,i).replace(Pn,p),r&&(f=!0,h+="' +\n__e("+r+") +\n'"),o&&(c=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=i+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(c?h.replace(pn,""):h).replace(hn,"$1").replace(vn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=ef(function(){return Vo(i,_+"return "+h).apply(b,a)});if(y.source=h,$u(y))throw y;return y}function bo(n,t,r){var e=n;return(n=u(n))?(r?te(e,t,r):null==t)?n.slice(d(n),m(n)+1):(t+="",n.slice(o(n,t),i(n,t)+1)):n}function Ao(n,t,r){var e=n;return n=u(n),n?n.slice((r?te(e,t,r):null==t)?d(n):o(n,t+"")):n}function jo(n,t,r){var e=n;return n=u(n),n?(r?te(e,t,r):null==t)?n.slice(0,m(n)+1):n.slice(0,i(n,t+"")+1):n}function Oo(n,t,r){r&&te(n,t,r)&&(t=b);var e=$,o=F;if(null!=t)if(Pu(t)){var i="separator"in t?t.separator:i;e="length"in t?+t.length||0:e,o="omission"in t?u(t.omission):o}else e=+t||0;if(n=u(n),e>=n.length)return n;var a=e-o.length;if(1>a)return o;var f=n.slice(0,a);if(null==i)return f+o;if(qu(i)){if(n.slice(a).search(i)){var c,l,s=n.slice(0,a);for(i.global||(i=Xo(i.source,(Cn.exec(i)||"")+"g")),i.lastIndex=0;c=i.exec(s);)l=c.index;f=f.slice(0,null==l?a:l)}}else if(n.indexOf(i,a)!=a){var p=f.lastIndexOf(i);p>-1&&(f=f.slice(0,p))}return f+o}function ko(n){return n=u(n),n&&yn.test(n)?n.replace(_n,w):n}function Io(n,t,r){return r&&te(n,t,r)&&(t=b),n=u(n),n.match(t||Ln)||[]}function Ro(n,t,r){return r&&te(n,t,r)&&(t=b),v(n)?So(n):At(n,t)}function Eo(n){return function(){return n}}function Co(n){return n}function So(n){return Dt(jt(n,!0))}function Uo(n,t){return qt(n,jt(t,!0))}function $o(n,t,r){if(null==r){var e=Pu(t),u=e?Va(t):b,o=u&&u.length?Pt(t,u):b;(o?o.length:e)||(o=!1,r=t,t=n,n=this)}o||(o=Pt(t,Va(t)));var i=!0,a=-1,f=Wu(n),c=o.length;r===!1?i=!1:Pu(r)&&"chain"in r&&(i=r.chain);for(;++a<c;){var l=o[a],s=t[l];n[l]=s,f&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(i||r){var e=n(this.__wrapped__),u=e.__actions__=ot(this.__actions__);return u.push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,pt([this.value()],arguments))}}(s))}return n}function Fo(){return tt._=ai,this}function Wo(){}function Po(n){return re(n)?Vt(n):Yt(n)}function Lo(n){return function(t){return Lt(n,ve(t),t+"")}}function No(n,t,r){r&&te(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=Oi(mi((t-n)/(r||1)),0),o=qo(u);++e<u;)o[e]=n,n+=r;return o}function To(n,t,r){if(n=xi(n),1>n||!Ai(n))return[];var e=-1,u=qo(ki(n,Ui));for(t=fr(t,r,1);++e<n;)Ui>e?u[e]=t(e):t(e);return u}function zo(n){var t=++oi;return u(n)+t}function Bo(n,t){return(+n||0)+(+t||0)}function Do(n,t,r){return r&&te(n,t,r)&&(t=b),t=qr(t,r,3),1==t.length?gt(Wa(n)?n:pe(n),t):tr(n,t)}_=_?et.defaults(tt.Object(),_,et.pick(tt,Nn)):tt;var qo=_.Array,Mo=_.Date,Ko=_.Error,Vo=_.Function,Yo=_.Math,Go=_.Number,Jo=_.Object,Xo=_.RegExp,Zo=_.String,Ho=_.TypeError,Qo=qo.prototype,ni=Ko.prototype,ti=Jo.prototype,ri=Zo.prototype,ei=Vo.prototype.toString,ui=ti.hasOwnProperty,oi=0,ii=ti.toString,ai=tt._,fi=Xo("^"+ei.call(ui).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ci=_.ArrayBuffer,li=_.clearTimeout,si=_.parseFloat,pi=Yo.pow,hi=ti.propertyIsEnumerable,vi=Yr(_,"Set"),_i=_.setTimeout,gi=Qo.splice,yi=_.Uint8Array,di=Yr(_,"WeakMap"),mi=Yo.ceil,wi=Yr(Jo,"create"),xi=Yo.floor,bi=Yr(qo,"isArray"),Ai=_.isFinite,ji=Yr(Jo,"keys"),Oi=Yo.max,ki=Yo.min,Ii=Yr(Mo,"now"),Ri=_.parseInt,Ei=Yo.random,Ci=Go.NEGATIVE_INFINITY,Si=Go.POSITIVE_INFINITY,Ui=4294967295,$i=Ui-1,Fi=Ui>>>1,Wi=9007199254740991,Pi=di&&new di,Li={},Ni={};Ni[rn]=_.Float32Array,Ni[en]=_.Float64Array,Ni[un]=_.Int8Array,Ni[on]=_.Int16Array,Ni[an]=_.Int32Array,Ni[fn]=yi,Ni[cn]=_.Uint8ClampedArray,Ni[ln]=_.Uint16Array,Ni[sn]=_.Uint32Array;var Ti={};Ti[q]=Ti[K]=Ti[J]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ti[M]=Ti[Q]={constructor:!0,toString:!0,valueOf:!0},Ti[V]=Ti[Y]=Ti[Z]={constructor:!0,toString:!0},Ti[X]={constructor:!0},it(Tn,function(n){for(var t in Ti)if(ui.call(Ti,t)){var r=Ti[t];r[n]=ui.call(r,n)}});var zi=G.support={};!function(n){var t=function(){this.x=n},r={0:n,length:n},e=[];t.prototype={valueOf:n,y:n};for(var u in new t)e.push(u);zi.enumErrorProps=hi.call(ni,"message")||hi.call(ni,"name"),zi.enumPrototypes=hi.call(t,"prototype"),zi.nonEnumShadows=!/valueOf/.test(e),zi.ownLast="x"!=e[0],zi.spliceObjects=(gi.call(r,0,1),!r[0]),zi.unindexedChars="x"[0]+Jo("x")[0]!="xx"}(1,0),G.templateSettings={escape:mn,evaluate:wn,interpolate:xn,variable:"",imports:{_:G}};var Bi=function(){function n(){}return function(t){if(Pu(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),Di=vr(Ft),qi=vr(Wt,!0),Mi=_r(),Ki=_r(!0),Vi=Pi?function(n,t){return Pi.set(n,t),n}:Co,Yi=Pi?function(n){return Pi.get(n)}:Wo,Gi=Vt("length"),Ji=function(){var n=0,t=0;return function(r,e){var u=xa(),o=P-(u-t);if(t=u,o>0){if(++n>=W)return r}else n=0;return Vi(r,e)}}(),Xi=mu(function(n,t){return v(n)&&Qr(n)?kt(n,Ut(t,!1,!0)):[]}),Zi=jr(),Hi=jr(!0),Qi=mu(function(n){for(var t=n.length,e=t,u=qo(s),o=Kr(),i=o==r,a=[];e--;){var f=n[e]=Qr(f=n[e])?f:[];u[e]=i&&f.length>=120?yr(e&&f):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(f=c[l],(p?Qn(p,f):o(a,f,0))<0){for(var e=t;--e;){var h=u[e];if((h?Qn(h,f):o(n[e],f,0))<0)continue n}p&&p.push(f),a.push(f)}return a}),na=mu(function(t,r){r=Ut(r);var e=xt(t,r);return Gt(t,r.sort(n)),e}),ta=Nr(),ra=Nr(!0),ea=mu(function(n){return rr(Ut(n,!1,!0))}),ua=mu(function(n,t){return Qr(n)?kt(n,t):[]}),oa=mu(Te),ia=mu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,ze(n,r,e)}),aa=mu(function(n){return n=Ut(n),this.thru(function(t){return ut(Wa(t)?t:[he(t)],n)})}),fa=mu(function(n,t){return Qr(n)&&(n=pe(n)),xt(n,Ut(t))}),ca=pr(function(n,t,r){ui.call(n,r)?++n[r]:n[r]=1}),la=Ar(Di),sa=Ar(qi,!0),pa=Ir(it,Di),ha=Ir(at,qi),va=pr(function(n,t,r){ui.call(n,r)?n[r].push(t):n[r]=[t]}),_a=pr(function(n,t,r){n[r]=t}),ga=mu(function(n,t,r){var e=-1,u="function"==typeof t,o=re(t),i=Qr(n)?qo(n.length):[];return Di(n,function(n){var a=u?t:o&&null!=n?n[t]:b;i[++e]=a?a.apply(n,r):Hr(n,t,r)}),i}),ya=pr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),da=$r(ht,Di),ma=$r(vt,qi),wa=mu(function(n,t){if(null==n)return[];var r=t[2];return r&&te(t[0],t[1],r)&&(t.length=1),nr(n,Ut(t),[])}),xa=Ii||function(){return(new Mo).getTime()},ba=mu(function(n,t,r){var e=j;if(r.length){var u=g(r,ba.placeholder);e|=E}return Tr(n,e,t,r,u)}),Aa=mu(function(n,t){t=t.length?Ut(t):Hu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),ja=mu(function(n,t,r){var e=j|O;if(r.length){var u=g(r,ja.placeholder);e|=E}return Tr(t,e,n,r,u)}),Oa=wr(I),ka=wr(R),Ia=mu(function(n,t){return Ot(n,1,t)}),Ra=mu(function(n,t,r){return Ot(n,t,r)}),Ea=kr(),Ca=kr(!0),Sa=mu(function(n,t){if(t=Ut(t),"function"!=typeof n||!ft(t,e))throw new Ho(z);var r=t.length;return mu(function(e){for(var u=ki(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Ua=Ur(E),$a=Ur(C),Fa=mu(function(n,t){return Tr(n,U,b,b,b,Ut(t))}),Wa=bi||function(n){return v(n)&&ue(n.length)&&ii.call(n)==q},Pa=hr(Mt),La=hr(function(n,t,r){return r?mt(n,t,r):wt(n,t)}),Na=xr(La,yt),Ta=xr(Pa,ae),za=Or(Ft),Ba=Or(Wt),Da=Rr(Mi),qa=Rr(Ki),Ma=Er(Ft),Ka=Er(Wt),Va=ji?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||("function"==typeof n?G.support.enumPrototypes:Qr(n))?se(n):Pu(n)?ji(n):[]}:se,Ya=Cr(!0),Ga=Cr(),Ja=mu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=st(Ut(t),Zo);return fe(n,kt(ro(n),t))}var r=fr(t[0],t[1],3);return ce(n,function(n,t,e){return!r(n,t,e)})}),Xa=mu(function(n,t){return null==n?{}:"function"==typeof t[0]?ce(n,fr(t[0],t[1],3)):fe(n,Ut(t))}),Za=dr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ha=dr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Qa=Sr(),nf=Sr(!0),tf=dr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),rf=dr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),ef=mu(function(n,t){try{return n.apply(b,t)}catch(r){return $u(r)?r:new Ko(r)}}),uf=mu(function(n,t){return function(r){return Hr(r,n,t)}}),of=mu(function(n,t){return function(r){return Hr(n,r,t)}}),af=Lr("ceil"),ff=Lr("floor"),cf=br(Ou,Ci),lf=br(Yu,Si),sf=Lr("round");return G.prototype=H.prototype,nn.prototype=Bi(H.prototype),nn.prototype.constructor=nn,qn.prototype=Bi(H.prototype),qn.prototype.constructor=qn,Yn.prototype["delete"]=Gn,Yn.prototype.get=Jn,Yn.prototype.has=Xn,Yn.prototype.set=Zn,Hn.prototype.push=nt,gu.Cache=Yn,G.after=pu,G.ary=hu,G.assign=La,G.at=fa,G.before=vu,G.bind=ba,G.bindAll=Aa,G.bindKey=ja,G.callback=Ro,G.chain=qe,G.chunk=ge,G.compact=ye,G.constant=Eo,G.countBy=ca,G.create=Zu,G.curry=Oa,G.curryRight=ka,G.debounce=_u,G.defaults=Na,G.defaultsDeep=Ta,G.defer=Ia,G.delay=Ra,G.difference=Xi,G.drop=de,G.dropRight=me,G.dropRightWhile=we,G.dropWhile=xe,G.fill=be,G.filter=Qe,G.flatten=je,G.flattenDeep=Oe,G.flow=Ea,G.flowRight=Ca,G.forEach=pa,G.forEachRight=ha,G.forIn=Da,G.forInRight=qa,G.forOwn=Ma,G.forOwnRight=Ka,G.functions=Hu,G.groupBy=va,G.indexBy=_a,G.initial=Ie,G.intersection=Qi,G.invert=to,G.invoke=ga,G.keys=Va,G.keysIn=ro,G.map=ru,G.mapKeys=Ya,G.mapValues=Ga,G.matches=So,G.matchesProperty=Uo,G.memoize=gu,G.merge=Pa,G.method=uf,G.methodOf=of,G.mixin=$o,G.modArgs=Sa,G.negate=yu,G.omit=Ja,G.once=du,G.pairs=eo,G.partial=Ua,G.partialRight=$a,G.partition=ya,G.pick=Xa,G.pluck=eu,G.property=Po,G.propertyOf=Lo,G.pull=Ce,G.pullAt=na,G.range=No,G.rearg=Fa,G.reject=uu,G.remove=Se,G.rest=Ue,G.restParam=mu,G.set=oo,G.shuffle=iu,G.slice=$e,G.sortBy=cu,G.sortByAll=wa,G.sortByOrder=lu,G.spread=wu,G.take=Fe,G.takeRight=We,G.takeRightWhile=Pe,G.takeWhile=Le,G.tap=Me,G.throttle=xu,G.thru=Ke,G.times=To,G.toArray=Ju,G.toPlainObject=Xu,G.transform=io,G.union=ea,G.uniq=Ne,G.unzip=Te,G.unzipWith=ze,G.values=ao,G.valuesIn=fo,G.where=su,G.without=ua,G.wrap=bu,G.xor=Be,G.zip=oa,G.zipObject=De,G.zipWith=ia,G.backflow=Ca,G.collect=ru,G.compose=Ca,G.each=pa,G.eachRight=ha,G.extend=La,G.iteratee=Ro,G.methods=Hu,G.object=De,G.select=Qe,G.tail=Ue,G.unique=Ne,$o(G,G),G.add=Bo,G.attempt=ef,G.camelCase=Za,G.capitalize=so,G.ceil=af,G.clone=Au,G.cloneDeep=ju,G.deburr=po,G.endsWith=ho,G.escape=vo,G.escapeRegExp=_o,G.every=He,G.find=la,G.findIndex=Zi,G.findKey=za,G.findLast=sa,G.findLastIndex=Hi,G.findLastKey=Ba,G.findWhere=nu,G.first=Ae,G.floor=ff,G.get=Qu,G.gt=Ou,G.gte=ku,G.has=no,G.identity=Co,G.includes=tu,G.indexOf=ke,G.inRange=co,G.isArguments=Iu,G.isArray=Wa,G.isBoolean=Ru,G.isDate=Eu,G.isElement=Cu,G.isEmpty=Su,G.isEqual=Uu,G.isError=$u,G.isFinite=Fu,G.isFunction=Wu,G.isMatch=Lu,G.isNaN=Nu,G.isNative=Tu,G.isNull=zu,G.isNumber=Bu,G.isObject=Pu,G.isPlainObject=Du,G.isRegExp=qu,G.isString=Mu,G.isTypedArray=Ku,G.isUndefined=Vu,G.kebabCase=Ha,G.last=Re,G.lastIndexOf=Ee,G.lt=Yu,G.lte=Gu,G.max=cf,G.min=lf,G.noConflict=Fo,G.noop=Wo,G.now=xa,G.pad=go,G.padLeft=Qa,G.padRight=nf,G.parseInt=yo,G.random=lo,G.reduce=da,G.reduceRight=ma,G.repeat=mo,G.result=uo,G.round=sf,G.runInContext=x,G.size=au,G.snakeCase=tf,G.some=fu,G.sortedIndex=ta,G.sortedLastIndex=ra,G.startCase=rf,G.startsWith=wo,G.sum=Do,G.template=xo,G.trim=bo,G.trimLeft=Ao,G.trimRight=jo,G.trunc=Oo,G.unescape=ko,G.uniqueId=zo,G.words=Io,G.all=He,G.any=fu,G.contains=tu,G.eq=Uu,G.detect=la,G.foldl=da,G.foldr=ma,G.head=Ae,G.include=tu,G.inject=da,$o(G,function(){var n={};return Ft(G,function(t,r){G.prototype[r]||(n[r]=t)}),n}(),!1),G.sample=ou,G.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return ou(t,n)}):ou(this.value())},G.VERSION=A,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){G[n].placeholder=G}),it(["drop","take"],function(n,t){qn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new qn(this);r=null==r?1:Oi(xi(r)||0,0);var u=this.clone();return e?u.__takeCount__=ki(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},qn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),it(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=T;qn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:qr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),it(["first","last"],function(n,t){var r="take"+(t?"Right":"");qn.prototype[n]=function(){return this[r](1).value()[0]}}),it(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");qn.prototype[n]=function(){return this.__filtered__?new qn(this):this[r](1)}}),it(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?Dt:Po;qn.prototype[n]=function(n){return this[r](e(n))}}),qn.prototype.compact=function(){return this.filter(Co)},qn.prototype.reject=function(n,t){return n=qr(n,t,1),this.filter(function(t){return!n(t)})},qn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||0>t)?new qn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r)},qn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},qn.prototype.toArray=function(){return this.take(Si)},Ft(qn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=G[e?"take"+("last"==t?"Right":""):t];u&&(G.prototype[t]=function(){var t=e?[1]:arguments,o=this.__chain__,i=this.__wrapped__,a=!!this.__actions__.length,f=i instanceof qn,c=t[0],l=f||Wa(i);l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var s=function(n){return e&&o?u(n,1)[0]:u.apply(b,pt([n],t))},p={func:Ke,args:[s],thisArg:b},h=f&&!a;if(e&&!o)return h?(i=i.clone(),i.__actions__.push(p),n.call(i)):u.call(b,this.value())[0];if(!e&&l){i=h?i:new qn(this);var v=n.apply(i,t);return v.__actions__.push(p),new nn(v,o)}return this.thru(s)})}),it(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?ri:Qo)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=!zi.spliceObjects&&/^(?:pop|shift|splice)$/.test(n),u=/^(?:join|pop|replace|shift)$/.test(n),o=e?function(){var n=t.apply(this,arguments);return 0===this.length&&delete this[0],n}:t;G.prototype[n]=function(){var n=arguments;return u&&!this.__chain__?o.apply(this.value(),n):this[r](function(t){return o.apply(t,n)})}}),Ft(qn.prototype,function(n,t){var r=G[t];if(r){var e=r.name,u=Li[e]||(Li[e]=[]);u.push({name:t,func:r})}}),Li[Fr(b,O).name]=[{name:"wrapper",func:b}],qn.prototype.clone=Mn,qn.prototype.reverse=Kn,qn.prototype.value=Vn,G.prototype.chain=Ve,G.prototype.commit=Ye,G.prototype.concat=aa,G.prototype.plant=Ge,G.prototype.reverse=Je,G.prototype.toString=Xe,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Ze,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var b,A="3.10.0",j=1,O=2,k=4,I=8,R=16,E=32,C=64,S=128,U=256,$=30,F="...",W=150,P=16,L=200,N=1,T=2,z="Expected a function",B="__lodash_placeholder__",D="[object Arguments]",q="[object Array]",M="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Map]",J="[object Number]",X="[object Object]",Z="[object RegExp]",H="[object Set]",Q="[object String]",nn="[object WeakMap]",tn="[object ArrayBuffer]",rn="[object Float32Array]",en="[object Float64Array]",un="[object Int8Array]",on="[object Int16Array]",an="[object Int32Array]",fn="[object Uint8Array]",cn="[object Uint8ClampedArray]",ln="[object Uint16Array]",sn="[object Uint32Array]",pn=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_n=/&(?:amp|lt|gt|quot|#39|#96);/g,gn=/[&<>"'`]/g,yn=RegExp(_n.source),dn=RegExp(gn.source),mn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,An=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,On=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,kn=RegExp(On.source),In=/[\u0300-\u036f\ufe20-\ufe23]/g,Rn=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Sn=/^0[xX]/,Un=/^\[object .+?Constructor\]$/,$n=/^\d+$/,Fn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Wn=/($^)/,Pn=/['\n\r\u2028\u2029\\]/g,Ln=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Nn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Tn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zn=-1,Bn={};Bn[rn]=Bn[en]=Bn[un]=Bn[on]=Bn[an]=Bn[fn]=Bn[cn]=Bn[ln]=Bn[sn]=!0,Bn[D]=Bn[q]=Bn[tn]=Bn[M]=Bn[K]=Bn[V]=Bn[Y]=Bn[G]=Bn[J]=Bn[X]=Bn[Z]=Bn[H]=Bn[Q]=Bn[nn]=!1;var Dn={};Dn[D]=Dn[q]=Dn[tn]=Dn[M]=Dn[K]=Dn[rn]=Dn[en]=Dn[un]=Dn[on]=Dn[an]=Dn[J]=Dn[X]=Dn[Z]=Dn[Q]=Dn[fn]=Dn[cn]=Dn[ln]=Dn[sn]=!0,Dn[V]=Dn[Y]=Dn[G]=Dn[H]=Dn[nn]=!1;var qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Kn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vn={"function":!0,object:!0},Yn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jn=Vn[typeof exports]&&exports&&!exports.nodeType&&exports,Xn=Vn[typeof module]&&module&&!module.nodeType&&module,Zn=Jn&&Xn&&"object"==typeof global&&global&&global.Object&&global,Hn=Vn[typeof self]&&self&&self.Object&&self,Qn=Vn[typeof window]&&window&&window.Object&&window,nt=Xn&&Xn.exports===Jn&&Jn,tt=Zn||Qn!==(this&&this.window)&&Qn||Hn||this,rt=function(){try{Object({toString:0}+"")}catch(n){return function(){return!1}}return function(n){return"function"!=typeof n.toString&&"string"==typeof(n+"")}}(),et=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tt._=et,define(function(){return et})):Jn&&Xn?nt?(Xn.exports=et)._=et:Jn._=et:tt._=et}).call(this)}).call(this),function(){t=this._,delete this._,r=t}.call(this),"undefined"==typeof Package&&(Package={}),Package["stevezhu:lodash"]={lodash:t,_:r}}();

!function(){var e=Package.meteor.Meteor,a=Package["stevezhu:lodash"]._,t=Package.check.check,n=Package.check.Match,c=Package["tap:i18n"].TAPi18next,o=Package["tap:i18n"].TAPi18n,l=Package["stevezhu:lodash"].lodash,i=Package["aldeed:simple-schema"].SimpleSchema,h=Package["aldeed:simple-schema"].MongoObject,s=Package.mongo.Mongo;(function(){"use strict";function t(e){return l.clone(e,!0)}i.extendOptions({i18n:n.Optional(Boolean),i18nLabel:n.Optional(String)});var c=s.Collection.prototype.attachSchema,h=o.Collection,u=function(n,o){var i=h(n,o);return o&&!o.languages&&(o.languages=["en"]),i._languages=o.languages,i.attachI18nSchema=function(n,o){var h,s=l.extend({},n);if("object"!=typeof n)throw new e.Error("schema-error","Please check your schema pass to attachI18nSchema");return h=i._languages,h.length?(l.each(s,function(n,c){if(n.i18n){var o=t(n);l.each(h,function(e,a){s[c+"."+e]=t(o),"ua"!==e&&(s[c+"."+e].optional=!0)}),n.label=" ",n.type=Object,n.optional=!0,delete n.autoform,n.autoform={type:"i18nObject"},n.autoValue=function(){if(this.value)return this.value;var t=this,n=[];return a.each(e.settings["public"].langs,function(e){n.push(!t.field(c+"."+e).value)}),a.all(n)?{}:void 0}}}),c.call(this,s,o)):c.call(this,n,o)},i};o.Collection=u}).call(this),"undefined"==typeof Package&&(Package={}),Package["ansyg:tap-i18n-schema"]={}}();

!function(){var t=Package.meteor.Meteor,n=Package.tracker.Tracker,e=Package.tracker.Deps,i=Package.underscore._,a=Package["iron:router"].Router,o=Package["iron:router"].RouteController,s=Package.blaze.Blaze,g=Package.blaze.UI,r=Package.blaze.Handlebars,u=Package["iron:core"].Iron,l=Package.htmljs.HTML,a,h,c;(function(){function n(){return t.isClient?"client":"server"}var o=u.utils.assert,s=u.Url,g=Package["martino:i18n-conf"]?Package["martino:i18n-conf"].I18NConf:null,r=a.configure,l=a.route,c=a.dispatch;h=function(a){var o=this,r={version:"0.5.7",language:null,isLanguageSet:!1,isLangCodeMissing:!1,pathExclusionFunctions:[],hooks:{defaultLanguage:"en",serverSide:!1,redirectCode:301,autoConfLanguage:!1,compulsoryLangCode:!0,langCodeForDefaultLanguage:!0,i18nConf:!0,client:{},server:{},getLangCode:function(t){var n=s.normalize(t),e,a=n.substr(1).indexOf("/");return e=-1!=a?n.substr(1,a):n.substr(1),i.contains(this.options.i18n.languages,e)||(e=null),e},addLangCode:function(t,n){return"/"+n+("/"!==t?t:"")},langCodeAction:function(t){var e=this.getLanguage();e?t==e&&this.isLanguageSet()||this.setLanguage(t):console.log("Can't retrieve current language on "+n()+".")},getDefaultLanguage:function(){return this.options.i18n.defaultLanguage}}};this._i18n||(this._i18n=r,this._i18n.languageDep=new e.Dependency,this.options.i18n=this.options.i18n||{},this._i18n.firstConfigure=!0);var u={};t.isServer?(i.extend(this._i18n.hooks.server,this.options.i18n.server),u=this._i18n.hooks.server):(i.extend(this._i18n.hooks.client,this.options.i18n.client),u=this._i18n.hooks.client),i.extend(this._i18n.hooks,this.options.i18n),i.extend(this.options.i18n,this._i18n.hooks),i.extend(this.options.i18n,u),this.options.i18n.languages||(this.options.i18n.languages=["en"]);var l=this.options.i18n.exclude,h=this;if(this._i18n.isPathExcluded=function(t){var n=i.find(h._i18n.pathExclusionFunctions,function(n){return n.call(h,t)});return!i.isUndefined(n)},l){var c=function(t){if(i.isArray(t))i.each(t,function(t){c.call(h,t)});else if(i.isFunction(t))h._i18n.pathExclusionFunctions.push(t);else if(i.isString(t)){var n=new RegExp(t);h._i18n.pathExclusionFunctions.push(function(t){return n.test(t)})}else if(i.isObject(t))for(var e in t)c(t[e]);else console.log("'i18n.exclude' options must be a function, a string an array or an object.")};c(l)}return g&&this.options.i18n.i18nConf&&this._i18n.firstConfigure&&(g.onConfigure(function(t){o.configure({i18n:{languages:t.languages,defaultLanguage:t.defaultLanguage}})}),g.onLanguageChange(function(t,n){o._i18n.language=n,o._i18n.isLanguageSet=!0,i.isFunction(o.options.i18n.setLangCode)&&o.current()&&o.current().route&&o.options.i18n.setLangCode.call(o,n),o._i18n.languageDep.changed()}),this.options.i18n.autoConfLanguage=!1,this.options.i18n.persistLanguage=!1,this._i18n.firstConfigure=!1),this},a.configure=function(t){return r.call(this,t),h.call(this,t)},a.route=function(t,n,e){var a=function(t){return Object.prototype.toString.call(t)};o("[object String]"===a(t)||"[object RegExp]"===a(t),"Router.route requires a path that is a string or regular expression.");var s=n;"object"==typeof n&&(e=n,n=e.action);var g=this.getDefaultLanguage(),r=this.options.i18n.languages,u=i.clone(e),h={},c=r,p=!1,f=e&&e.path?e.path:t,d=f,L;"string"==typeof t&&"/"!==t.charAt(0)&&(p=!0,f=e&&e.path?e.path:"/"+t);var C=!1;e&&e.i18n&&e.i18n.exclude?(C=!0,this._i18n.pathExclusionFunctions.push(function(t){return t==f})):this.options.i18n.exclude&&(C=this._i18n.isPathExcluded(d));var v;if(this.options.i18n.langCodeForDefaultLanguage&&!C){var m=i.clone(e)||{};p?(m.path=f,v=l.call(this,t+":origRoute",n,m)):(m.name=f.substr(1)+":origRoute",v=l.call(this,f,n,m))}if(!C&&!this.options.i18n.getLangCode.call(this,f)&&this.options.i18n.langCodeForDefaultLanguage&&this.options.i18n.addLangCode&&(d=this.options.i18n.addLangCode.call(this,f,g),e&&e.path&&(e.path=this.options.i18n.addLangCode.call(this,e.path,g))),p?(e=e||{},e.path=d,L=l.call(this,t,n,e)):L=l.call(this,d,n,e),C)return L._i18n={},L._i18n.excluded=!0,L;L._i18n={},L._i18n.routes={},L._i18n.excluded=!1,L._i18n.routes[g]=L,L.language=g,L.origRoute=this.options.i18n.langCodeForDefaultLanguage?v:L,e&&e.i18n&&e.i18n.languages?(h=e.i18n.languages,h[g]&&i.extend(e,e.i18n.languages[g]),c=e.i18n.limitToConfigured?i.keys(h):i.difference(r,[g])):c=i.difference(r,[g]);var _=i.keys(h),y=this;return i.each(c,function(t){var n=i.clone(u),e,a=s;n&&(delete n.path,delete n.name,delete n.i18n,i.contains(_,t)&&i.extend(n,h[t]),e=n.path,n.action&&(a=n.action,delete n.action)),e||(e="/"+t+("/"!==f?f:"")),y.options.i18n.addLangCode&&!y.options.i18n.getLangCode.call(y,e)&&(e=y.options.i18n.addLangCode.call(y,e,t)),n&&n.path&&(n.path=e);var o;o=a&&"function"==typeof a?l.call(y,e,a,n):l.call(y,e,n),o._i18n={},o.language=t,o._i18n.defaultRoute=L,L._i18n.routes[t]=o}),L},a.dispatch=function(t,n,e){if(this._i18n.isPathExcluded(t))return c.call(this,t,n,e);var a;if(this.options.i18n.getLangCode&&(a=this.options.i18n.getLangCode.call(this,t)),!(!a&&this.options.i18n.langCodeForDefaultLanguage&&(this._i18n.isLangCodeMissing=!0,this.options.i18n.compulsoryLangCode&&i.isFunction(this.options.i18n.missingLangCodeAction)&&this.options.i18n.missingLangCodeAction.call(this,t)))){if(i.isFunction(this.options.i18n.langCodeAction)){var o=this.findFirstRoute(t);o&&o.language&&this.options.i18n.langCodeAction.call(this,o.language)}return c.call(this,t,n,e)}},a.setLanguage=function(t){t!=this._i18n.language&&(this._i18n.language=t,this._i18n.isLanguageSet=!0,this.options.i18n.persistLanguage&&this.options.i18n.persistLanguage.call(this,t),this.options.i18n.setLanguage&&this.options.i18n.setLanguage.call(this,t),this.options.i18n.setLangCode&&this.current()&&this.current().route&&this.options.i18n.setLangCode.call(this,t),g&&this.options.i18n.i18nConf&&g.setLanguage(t),this._i18n.onLanguageChange&&this._i18n.onLanguageChange.call(this,t),this._i18n.languageDep.changed())},a.getLanguage=function(){if(this._i18n.languageDep.depend(),g&&this.options.i18n.i18nConf)return g.getLanguage();var t=null;return this.options.i18n.persistLanguage&&(t=this.options.i18n.persistLanguage.call(this))?t:(t=this.options.i18n.getLanguage?this.options.i18n.getLanguage.call(this):this._i18n.language,t||(t=this.getDefaultLanguage()),t)},a.getLanguageDep=function(){return this._i18n.languageDep},a.getDefaultLanguage=function(){return this.options.i18n.getDefaultLanguage?this.options.i18n.getDefaultLanguage.call(this):"en"},a.getLangCode=function(){var t=null,n=this.current().route.path();return this.options.i18n.getLangCode&&(t=this.options.i18n.getLangCode.call(this,n)),t},a.isLanguageSet=function(){return this._i18n.isLanguageSet},a.isLangCodeMissing=function(){return this._i18n.isLangCodeMissing},a.setMatchingLanguage=function(t){var n;t=t.toLowerCase(),t=t.replace("_","-"),i.contains(this.options.i18n.languages,t)&&(n=t),n||(t=t.substr(0,2),i.contains(this.options.i18n.languages,t)&&(n=t)),n||(n=a.getDefaultLanguage()),this.setLanguage(n)},u.Router.prototype.configure=a.configure,u.Router.prototype.route=a.route,u.Router.prototype.dispatch=a.dispatch,u.Router.prototype.setLanguage=a.setLanguage,u.Router.prototype.getLanguage=a.getLanguage,u.Router.prototype.getLanguageDep=a.getLanguageDep,u.Router.prototype.getDefaultLanguage=a.getDefaultLanguage,u.Router.prototype.getLangCode=a.getLangCode,u.Router.prototype.isLanguageSet=a.isLanguageSet,u.Router.prototype.setMatchingLanguage=a.setMatchingLanguage}).call(this),function(){function n(t,n,e,i){i=i||"/";var a=new Date;a.setTime(a.getTime()+e);var o="expires="+a.toUTCString();document.cookie=t+"="+n+"; "+o+"; path="+i}function e(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var a=e[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return""}var o=a.init,s=a.go,g=u.Url,r=u.utils.assert,l=Package["martino:i18n-conf"]?Package["martino:i18n-conf"].I18NConf:null;c=function(t){this._i18n.hooks.missingLangCodeAction=function(t){var n=this.getLanguage(),e=g.normalize(t);return n?(this.go("/"+n+("/"!==e?e:""),[],{isLangCodeMissing:!0}),!0):(console.log("Can't retrieve current language on "+this.getEnv()+"."),!1)},this._i18n.hooks.setLangCode=function(t){var n=this.current(),e=n.route;this.go(e.getName(),e.params(n.url),{lang:t})},this.options.i18n.i18nConf&&l||(this._i18n.hooks.persistLanguage=function(t){if(t){var a=2147483647;this.options.i18n.persistCookieExpiration&&(a=i.isFunction(this.options.i18n.persistCookieExpiration)?this.options.i18n.persistCookieExpiration.call(this):this.options.i18n.persistCookieExpiration,n("martino:iron-router-i18n:lang",t,a))}return e("martino:iron-router-i18n:lang")}),l&&this.options.i18n.i18nConf||(this._i18n.onLanguageChange=function(t){document&&document.getElementsByTagName("html")&&1==document.getElementsByTagName("html").length&&document.getElementsByTagName("html")[0].setAttribute("lang",t)}),this._i18n.hooks.persistCookieExpiration=2147483647},a.init=function(t){o.call(this,t),c.call(this,t)},a.go=function(t,n,e){var i=/^\/|http/,a,o=e&&e.lang?e.lang:this.getLanguage();if(this._i18n.isLangCodeMissing=e&&e.isLangCodeMissing?e.isLangCodeMissing:!1,this._i18n.isLangCodeMissing&&(e.replaceState=!0),i.test(t))a=t;else{var g=this.routes[t];r(g,"No route found named "+JSON.stringify(t));var u=g.getRouteForLang(o);a=u.getName()}s.call(this,a,n,e)},t.startup(function(){if(!(a.options.i18n.i18nConf&&l||a.options.i18n.persistLanguage&&a.options.i18n.persistLanguage()||!a.options.i18n.autoConfLanguage)){var t=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;a.setMatchingLanguage(t)}}),u.Router.prototype.go=a.go,u.Router.prototype.init=a.init}.call(this),function(){var t=u.Route.prototype.getName;u.Route.prototype.getDefaultRoute=function(){return this._i18n&&this._i18n.defaultRoute?this._i18n.defaultRoute:this},u.Route.prototype.getRouteForLang=function(t){return this._i18n.routes?this._i18n.routes[t]:this._i18n.defaultRoute._i18n.routes[t]},u.Route.prototype.getName=function(){var n=this.getDefaultRoute(),e=n?n:this;return t.call(e)},u.Route.prototype.getI18nName=function(){return t.call(this)},u.Route.prototype.isI18nExcluded=function(){return route._i18n.excluded},u.Route.prototype.path=function(t,n){var e;if(n&&n.origRoute)e=this.router.options.i18n.langCodeForDefaultLanguage?this.origRoute:this.getDefaultRoute();else{var i=n&&n.lang?n.lang:this.router.getLanguage();e=this.getRouteForLang(i)}return e.handler.resolve(t,n)}}.call(this),function(){o.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getDefaultRoute().getName())}}.call(this),function(){var t=u.utils.warn,n=u.DynamicTemplate;g.registerHelper("pathFor",function(n,e){a.getLanguageDep().depend();var o;"object"==typeof n?(o=n.hash,n=o.route):o=e&&e.hash,o=o||{};var s="",g=o.query,r=o.hash,u=i.extend({},o.data||this),l=a.routes[n],h=o.lang||a.getLanguage(),c=o.origRoute||!1;return t(l,"pathFor couldn't find a route named "+JSON.stringify(n)),l&&(i.each(l.handler.compiledUrl.keys,function(t){var n=t.name;i.has(o,n)&&(u[n]=EJSON.clone(o[n]),delete o[n])}),s=l.path(u,{query:g,hash:r,lang:h,origRoute:c})),s}),g.registerHelper("urlFor",function(n,e){a.getLanguageDep().depend();var o;"object"==typeof n?(o=n,n=o&&o.hash&&o.hash.route):o=e&&e.hash,o=e&&e.hash,o=o||{};var s="",g=o.query,r=o.hash,u=i.extend({},o.data||this),l=a.routes[n],h=o.lang||a.getLanguage(),c=o.origRoute||!1;return t(l,"urlFor couldn't find a route named "+JSON.stringify(n)),l&&(i.each(l.handler.compiledUrl.keys,function(t){var n=t.name;i.has(o,n)&&(u[n]=EJSON.clone(o[n]),delete o[n])}),s=l.url(u,{query:g,hash:r,lang:h,origRoute:c})),s}),g.registerHelper("linkTo",new s.Template("linkTo",function(){a.getLanguageDep().depend();var e=this,o=n.getInclusionArguments(this);if("object"!=typeof o)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(o));o=o||{};var g="",r=o.query,u=o.hash,h=o.route,c=i.extend({},o.data||n.getParentDataContext(this)),p=a.routes[h],f=o.lang||a.getLanguage(),d=o.origRoute||!1;t(p,"linkTo couldn't find a route named "+JSON.stringify(h)),p&&(i.each(p.handler.compiledUrl.keys,function(t){var n=t.name;i.has(o,n)&&(c[n]=EJSON.clone(o[n]),delete o[n])}),g=p.path(c,{query:r,hash:u,lang:f,origRoute:d}));var L=i.omit(o,"route","query","hash","data");return L.href=g,s.With(function(){return n.getParentDataContext(e)},function(){return l.A(L,e.templateContentBlock)})}))}.call(this),function(){h.call(a,a.options),c.call(a,a.options)}.call(this),"undefined"==typeof Package&&(Package={}),Package["martino:iron-router-i18n"]={Router:a}}();

!function(){var a=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["cfs:standard-packages"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package.underscore._,o=Package.ejson.EJSON,r,a;(function(){r={},r.Store={GridFS:function(){throw new Error('To use FS.Store.GridFS, you must add the "cfs-gridfs" package.')},FileSystem:function(){throw new Error('To use FS.Store.FileSystem, you must add the "cfs-filesystem" package.')},S3:function(){throw new Error('To use FS.Store.S3, you must add the "cfs-s3" package.')}},r.AccessPoint={},r.Utility={},r.config={},r._collections={},a={},a.defaultZero=function(t){return+(t||0)},r.Utility.cloneFileRecord=function(t,e){e=e||{};var n={},o=e.full?[]:["collectionName","collection","data","createdByTransform"];for(var r in t)t.hasOwnProperty(r)&&!i.contains(o,r)&&(n[r]=t[r]);return n},r.Utility.defaultCallback=function e(n){if(n){if(!(n instanceof t.Error))throw n;console.error(n.message)}},r.Utility.handleError=function(t,e,n){var i="function"==typeof t?t:r.Utility.defaultCallback,o=e===""+e?new Error(e):e;return i(o,n)},r.Utility.noop=function(){},r.Utility.validateAction=function n(e,o,r){var a=e.deny,c=e.allow;if("object"!=typeof Package||!Package.insecure||a.length+c.length!==0){if(o.isMounted()&&o.getFileRecord(),i.any(a,function(t){return t(r,o)}))throw new t.Error(403,"Access denied");if(i.all(c,function(t){return!t(r,o)}))throw new t.Error(403,"Access denied")}},r.Utility.getFileName=function o(t){t=t.split("?")[0];var e=t.lastIndexOf("/");return-1!==e&&(t=t.slice(e+1)),t},r.Utility.getFileExtension=function c(t){t=r.Utility.getFileName(t);var e=t.lastIndexOf(".");return e>0?t.slice(e+1).toLowerCase():""},r.Utility.setFileExtension=function l(t,e){if(!t||!t.length)return t;var n=r.Utility.getFileExtension(t);return t=n.length?t.slice(0,-1*n.length)+e:t+"."+e},r.Utility.encodeParams=function u(t){var e=[];return i.each(t,function(t,n){e.length&&e.push("&"),e.push(r.Utility.encodeString(n),"=",r.Utility.encodeString(t))}),e.join("").replace(/%20/g,"+")},r.Utility.encodeString=function f(t){return encodeURIComponent(t).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},r.Utility._btoa=function s(t){var e;return e=t instanceof Buffer?t:new Buffer(t.toString(),"binary"),e.toString("base64")},r.Utility.btoa=function y(t){if("function"==typeof btoa)return btoa(t);if("undefined"!=typeof Buffer)return r.Utility._btoa(t);throw new Error("FS.Utility.btoa: Cannot base64 encode on your system")},r.Utility._atob=function d(t){return new Buffer(t,"base64").toString("binary")},r.Utility.atob=function g(t){if("function"==typeof atob)return atob(t);if("undefined"!=typeof Buffer)return r.Utility._atob(t);throw new Error("FS.Utility.atob: Cannot base64 encode on your system")},r.Utility.extend=i.extend,r.Utility.each=i.each,r.Utility.isEmpty=i.isEmpty,r.Utility.indexOf=i.indexOf,r.Utility.isArray=i.isArray,r.Utility.map=i.map,r.Utility.once=i.once,r.Utility.include=i.include,r.Utility.size=i.size}).call(this),function(){r.Utility.connectionLogin=function(n){"undefined"!=typeof Accounts&&t.startup(function(){e.autorun(function(){var e=t.userId();e?n.onReconnect=function(){var t=Accounts._storedLoginToken();n.apply("login",[{resume:t}],function(t,e){!t&&e&&n.setUserId(e.id)})}:(n.onReconnect=null,n.setUserId(null))})})},r.Utility.eachFile=function(t,e){var n=t.originalEvent||t,i=n.target.files;i&&0!==i.length||(i=n.dataTransfer?n.dataTransfer.files:[]);for(var o=0;o<i.length;o++)e(i[o],o)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:base-package"]={FS:r,_Utility:a}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,e,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package["cfs:base-package"].FS,t=Package.tracker.Tracker,r=Package.tracker.Deps,c=Package.check.check,n=Package.check.Match,o=Package.ddp.DDP,g=Package.ejson.EJSON,k=Package["raix:eventemitter"].EventEmitter,i=Package.mongo.Mongo,d;(function(){d={},a.StorageAdapter=function(e,t,r){var c=this;if("undefined"==typeof r)throw new Error("FS.StorageAdapter please define an api");if("undefined"!=typeof d[e])throw new Error('Storage name already exists: "'+e+'"');d[e]=c,a.Utility.extend(this,t||{},{name:e})},a.StorageAdapter.prototype=new k}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:storage-adapter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package["cfs:base-package"].FS;(function(){t.Store.FileSystem=function(e,a){var r=this;if(!(r instanceof t.Store.FileSystem))throw new Error('FS.Store.FileSystem missing keyword "new"');return new t.StorageAdapter(e,a,{typeName:"storage.filesystem"})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:filesystem"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,r,a;(function(){r={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};r._encodeParams=function(r){var a=[];return n.each(r,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},a=function(e,n,a,c){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),c){o=o||"";var u=r._encodeParams(c);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){r._constructUrl=function(e,n,r){var c=/^(.*?)(\?.*)?$/.exec(e);return a(c[1],c[2],n,r)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.url={URL:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.url.URL,r,a,o;(function(){a=function(t,e){var n=500,r=function(t,e){return t.length>e?t.slice(0,e)+"...":t},a="failed ["+t+"]";return e&&(a+=" "+r(e.replace(/\n/g," "),n)),new Error(a)},o=function(t){var n=(t.headers["content-type"]||";").split(";")[0];if(e.include(["application/json","text/javascript"],n))try{t.data=JSON.parse(t.content)}catch(r){t.data=null}else t.data=null},r={},r.get=function(){return r.call.apply(this,["GET"].concat(e.toArray(arguments)))},r.post=function(){return r.call.apply(this,["POST"].concat(e.toArray(arguments)))},r.put=function(){return r.call.apply(this,["PUT"].concat(e.toArray(arguments)))},r.del=function(){return r.call.apply(this,["DELETE"].concat(e.toArray(arguments)))}}).call(this),function(){r.call=function(r,s,c,i){if(i||"function"!=typeof c||(i=c,c=null),c=c||{},"function"!=typeof i)throw new Error("Can't make a blocking HTTP call from the client; callback required.");r=(r||"").toUpperCase();var u={},l=c.content;c.data&&(l=JSON.stringify(c.data),u["Content-Type"]="application/json");var p,f;if(l||"GET"===r||"HEAD"===r?p=c.params:f=c.params,s=n._constructUrl(s,c.query,p),c.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(e.has(c,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var d,h;if(c.auth){var y=c.auth.indexOf(":");if(0>y)throw new Error('auth option should be of the form "username:password"');d=c.auth.substring(0,y),h=c.auth.substring(y+1)}f&&(l=n._encodeParams(f)),e.extend(u,c.headers||{}),i=function(t){return function(e,n){e&&n&&(e.response=n),t(e,n)}}(i),i=e.once(i);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(r,s,!0,d,h);for(var w in u)g.setRequestHeader(w,u[w]);var m=!1,v;c.timeout&&(v=t.setTimeout(function(){m=!0,g.abort()},c.timeout)),g.onreadystatechange=function(n){if(4===g.readyState)if(v&&t.clearTimeout(v),m)i(new Error("timeout"));else if(g.status){var r={};r.statusCode=g.status,r.content=g.responseText,r.headers={};var s=g.getAllResponseHeaders();""===s&&g.getResponseHeader("content-type")&&(s="content-type: "+g.getResponseHeader("content-type"));var c=s.split(/\r?\n/);e.each(c,function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(r.headers[e[1].toLowerCase()]=e[2])}),o(r);var u=null;r.statusCode>=400&&(u=a(r.statusCode,r.content)),i(u,r)}else i(new Error("network"))},g.send(l)}catch(E){i(E)}}}.call(this),function(){t.http=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:r}}();

!function(){var e=Package.meteor.Meteor,t,a;(function(){t=Package.http&&Package.http.HTTP||{},t.methods=function(){throw new Error("HTTP.methods not implemented on client-side")}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:http-methods"]={HTTP:t,_methodHTTP:a}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,n=Package.tracker.Deps,r,p;(function(){p="object"==typeof p?p:{};var t=p,n={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var p in e)n.call(e,p)&&(t[p]=e[p]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=function(t){function n(t,n){var p,o,i,s,a;if(p=null,i=!1,this.changed=function(){return p&&!i?p.changed():void 0},this.depend=function(){return p.depend()},r(t)){for(s=0,a=t.length;a>s;s++)o=t[s],this.push(o);p=n}else p=t;p instanceof e.Dependency||(p=new e.Dependency),this.pause=function(){return i=!0},this.resume=function(){return i=!1,this.changed()}}var r;return o(n,t),r=function(t){return t instanceof Array},n.prototype.array=function(){return this.depend(),Array.prototype.slice.call(this)},n.prototype.list=function(){return this.depend(),this},n.prototype.depend=function(){return this.depend(),this},n.prototype.push=function(){var t;return t=n.__super__.push.apply(this,arguments),this.changed(),t},n.prototype.unshift=function(){var t;return t=n.__super__.unshift.apply(this,arguments),this.changed(),t},n.prototype.pop=function(){var t;return t=n.__super__.pop.apply(this,arguments),this.changed(),t},n.prototype.shift=function(){var t;return t=n.__super__.shift.apply(this,arguments),this.changed(),t},n.prototype.remove=function(t){var e,n,r,p,o;for(p=this,r=[],n="function"==typeof t?t:function(e){return e===t},e=0;e<p.length;)o=p[e],n(o)&&(r.push(o),p.splice(e,1),e--),e++;return r.length&&this.changed(),r},n.prototype.clear=function(){for(;this.length;)this.pop();return this.changed(),this},n.prototype.concat=function(){var t,e,r,p;for(e=this.array(),r=0,p=arguments.length;p>r;r++)t=arguments[r],e=e.concat(t instanceof n?t.array():t);return new n(e)},n.prototype.indexOf=function(){return this.depend(),n.__super__.indexOf.apply(this,arguments)},n.prototype.join=function(){return this.depend(),n.__super__.join.apply(this,arguments)},n.prototype.lastIndexOf=function(){return this.depend(),n.__super__.lastIndexOf.apply(this,arguments)},n.prototype.reverse=function(){return n.__super__.reverse.apply(this,arguments),this.changed(),this},n.prototype.sort=function(){return n.__super__.sort.apply(this,arguments),this.changed(),this},n.prototype.splice=function(){var t;return t=n.__super__.splice.apply(this,arguments),this.changed(),t},n}(Array)}).call(this),"undefined"==typeof Package&&(Package={}),Package["manuel:reactivearray"]={ReactiveArray:r}}();

!function(){var Meteor=Package.meteor.Meteor,Blaze=Package.blaze.Blaze,UI=Package.blaze.UI,Handlebars=Package.blaze.Handlebars,ReactiveArray=Package["manuel:reactivearray"].ReactiveArray,HTML=Package.htmljs.HTML,ViewModel,__coffeescriptShare;(function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n;n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)}}(),t=function(e){var n,r,i,o;for(i=t.options,r=i.parser[i.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[i.key[n]]=r[n]||"";return o[i.q.name]={},o[i.key[12]].replace(i.q.parser,function(e,t,n){t&&(o[i.q.name][t]=n)}),o},t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},this.VmHelper=function(){function e(){}var r,i,o;return e.arraysAreEqual=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.isArray=function(e){return e instanceof Array},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e.requestTimeout=function(e,t){var r,i,o;return r=function(){var a,l;a=(new Date).getTime(),l=a-o,l>=t?e.call():i.value=n(r)},window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame?(o=(new Date).getTime(),i=new Object,i.value=n(r),i):window.setTimeout(e,t)},e.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)},e.delayed={},e.delay=function(e,t,n){var r,i,o,a;return i=n||t,n&&(a=t),a&&(r=this.delayed[a]),null!=r&&this.clearRequestTimeout(r),o=this.requestTimeout(i,e),a?this.delayed[a]=o:void 0},r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,o={"in":1,"return":1,"typeof":1},e.parseBind=function(e){var t,n,a,l,s,u,d,p,c,m,f;if(d=$.trim(e),123===d.charCodeAt(0)&&(d=d.slice(1,-1)),u={},c=d.match(r),n=0,l=void 0,f=void 0,c)for(c.push(","),a=-1,p=void 0;p=c[++a];){if(t=p.charCodeAt(0),44===t){if(0>=n){l&&(f?(m=f.join(""),0===m.indexOf("{")&&(m=this.parseBind(m)),u[l]=m):u.unknown=l),l=f=n=0;continue}}else if(58===t){if(!f)continue}else if(47===t&&a&&p.length>1)s=c[a-1].match(i),s&&!o[s[0]]&&(d=d.substr(d.indexOf(p)+1),c=d.match(r),c.push(","),a=-1,p="/");else if(40===t||123===t||91===t)++n;else if(41===t||125===t||93===t)--n;else if(!l&&!f){l=34===t||39===t?p.slice(1,-1):p;continue}f?f.push(p):f=[p]}return u},e.reservedWords=["_vm_properties","_vm_reservedWords","bind","extend","addHelper","addHelpers","toJS","fromJS","_vm_id","dispose","reset","parent","_vm_addDelayedProperty","_vm_delayed","_vm_toJS","blaze_events","blaze_helpers","onRendered","onCreated","onDestroyed","_vm_hasId","templateInstance","autorun","_vm_children","children","_vm_addParent","beforeBind","afterBind","onUrl"],e.url=function(e){return null==e&&(e=document.URL),t(e)},e.updateQueryString=function(e,t,n){var r,i,o;return n||(n=window.location.href),i=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi"),r=void 0,i.test(n)?"undefined"!=typeof t&&null!==t?n.replace(i,"$1"+e+"="+t+"$2$3"):(r=n.split("#"),n=r[0].replace(i,"$1$3").replace(/(&|\?)$/,""),"undefined"!=typeof r[1]&&null!==r[1]&&(n+="#"+r[1]),n):"undefined"!=typeof t&&null!==t?(o=-1!==n.indexOf("?")?"&":"?",r=n.split("#"),n=r[0]+o+e+"="+t,"undefined"!=typeof r[1]&&null!==r[1]&&(n+="#"+r[1]),n):n},e}()}).call(this),function(){var e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)}}(),t=function(t){function n(){t.call()}e(n)};Blaze.View.prototype.onViewReady=function(e){var n=this,r=function(){t(function(){n.isDestroyed||Blaze._withCurrentView(n,function(){e.call(n)})})};n._onViewRendered(function i(){n.isDestroyed||(n._domrange.attached?r():n._domrange.onAttached(r))})}}.call(this),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};ViewModel=function(){function e(n,r){var i,o,a,l,s,u,d,p,c,m,f,v,h;c=this,h=null,this._vm_id="",this.dispose=function(){var t;return Session.set(this._vm_id,void 0),h&&h.stop(),t=this._vm_id,("function"==typeof c.parent?c.parent():void 0)&&c.parent()._vm_children.remove(c),e.all.remove(function(e){return e.vm._vm_id===t}),c},n&&r?(this._vm_hasId=!0,this._vm_id="_vm_"+n):this._vm_id="_vm_"+Math.random(),d=r||n,l={},m={},u={},this._vm_properties=[],s={},f={},this._vm_delayed={},p=[],this._vm_children=new ReactiveArray,this.children=function(){return c._vm_children},a=function(e,t,n,r,i){var o;return o=i[e]||(i[e]=new Tracker.Dependency),n[e]=function(t){return VmHelper.isArray(t)?(r[e]=new ReactiveArray(t),o.changed()):arguments.length?(VmHelper.isObject(r[e])||r[e]!==t)&&(r[e]=t,o.changed()):o.depend(),r[e]instanceof ReactiveArray?r[e].list():r[e]},r[e]=VmHelper.isArray(t)?new ReactiveArray(t):t},this._vm_reservedWords=VmHelper.reservedWords,o=function(e,n,r){return _.has(m,e)?r[e](n):(t.call(c._vm_reservedWords,e)<0&&(r._vm_properties.push(e),u[e]=n),a(e,n,r,m,l))},this._vm_addDelayedProperty=function(e,t,n){return p.push(e),a(e,t,n._vm_delayed,f,s)},i=function(e,n){var r,i,a;a=[];for(r in e)i=e[r],a.push(i instanceof Function||t.call(c._vm_reservedWords,r)>=0?n[r]=i:o(r,i,n));return a},VmHelper.isObject(d)&&i(d,this),this._vm_addParent=function(e,t){var n,r;if(!e.parent){for(n=t.view.parentView,r=null;n&&(n.templateInstance&&(r=n.templateInstance()),!r);)n=n.parentView;if(e.parent=function(){return null!=r?r.viewmodel:void 0},(null!=r?r.viewmodel:void 0)&&r.viewmodel._vm_children.push(e),!t.viewmodel)return t.viewmodel=e}},this.bind=function(t){return function(n){var r,i,o,a,l,s;return a=t,o="[data-bind]:not([data-bound])",s=VmHelper.isString(n)?Template[n]?(t._vm_addParent(a,Template[n]),[Template[n],Template[n].$(o)]):[$(n),$(n).find(o)]:VmHelper.isElement(n)?[$(n),$(n).find(o)]:n instanceof jQuery?[n,n.find(o)]:(t._vm_addParent(a,n),[n,n.$(o)]),r=s[0],i=s[1],l={vm:t,id:t._vm_id.substring("_vm_".length)},n instanceof Blaze.TemplateInstance&&(l.template=n.view.name.substring("Template.".length)),e.all.push(l),t._vm_hasId&&(null!=r?r.autorun:void 0)&&(h&&h.stop(),r.autorun(function(e){var t;return t=c._vm_toJS(),e.firstRun?void 0:Session.set(c._vm_id,t)})),i.each(function(){var t,n,i,o,l;i=$(this),o=VmHelper.parseBind(i.data("bind")),i.attr("data-bound",!0),l=[];for(n in o)t=e.binds[n]||e.binds["default"],l.push(t({vm:a,element:i,elementBind:o,bindName:n,property:o[n],container:r,autorun:function(e){var t;return t=function(t){return e(t)},r.autorun?r.autorun(t):Tracker.autorun(t)}}));return l}),t}}(this),this.extend=function(e){return function(t){return i(t,e),e._vm_hasId&&Session.get(c._vm_id)&&c.fromJS(Session.get(c._vm_id)),e}}(this),v=function(e,t,n){return d={},d[e]=function(){return n[e]()},t instanceof Blaze.Template?t.helpers(d):t instanceof Blaze.TemplateInstance?t.view.template.helpers(d):Template[t].helpers(d)},this.addHelper=function(e,t){return v(e,t,this),this},this.addHelpers=function(e){return function(n,r){var i,o,a,l,s;if(r)if(i=n,a=r,i instanceof Array)for(l=0,s=i.length;s>l;l++)o=i[l],t.call(e._vm_reservedWords,o)<0&&v(o,a,e);else v(i,a,e);else{a=n;for(o in e)t.call(e._vm_reservedWords,o)<0&&v(o,a,e)}return e}}(this),this._vm_toJS=function(e){return function(n){var r,i,o,a,l,s,u,d;if(i={},n)for(r in e)t.call(e._vm_reservedWords,r)<0&&t.call(p,r)<0&&(i[r]=e[r]());else for(d=c._vm_properties,a=0,s=d.length;s>a;a++)r=d[a],t.call(p,r)<0&&(o=e[r](),i[r]=o instanceof ReactiveArray?o.array():o);for(l=0,u=p.length;u>l;l++)r=p[l],i[r]=e._vm_delayed[r]();return i}}(this),this.toJS=function(e){return function(n){var r,i,o,a,l,s;if(i={},n)for(r in e)t.call(e._vm_reservedWords,r)<0&&(i[r]=e[r]());else for(s=c._vm_properties,a=0,l=s.length;l>a;a++)r=s[a],o=e[r](),i[r]=o instanceof ReactiveArray?o.array():o;return i}}(this),this.fromJS=function(e){return function(t){var n,r;for(n in m)"undefined"!=typeof t[n]&&(r=t[n],r instanceof Array?m[n]=new ReactiveArray(r):(m[n]=r,f[n]=t[n]));for(n in m)l[n].changed(),s[n]&&s[n].changed();return e}}(this),this.reset=function(){var e,t,n,r;for(r=c._vm_properties,t=0,n=r.length;n>t;t++)e=r[t],m[e]=u[e],f[e]=u[e];for(e in m)l[e].changed(),s[e]&&s[e].changed();return this},this._vm_hasId&&(Session.get(c._vm_id)?c.fromJS(Session.get(c._vm_id)):null==Session.get(c._vm_id)&&Session.setDefault(c._vm_id,c._vm_toJS()),h=Tracker.autorun(function(e){return d=c._vm_toJS(),e.firstRun?void 0:Session.set(c._vm_id,d)}))}return e.all=new ReactiveArray,e.byId=function(e){var t,n,r,i,o;for(o=this.all.list(),r=0,i=o.length;i>r;r++)if(n=o[r],n.id===e)return n.vm;return t=this.byTemplate(e),1===t.length?t[0]:void 0},e.byTemplate=function(e){var t,n,r,i,o;for(i=this.all.list(),o=[],n=0,r=i.length;r>n;n++)t=i[n],t.template===e&&o.push(t.vm);return o},e.binds={},e.hasBind=function(t){return null!=e.binds[t]},e.addBind=function(t,n){return e.binds[t]=n},e.parseBind=VmHelper.parseBind,e}()}.call(this),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=function(e,t){return e instanceof Function?e(t):e},function(e){var t,n;t=e.pushState,n=e.replaceState,e.pushState=function(n,r,i){return"function"==typeof e.onstatechange&&e.onstatechange(n,r,i),t.apply(e,arguments)},e.replaceState=function(t){return"function"==typeof e.onstatechange&&e.onstatechange(t,title,url),n.apply(e,arguments)}}(window.history),Blaze.Template.prototype.createViewModel=function(e){var n,r,i,o,a,l,s,u,d,p,c,m,f;for(a=this,r=0,s=null,u=[],f=a.viewmodelArgs,d=0,c=f.length;c>d;d++)n=f[d],r++,i=t(n,e),1===r?VmHelper.isString(i)?s=i:u.push(i):r===a.viewmodelArgs.length?VmHelper.isString(i)||i instanceof Array||u.push(i):u.push(i);for(l=new ViewModel(s,{}),p=0,m=u.length;m>p;p++)o=u[p],o&&(l.extend(o),o.autorun&&Tracker.autorun(function(e){return o.autorun.call(l,e)}));return l},Blaze.Template.prototype.viewmodel=function(){var e,t,n,i,o,a,l,s,u,d,p,c,m;if(l=this,t=arguments,l.viewmodelArgs=t,e=t.length,s=[],a=t[e-1],VmHelper.isString(a))s.push(a);else if(a instanceof Array)for(d=0,c=a.length;c>d;d++)i=a[d],s.push(i);for(u=function(e){return i={},i[e]=function(){return Template.instance().viewmodel[e]()},l.helpers(i)},p=0,m=s.length;m>p;p++)o=s[p],u(o);return n=!1,l.onCreated(function(){var e,t,i,o,a,s,u;return this.viewmodel=l.createViewModel(this.data),this.viewmodel.templateInstance=this,this.viewmodel._vm_addParent(this.viewmodel,this),this.viewmodel.onCreated&&this.viewmodel.onCreated(this),(i=this.viewmodel.onUrl)&&(s=this,s.viewmodel._vm_hasId?(o=_.isArray(i)?i:[i],a=s.viewmodel._vm_id.substring("_vm_".length),a=encodeURI(a),~a.indexOf(".")&&(a=a.split(".").join("%2E")),this.autorun(function(e){var t,n,r,i,l;for(n=window.location.href,i=0,l=o.length;l>i;i++)t=o[i],s.viewmodel[t]?(r=s.viewmodel[t]()||"",n=VmHelper.updateQueryString(a+"."+encodeURI(t),r.toString(),n)):Meteor.isDev&&console.log("View model '"+s.viewmodel._vm_id+"' doesn't have property '"+t+"'");return e.firstRun||document.URL===n?void 0:window.history.pushState(null,null,n)}),u=function(e,t,n){var i,u,d,p,c,m;null==n&&(n=document.URL),p=VmHelper.url(n).queryKey,m=[];for(i in p)d=p[i],~i.indexOf(".")&&(c=i.split("."),l=c[0],u=c[1],u=decodeURI(u),m.push(r.call(o,u)>=0?l===a?s.viewmodel[u](decodeURI(d)):void 0:void 0));return m},window.onpopstate=window.history.onstatechange=u,u()):Meteor.isDev&&console.log("Cannot save state on the URL for a view model without a name")),n||(this.viewmodel.blaze_helpers&&(t=this.viewmodel.blaze_helpers,l.helpers(_.isFunction(t)?t():t)),this.viewmodel.blaze_events&&(e=this.viewmodel.blaze_events,l.events(_.isFunction(e)?e():e))),n=!0}),l.onRendered(function(){return this.viewmodel.beforeBind&&this.viewmodel.beforeBind(this),this.viewmodel.onRendered&&this.viewmodel.onRendered(this),this.viewmodel.bind(this),this.viewmodel.afterBind?this.viewmodel.afterBind(this):void 0}),l.onDestroyed(function(){return this.viewmodel.onDestroyed&&this.viewmodel.onDestroyed(this),this.viewmodel.dispose()})},n={},Blaze.Template.prototype.elementBind=function(e,t){var r,i;return i=this.viewName,r=null,t?r=$("<div></div>").append($(Blaze.toHTMLWithData(this,t))):n[i]?r=n[i]:(r=$("<div></div>").append($(Blaze.toHTML(this))),n[i]=r),ViewModel.parseBind(r.find(e).data("bind"))}}.call(this),function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var share=__coffeescriptShare,attr,disable,enable,getProperty,ifFunc,setAttr,setClass,setStyle,unlessFunc,_fn,_i,_len,_ref,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(getProperty=function(vm,prop,e){var arr,funcs,gotIt,i,nProp,name,negate,par,propToUse,props,ret,_i,_j,_k,_len,_len1,_ref;if(!prop)return null;if(~prop.indexOf(" && ")){for(props=prop.split(" && "),_i=0,_len=props.length;_len>_i;_i++)if(nProp=props[_i],!getProperty(vm,nProp,e))return!1;return!0}if(~prop.indexOf(" || ")){for(props=prop.split(" || "),_j=0,_len1=props.length;_len1>_j;_j++)if(nProp=props[_j],getProperty(vm,nProp,e))return!0;return!1}if(negate=!1,"!"===prop.charAt(0)&&(negate=!0,prop=prop.substring(1)),ret=void 0,~prop.indexOf("."))if(funcs=prop.split("."),propToUse=null,propToUse=e?vm[funcs[0]](e):vm[funcs[0]]()){for(gotIt=!0,i=_k=1,_ref=funcs.length-2;_ref>=_k&&(gotIt=!1,propToUse[funcs[i]]);i=_k+=1)e&&(propToUse=propToUse[funcs[i]](e)),propToUse=propToUse[funcs[i]](),gotIt=!0;gotIt&&(ret=propToUse[funcs[funcs.length-1]])}else ret=void 0;else prop.indexOf("(")>0?(arr=prop.split(/[(,)]/),name=arr[0],ret=vm[name].apply(vm,function(){var _l,_len2,_ref1,_results;for(_ref1=arr.slice(1,arr.length-1),_results=[],_l=0,_len2=_ref1.length;_len2>_l;_l++)par=_ref1[_l],_results.push(eval(par));return _results}())):_.has(vm,prop)?ret=e?vm[prop](e):vm[prop]():Meteor.isDev&&(console.log("Property '"+prop+"' not found on view model:"),console.log(vm));return negate?!ret:ret},ViewModel.addBind("default",function(p){var arr,name;return p.property.indexOf("(")>0?(arr=p.property.split(/[(,)]/),name=arr[0],p.element.bind(p.bindName,function(){var par;return p.vm[name].apply(p.vm,function(){var _i,_len,_ref,_results;for(_ref=arr.slice(1,arr.length-1),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)par=_ref[_i],_results.push(eval(par));return _results}())})):p.element.bind(p.bindName,function(e){return getProperty(p.vm,p.property,e)})}),ViewModel.addBind("value",function(e){var t,n,r,i,o,a;return n=e.elementBind.delay||0,t=e.vm._vm_id+"_"+e.bindName+"_"+e.property,a=e.element.is("select"),o=e.element.prop("multiple"),i=e.element.is("input"),r=(document.documentMode||9)<9,e.autorun(function(n){var r;return r=getProperty(e.vm,e.property),a&&o?e.element.find("option").each(function(){var e;return $(this).attr("selected",(e=this.value,__indexOf.call(r,e)>=0))}):e.element.val()!==r&&e.element.val(r),e.element.trigger("change"),n.firstRun?void 0:i&&!VmHelper.delayed[t+"X"]&&e.vm._vm_delayed[e.property]()!==r?e.vm._vm_delayed[e.property](r):void 0}),i&&e.vm._vm_addDelayedProperty(e.property,getProperty(e.vm,e.property),e.vm),e.element.bind("cut paste keyup input change",function(r){var l;return l=function(){var n,r;return r=e.element.val(),n=getProperty(e.vm,e.property),a&&o?VmHelper.arraysAreEqual(n,r)||VmHelper.delay(0,function(){var e,t,i;for(n.pause(),n.clear(),t=0,i=r.length;i>t;t++)e=r[t],n.push(e);return n.resume()}):n!==r&&e.vm[e.property](r),i?VmHelper.delay(500,t+"X",function(){return e.vm._vm_delayed[e.property]()!==r?e.vm._vm_delayed[e.property](r):void 0}):void 0},n?VmHelper.delay(n,t,l):l(),VmHelper.delay(1,function(){var t;return!e.elementBind.returnKey||13!==r.which&&13!==r.keyCode?void 0:(i&&(t=e.element.val(),e.vm._vm_delayed[e.property]()!==t&&e.vm._vm_delayed[e.property](t)),e.vm[e.elementBind.returnKey]())}),!e.elementBind.returnKey||13!==r.which&&13!==r.keyCode?void 0:r.preventDefault()})}),ViewModel.addBind("options",function(e){var t;if(!e.element.is("select"))throw new Error("The options bind can only be used with SELECT elements.");if(e.elementBind.value)if(t=getProperty(e.vm,e.elementBind.value),VmHelper.isArray(t)){if(!e.element.prop("multiple"))throw new Error("Can't use an array value for single selection options.")}else if(e.element.prop("multiple"))throw new Error("Must use an array value for multiple selection options.");return e.autorun(function(){var n,r,i,o,a,l,s,u,d,p,c,m,f;for(n=getProperty(e.vm,e.property),n instanceof Mongo.Cursor&&(n=n.fetch()),e.element.find("option").remove(),t=getProperty(e.vm,e.elementBind.value),s=e.elementBind.optionsText,u=e.elementBind.optionsValue,l=e.elementBind.optionsCaption,l&&(r="",r="'"===l[0]||'"'===l[0]?l.substring(1,l.length-1):getProperty(e.vm,l),e.element.append("<option value='' selected='selected'>"+_.escape(r)+"</option>")),i=e.element.prop("multiple"),f=[],c=0,m=n.length;m>c;c++)o=n[c],p=_.escape(s?o[s]:o),a=_.escape(u?o[u]:o),i?t?d=__indexOf.call(t,a)>=0?"selected='selected'":"":console.log("value binding is required for options binding on select multiple."):d=t===a?"selected='selected'":"",f.push(e.element.append("<option "+d+' value="'+a+'">'+p+"</option>"));return f})}),ViewModel.addBind("checked",function(e){return e.autorun(function(){var t,n;if(t=getProperty(e.vm,e.property),VmHelper.isArray(t))return e.element.prop("checked",(n=e.element.val(),__indexOf.call(t,n)>=0));if("checkbox"===e.element.attr("type")){if(e.element.is(":checked")!==t)return e.element.prop("checked",t)}else if(e.element.is(":checked")!==(t===e.element.val()))return e.element.prop("checked",t===e.element.val())}),e.element.bind("change",function(){var t,n;if(n=getProperty(e.vm,e.property),VmHelper.isArray(n)){if(!e.element.is(":checked"))return n.remove(e.element.val());if(__indexOf.call(n,t)<0)return n.push(e.element.val())}else if(t="checkbox"===e.element.attr("type")?e.element.is(":checked"):e.element.val(),n!==t)return e.vm[e.property](t)})}),ViewModel.addBind("change",function(e){var t,n,r,i,o,a;if(i={},_.isObject(e.elementBind.change)?i=e.elementBind.change:(t=e.elementBind,o=t.value||t.checked||t.text||t.focused||t.hover,o&&(i[o]=e.elementBind.change)),_.size(i)){a=[];for(r in i)n=i[r],a.push(function(t,n){return e.autorun(function(r){var i;return i=e.vm[t](),r.firstRun?void 0:e.vm[n](i)})}(r,n));return a}return ViewModel.binds["default"](e)}),ViewModel.addBind("file",function(e){return e.element.bind("change",function(t){var n,r;return n=(null!=(r=t.target.files)?r.length:void 0)?t.target.files[0]:null,e.vm[e.property](n)})}),ViewModel.addBind("files",function(e){return e.element.bind("change",function(t){var n,r,i,o,a;for(e.vm[e.property]().clear(),o=t.target.files,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(e.vm[e.property]().push(n));return a})}),ViewModel.addBind("focused",function(e){return e.autorun(function(t){var n;return n=getProperty(e.vm,e.property),e.element.is(":focus")!==n?n?e.element.focus():e.element.blur():void 0}),e.element.focus(function(){return getProperty(e.vm,e.property)?void 0:e.vm[e.property](!0)}),e.element.focusout(function(){return getProperty(e.vm,e.property)?e.vm[e.property](!1):void 0})}),ViewModel.addBind("text",function(e){return e.autorun(function(){return e.element.text(getProperty(e.vm,e.property))})}),ViewModel.addBind("html",function(e){return e.autorun(function(){return e.element.html(getProperty(e.vm,e.property))})}),enable=function(e){return e.is("button")||e.is("input")||e.is("textarea")?e.removeAttr("disabled"):e.removeClass("disabled")},disable=function(e){return e.is("button")||e.is("input")||e.is("textarea")?e.attr("disabled","disabled"):e.addClass("disabled")},ViewModel.addBind("enabled",function(e){return e.autorun(function(){return getProperty(e.vm,e.elementBind[e.bindName])?enable(e.element):disable(e.element)})}),ViewModel.addBind("disabled",function(e){return e.autorun(function(){return getProperty(e.vm,e.elementBind[e.bindName])?disable(e.element):enable(e.element)})}),ViewModel.addBind("hover",function(e){return e.element.hover(function(){return e.vm[e.elementBind[e.bindName]](!0)},function(){return e.vm[e.elementBind[e.bindName]](!1)})}),ifFunc=function(e){return e.autorun(function(){return getProperty(e.vm,e.elementBind[e.bindName])?e.element.show():e.element.hide()})},ViewModel.addBind("if",ifFunc),ViewModel.addBind("visible",ifFunc),unlessFunc=function(e){return e.autorun(function(){return getProperty(e.vm,e.elementBind[e.bindName])?e.element.hide():e.element.show()})},ViewModel.addBind("unless",unlessFunc),ViewModel.addBind("hidden",unlessFunc),setClass=function(e,t){return t.autorun(function(){return getProperty(t.vm,t.property[e])?t.element.addClass(e):t.element.removeClass(e)})},ViewModel.addBind("class",function(e){var t,n,r;if(VmHelper.isObject(e.property)){r=[];for(t in e.property)r.push(setClass(t,e));return r}return n="",e.autorun(function(){return t=getProperty(e.vm,e.property),e.element.removeClass(n),e.element.addClass(t),n=t})}),setStyle=function(e,t){return t.autorun(function(){return t.element.css(e,t.vm[t.property[e]]())})},ViewModel.addBind("style",function(e){var t,n;if(VmHelper.isObject(e.property)){n=[];for(t in e.property)n.push(setStyle(t,e));return n}return e.autorun(function(){return t=getProperty(e.vm,e.property),VmHelper.isObject(t)||(t=VmHelper.parseBind(t)),e.element.css(t)})}),setAttr=function(e,t,n,r){return r.autorun(function(){return _.has(n,t)?r.element.attr(e,n[t]()):Meteor.isDev?(console.log("Property '"+t+"' not found on view model:"),console.log(n)):void 0})},ViewModel.addBind("attr",function(e){var t,n;n=[];for(t in e.property)n.push(setAttr(t,e.property[t],e.vm,e));return n}),_ref=["src","href","readonly"],_fn=function(e){return ViewModel.addBind(e,function(t){return setAttr(e,t.property,t.vm,t)})},_i=0,_len=_ref.length;_len>_i;_i++)attr=_ref[_i],_fn(attr);ViewModel.addBind("toggle",function(e){return e.element.bind("click",function(){return e.vm[e.property](!e.vm[e.property]())})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["manuel:viewmodel"]={ViewModel:ViewModel}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["reywood:publish-composite"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["fortawesome:fontawesome"]={}}();

!function(){var t=Package.meteor.Meteor,e;(function(){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Fn.apply(null,arguments)}function e(t){Fn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n=[],i;for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,n,i){return Ot(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function l(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=o(0/0);return null!=t?a(d(e),t):d(e).userInvalidated=!0,e}function f(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=d(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),xn.length>0)for(n in xn)i=xn[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function h(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),Hn===!1&&(Hn=!0,t.updateOffset(this),Hn=!1)}function m(t){return t instanceof h||null!=t&&null!=t._isAMomentObject}function _(t){return 0>t?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function p(t,e,n){var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,a;for(a=0;i>a;a++)(n&&t[a]!==e[a]||!n&&y(t[a])!==y(e[a]))&&s++;return s+r}function g(){}function v(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){for(var e=0,n,i,r,s;e<t.length;){for(s=v(t[e]).split("-"),n=s.length,i=v(t[e+1]),i=i?i.split("-"):null;n>0;){if(r=M(s.slice(0,n).join("-")))return r;if(i&&i.length>=n&&p(s,i,!0)>=n-1)break;n--}e++}return null}function M(t){var e=null;if(!Ln[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=In._abbr,require("./locale/"+t),Y(e)}catch(n){}return Ln[t]}function Y(t,e){var n;return t&&(n="undefined"==typeof e?S(t):w(t,e),n&&(In=n)),In._abbr}function w(t,e){return null!==e?(e.abbr=t,Ln[t]=Ln[t]||new g,Ln[t].set(e),Y(t),Ln[t]):(delete Ln[t],null)}function S(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return In;if(!n(t)){if(e=M(t))return e;t=[t]}return D(t)}function k(t,e){var n=t.toLowerCase();An[n]=An[n+"s"]=An[e]=t}function T(t){return"string"==typeof t?An[t]||An[t.toLowerCase()]:void 0}function b(t){var e={},n,i;for(i in t)s(t,i)&&(n=T(i),n&&(e[n]=t[i]));return e}function O(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function W(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function C(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function G(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function P(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(En[t]=r),e&&(En[e[0]]=function(){return G(r.apply(this,arguments),e[1],e[2])}),n&&(En[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function x(t){var e=t.match(zn),n,i;for(n=0,i=e.length;i>n;n++)e[n]=En[e[n]]?En[e[n]]:F(e[n]);return function(r){var s="";for(n=0;i>n;n++)s+=e[n]instanceof Function?e[n].call(r,t):e[n];return s}}function H(t,e){return t.isValid()?(e=L(e,t.localeData()),jn[e]=jn[e]||x(e),jn[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Zn.lastIndex=0;i>=0&&Zn.test(t);)t=t.replace(Zn,n),Zn.lastIndex=0,i-=1;return t}function I(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function A(t,e,n){ri[t]=I(e)?e:function(t){return t&&n?n:e}}function z(t,e){return s(ri,t)?ri[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)si[t[n]]=i}function E(t,e){j(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function N(t,e,n){null!=e&&s(si,t)&&si[t](e,n._a,n,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t){return this._months[t.month()]}function J(t){return this._monthsShort[t.month()]}function $(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function R(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function B(e){return null!=e?(R(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function Q(){return V(this.year(),this.month())}function X(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[oi]<0||n[oi]>11?oi:n[ui]<1||n[ui]>V(n[ai],n[oi])?ui:n[di]<0||n[di]>24||24===n[di]&&(0!==n[li]||0!==n[ci]||0!==n[fi])?di:n[li]<0||n[li]>59?li:n[ci]<0||n[ci]>59?ci:n[fi]<0||n[fi]>999?fi:-1,d(t)._overflowDayOfYear&&(ai>e||e>ui)&&(e=ui),d(t).overflow=e),t}function K(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return a(function(){return n&&(K(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){_i[t]||(K(e),_i[t]=!0)}function nt(t){var e,n,i=t._i,r=yi.exec(i);if(r){for(d(t).iso=!0,e=0,n=pi.length;n>e;e++)if(pi[e][1].exec(i)){t._f=pi[e][0];break}for(e=0,n=gi.length;n>e;e++)if(gi[e][1].exec(i)){t._f+=(r[6]||" ")+gi[e][0];break}i.match(ei)&&(t._f+="Z"),Mt(t)}else t._isValid=!1}function it(e){var n=vi.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function rt(t,e,n,i,r,s,a){var o=new Date(t,e,n,i,r,s,a);return 1970>t&&o.setFullYear(t),o}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return ot(t)?366:365}function ot(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return ot(this.year())}function dt(t,e,n){var i=n-e,r=n-t.day(),s;return r>i&&(r-=7),i-7>r&&(r+=7),s=Ut(t).add(r,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function lt(t){return dt(t,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function ft(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function mt(t){var e=dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function _t(t,e,n,i,r){var s=6+r-i,a=st(t,0,1+s),o=a.getUTCDay(),u;return r>o&&(o+=7),n=null!=n?1*n:r,u=1+s+7*(e-1)-o+n,{year:u>0?t:t-1,dayOfYear:u>0?u:at(t-1)+u}}function yt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function pt(t,e,n){return null!=t?t:null!=e?e:n}function gt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,n,i=[],r,s;if(!t._d){for(r=gt(t),t._w&&null==t._a[ui]&&null==t._a[oi]&&Dt(t),t._dayOfYear&&(s=pt(t._a[ai],r[ai]),t._dayOfYear>at(s)&&(d(t)._overflowDayOfYear=!0),n=st(s,0,t._dayOfYear),t._a[oi]=n.getUTCMonth(),t._a[ui]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=i[e]=r[e];for(;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[di]&&0===t._a[li]&&0===t._a[ci]&&0===t._a[fi]&&(t._nextDay=!0,t._a[di]=0),t._d=(t._useUTC?st:rt).apply(null,i),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[di]=24)}}function Dt(t){var e,n,i,r,s,a,o;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,a=4,n=pt(e.GG,t._a[ai],dt(Ut(),1,4).year),i=pt(e.W,1),r=pt(e.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,n=pt(e.gg,t._a[ai],dt(Ut(),s,a).year),i=pt(e.w,1),null!=e.d?(r=e.d,s>r&&++i):r=null!=e.e?e.e+s:s),o=_t(n,i,r,a,s),t._a[ai]=o.year,t._dayOfYear=o.dayOfYear}function Mt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],d(e).empty=!0;var n=""+e._i,i,r,s,a,o,u=n.length,l=0;for(s=L(e._f,e._locale).match(zn)||[],i=0;i<s.length;i++)a=s[i],r=(n.match(z(a,e))||[])[0],r&&(o=n.substr(0,n.indexOf(r)),o.length>0&&d(e).unusedInput.push(o),n=n.slice(n.indexOf(r)+r.length),l+=r.length),En[a]?(r?d(e).empty=!1:d(e).unusedTokens.push(a),N(a,r,e)):e._strict&&!r&&d(e).unusedTokens.push(a);d(e).charsLeftOver=u-l,n.length>0&&d(e).unusedInput.push(n),d(e).bigHour===!0&&e._a[di]<=12&&e._a[di]>0&&(d(e).bigHour=void 0),e._a[di]=Yt(e._locale,e._a[di],e._meridiem),vt(e),X(e)}function Yt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function wt(t){var e,n,i,r,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)s=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Mt(e),l(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==i||i>s)&&(i=s,n=e));a(t,n||e)}function St(t){if(!t._d){var e=b(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function kt(t){var e=new h(X(Tt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Tt(t){var e=t._i,r=t._f;return t._locale=t._locale||S(t._l),null===e||void 0===r&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new h(X(e)):(n(r)?wt(t):r?Mt(t):i(e)?t._d=e:bt(t),t))}function bt(e){var s=e._i;void 0===s?e._d=new Date:i(s)?e._d=new Date(+s):"string"==typeof s?it(e):n(s)?(e._a=r(s.slice(0),function(t){return parseInt(t,10)}),vt(e)):"object"==typeof s?St(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Ot(t,e,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,kt(s)}function Ut(t,e,n,i){return Ot(t,e,n,i,!1)}function Wt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ut();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Ct(){var t=[].slice.call(arguments,0);return Wt("isBefore",t)}function Gt(){var t=[].slice.call(arguments,0);return Wt("isAfter",t)}function Pt(t){var e=b(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*o,this._days=+a+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Ft(t){return t instanceof Pt}function xt(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+G(~~(t/60),2)+e+G(~~t%60,2)})}function Ht(t){var e=(t||"").match(ei)||[],n=e[e.length-1]||[],i=(n+"").match(Si)||["-",0,0],r=+(60*i[1])+y(i[2]);return"+"===i[0]?r:-r}function Lt(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(m(e)||i(e)?+e:+Ut(e))-+r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):Ut(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function At(e,n){var i=this._offset||0,r;return null!=e?("string"==typeof e&&(e=Ht(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=It(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?ee(this,Bt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:It(this)}function zt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Zt(t){return this.utcOffset(0,t)}function jt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function Et(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ht(this._i)),this}function Nt(t){return t=t?Ut(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(f(t,this),t=Tt(t),t._a){var e=t._isUTC?o(t._a):Ut(t._a);this._isDSTShifted=this.isValid()&&p(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!this._isUTC}function $t(){return this._isUTC}function Rt(){return this._isUTC&&0===this._offset}function Bt(t,e){var n=t,i=null,r,a,o;return Ft(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(i=ki.exec(t))?(r="-"===i[1]?-1:1,n={y:0,d:y(i[ui])*r,h:y(i[di])*r,m:y(i[li])*r,s:y(i[ci])*r,ms:y(i[fi])*r}):(i=Ti.exec(t))?(r="-"===i[1]?-1:1,n={y:Qt(i[2],r),M:Qt(i[3],r),d:Qt(i[4],r),h:Qt(i[5],r),m:Qt(i[6],r),s:Qt(i[7],r),w:Qt(i[8],r)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=Kt(Ut(n.from),Ut(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new Pt(n),Ft(t)&&s(t,"_locale")&&(a._locale=t._locale),a}function Qt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Kt(t,e){var n;return e=Lt(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Bt(n,i),ee(this,r,t),this}}function ee(e,n,i,r){var s=n._milliseconds,a=n._days,o=n._months;r=null==r?!0:r,s&&e._d.setTime(+e._d+s*i),a&&W(e,"Date",U(e,"Date")+a*i),o&&R(e,U(e,"Month")+o*i),r&&t.updateOffset(e,a||o)}function ne(t,e){var n=t||Ut(),i=Lt(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(e&&e[s]||this.localeData().calendar(s,this,Ut(n)))}function ie(){return new h(this)}function re(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+this>+t):(n=m(t)?+t:+Ut(t),n<+this.clone().startOf(e))}function se(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+t>+this):(n=m(t)?+t:+Ut(t),+this.clone().endOf(e)<n)}function ae(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function oe(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+this===+t):(n=+Ut(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ue(t,e,n){var i=Lt(t,this),r=6e4*(i.utcOffset()-this.utcOffset()),s,a;return e=T(e),"year"===e||"month"===e||"quarter"===e?(a=de(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(s=this-i,a="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?a:_(a)}function de(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months"),r,s;return 0>e-i?(r=t.clone().add(n-1,"months"),s=(e-i)/(i-r)):(r=t.clone().add(n+1,"months"),s=(e-i)/(r-i)),-(n+s)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fe(e){var n=H(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()?Bt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.from(Ut(),t)}function _e(t,e){return this.isValid()?Bt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(Ut(),t)}function pe(t){var e;return void 0===t?this._locale._abbr:(e=S(t),null!=e&&(this._locale=e),this)}function ge(){return this._locale}function ve(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function De(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Me(){return+this._d-6e4*(this._offset||0)}function Ye(){return Math.floor(+this/1e3)}function we(){return this._offset?new Date(+this):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Te(){return l(this)}function be(){return a({},d(this))}function Oe(){return d(this).overflow}function Ue(t,e){P(0,[t,t.length],0,e)}function We(t,e,n){return dt(Ut([t,11,31+e-n]),e,n).week}function Ce(t){var e=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ge(t){var e=dt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Pe(){return We(this.year(),1,4)}function Fe(){var t=this.localeData()._week;return We(this.year(),t.dow,t.doy)}function xe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function He(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Le(t){return this._weekdays[t.day()]}function Ie(t){return this._weekdaysShort[t.day()]}function Ae(t){return this._weekdaysMin[t.day()]}function ze(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ut([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=He(t,this.localeData()),this.add(t-e,"d")):e}function je(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ee(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ne(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Je(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function $e(t,e){e[fi]=y(1e3*("0."+t))}function Re(){return this._isUTC?"UTC":""}function Be(){return this._isUTC?"Coordinated Universal Time":""}function Qe(t){return Ut(1e3*t)}function Xe(){return Ut.apply(null,arguments).parseZone()}function Ke(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function sn(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function an(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function on(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(t,e,n,i){var r=S(),s=o().set(i,e);return r[n](s,t)}function dn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return un(t,e,n,r);var s,a=[];for(s=0;i>s;s++)a[s]=un(t,s,n,r);return a}function ln(t,e){return dn(t,e,"months",12,"month")}function cn(t,e){return dn(t,e,"monthsShort",12,"month")}function fn(t,e){return dn(t,e,"weekdays",7,"day")}function hn(t,e){return dn(t,e,"weekdaysShort",7,"day")}function mn(t,e){return dn(t,e,"weekdaysMin",7,"day")}function _n(){var t=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),t.milliseconds=Ri(t.milliseconds),t.seconds=Ri(t.seconds),t.minutes=Ri(t.minutes),t.hours=Ri(t.hours),t.months=Ri(t.months),t.years=Ri(t.years),this}function yn(t,e,n,i){var r=Bt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function pn(t,e){return yn(this,t,e,1)}function gn(t,e){return yn(this,t,e,-1)}function vn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Dn(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,r,s,a,o,u;return t>=0&&e>=0&&n>=0||0>=t&&0>=e&&0>=n||(t+=864e5*vn(Yn(n)+e),e=0,n=0),i.milliseconds=t%1e3,r=_(t/1e3),i.seconds=r%60,s=_(r/60),i.minutes=s%60,a=_(s/60),i.hours=a%24,e+=_(a/24),u=_(Mn(e)),n+=u,e-=vn(Yn(u)),o=_(n/12),n%=12,i.days=e,i.months=n,i.years=o,this}function Mn(t){return 4800*t/146097}function Yn(t){return 146097*t/4800}function wn(t){var e,n,i=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Mn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Yn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Sn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function kn(t){return function(){return this.as(t)}}function Tn(t){return t=T(t),this[t+"s"]()}function bn(t){return function(){return this._data[t]}}function On(){return _(this.days()/7)}function Un(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Wn(t,e,n){var i=Bt(t).abs(),r=cr(i.as("s")),s=cr(i.as("m")),a=cr(i.as("h")),o=cr(i.as("d")),u=cr(i.as("M")),d=cr(i.as("y")),l=r<fr.s&&["s",r]||1===s&&["m"]||s<fr.m&&["mm",s]||1===a&&["h"]||a<fr.h&&["hh",a]||1===o&&["d"]||o<fr.d&&["dd",o]||1===u&&["M"]||u<fr.M&&["MM",u]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=n,Un.apply(null,l)}function Cn(t,e){return void 0===fr[t]?!1:void 0===e?fr[t]:(fr[t]=e,!0)}function Gn(t){var e=this.localeData(),n=Wn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Pn(){var t=hr(this._milliseconds)/1e3,e=hr(this._days),n=hr(this._months),i,r,s;i=_(t/60),r=_(i/60),t%=60,i%=60,s=_(n/12),n%=12;var a=s,o=n,u=e,d=r,l=i,c=t,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(d||l||c?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var Fn,xn=t.momentProperties=[],Hn=!1,Ln={},In,An={},zn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},En={},Nn=/\d/,Vn=/\d\d/,qn=/\d{3}/,Jn=/\d{4}/,$n=/[+-]?\d{6}/,Rn=/\d\d?/,Bn=/\d{1,3}/,Qn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,Kn=/\d+/,ti=/[+-]?\d+/,ei=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},si={},ai=0,oi=1,ui=2,di=3,li=4,ci=5,fi=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),A("M",Rn),A("MM",Rn,Vn),A("MMM",ii),A("MMMM",ii),j(["M","MM"],function(t,e){e[oi]=y(t)-1}),j(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[oi]=r:d(n).invalidMonth=t});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_i={};t.suppressDeprecationWarnings=!1;var yi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],vi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),k("year","y"),A("Y",ti),A("YY",Rn,Vn),A("YYYY",Qn,Jn),A("YYYYY",Xn,$n),A("YYYYYY",Xn,$n),j(["YYYYY","YYYYYY"],ai),j("YYYY",function(e,n){n[ai]=2===e.length?t.parseTwoDigitYear(e):y(e)}),j("YY",function(e,n){n[ai]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var Di=O("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),A("w",Rn),A("ww",Rn,Vn),A("W",Rn),A("WW",Rn,Vn),E(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var Mi={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),A("DDD",Bn),A("DDDD",qn),j(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),t.ISO_8601=function(){};var Yi=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ut.apply(null,arguments);return this>t?this:t}),wi=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ut.apply(null,arguments);return t>this?this:t});xt("Z",":"),xt("ZZ",""),A("Z",ei),A("ZZ",ei),j(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ht(t)});var Si=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ki=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Bt.fn=Pt.prototype;var bi=te(1,"add"),Oi=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ui=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),A("G",ti),A("g",ti),A("GG",Rn,Vn),A("gg",Rn,Vn),A("GGGG",Qn,Jn),A("gggg",Qn,Jn),A("GGGGG",Xn,$n),A("ggggg",Xn,$n),E(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),E(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),k("quarter","Q"),A("Q",Nn),j("Q",function(t,e){e[oi]=3*(y(t)-1)}),P("D",["DD",2],"Do","date"),k("date","D"),A("D",Rn),A("DD",Rn,Vn),A("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),j(["D","DD"],ui),j("Do",function(t,e){e[ui]=y(t.match(Rn)[0],10)});var Wi=O("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),A("d",Rn),A("e",Rn),A("E",Rn),A("dd",ii),A("ddd",ii),A("dddd",ii),E(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:d(n).invalidWeekday=t}),E(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Ne("a",!0),Ne("A",!1),k("hour","h"),A("a",Ve),A("A",Ve),A("H",Rn),A("h",Rn),A("HH",Rn,Vn),A("hh",Rn,Vn),j(["H","HH"],di),j(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),j(["h","hh"],function(t,e,n){e[di]=y(t),d(n).bigHour=!0});var Fi=/[ap]\.?m?\.?/i,xi=O("Hours",!0);P("m",["mm",2],0,"minute"),k("minute","m"),A("m",Rn),A("mm",Rn,Vn),j(["m","mm"],li);var Hi=O("Minutes",!1);P("s",["ss",2],0,"second"),k("second","s"),A("s",Rn),A("ss",Rn,Vn),j(["s","ss"],ci);var Li=O("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),A("S",Bn,Nn),A("SS",Bn,Vn),A("SSS",Bn,qn);var Ii;for(Ii="SSSS";Ii.length<=9;Ii+="S")A(Ii,Kn);for(Ii="S";Ii.length<=9;Ii+="S")j(Ii,$e);var Ai=O("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var zi=h.prototype;zi.add=bi,zi.calendar=ne,zi.clone=ie,zi.diff=ue,zi.endOf=De,zi.format=fe,zi.from=he,zi.fromNow=me,zi.to=_e,zi.toNow=ye,zi.get=C,zi.invalidAt=Oe,zi.isAfter=re,zi.isBefore=se,zi.isBetween=ae,zi.isSame=oe,zi.isValid=Te,zi.lang=Ui,zi.locale=pe,zi.localeData=ge,zi.max=wi,zi.min=Yi,zi.parsingFlags=be,zi.set=C,zi.startOf=ve,zi.subtract=Oi,zi.toArray=Se,zi.toObject=ke,zi.toDate=we,zi.toISOString=ce,zi.toJSON=ce,zi.toString=le,zi.unix=Ye,zi.valueOf=Me,zi.year=Di,zi.isLeapYear=ut,zi.weekYear=Ce,zi.isoWeekYear=Ge,zi.quarter=zi.quarters=xe,zi.month=B,zi.daysInMonth=Q,zi.week=zi.weeks=ht,zi.isoWeek=zi.isoWeeks=mt,zi.weeksInYear=Fe,zi.isoWeeksInYear=Pe,zi.date=Wi,zi.day=zi.days=Ze,zi.weekday=je,zi.isoWeekday=Ee,zi.dayOfYear=yt,zi.hour=zi.hours=xi,
zi.minute=zi.minutes=Hi,zi.second=zi.seconds=Li,zi.millisecond=zi.milliseconds=Ai,zi.utcOffset=At,zi.utc=Zt,zi.local=jt,zi.parseZone=Et,zi.hasAlignedHourOffset=Nt,zi.isDST=Vt,zi.isDSTShifted=qt,zi.isLocal=Jt,zi.isUtcOffset=$t,zi.isUtc=Rt,zi.isUTC=Rt,zi.zoneAbbr=Re,zi.zoneName=Be,zi.dates=tt("dates accessor is deprecated. Use date instead.",Wi),zi.months=tt("months accessor is deprecated. Use month instead",B),zi.years=tt("years accessor is deprecated. Use year instead",Di),zi.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",zt);var Zi=zi,ji={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ei={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ni="Invalid date",Vi="%d",qi=/\d{1,2}/,Ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$i=g.prototype;$i._calendar=ji,$i.calendar=Ke,$i._longDateFormat=Ei,$i.longDateFormat=tn,$i._invalidDate=Ni,$i.invalidDate=en,$i._ordinal=Vi,$i.ordinal=nn,$i._ordinalParse=qi,$i.preparse=rn,$i.postformat=rn,$i._relativeTime=Ji,$i.relativeTime=sn,$i.pastFuture=an,$i.set=on,$i.months=q,$i._months=hi,$i.monthsShort=J,$i._monthsShort=mi,$i.monthsParse=$,$i.week=lt,$i._week=Mi,$i.firstDayOfYear=ft,$i.firstDayOfWeek=ct,$i.weekdays=Le,$i._weekdays=Ci,$i.weekdaysMin=Ae,$i._weekdaysMin=Pi,$i.weekdaysShort=Ie,$i._weekdaysShort=Gi,$i.weekdaysParse=ze,$i.isPM=qe,$i._meridiemParse=Fi,$i.meridiem=Je,Y("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",Y),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",S);var Ri=Math.abs,Bi=kn("ms"),Qi=kn("s"),Xi=kn("m"),Ki=kn("h"),tr=kn("d"),er=kn("w"),nr=kn("M"),ir=kn("y"),rr=bn("milliseconds"),sr=bn("seconds"),ar=bn("minutes"),or=bn("hours"),ur=bn("days"),dr=bn("months"),lr=bn("years"),cr=Math.round,fr={s:45,m:45,h:22,d:26,M:11},hr=Math.abs,mr=Pt.prototype;mr.abs=_n,mr.add=pn,mr.subtract=gn,mr.as=wn,mr.asMilliseconds=Bi,mr.asSeconds=Qi,mr.asMinutes=Xi,mr.asHours=Ki,mr.asDays=tr,mr.asWeeks=er,mr.asMonths=nr,mr.asYears=ir,mr.valueOf=Sn,mr._bubble=Dn,mr.get=Tn,mr.milliseconds=rr,mr.seconds=sr,mr.minutes=ar,mr.hours=or,mr.days=ur,mr.weeks=On,mr.months=dr,mr.years=lr,mr.humanize=Gn,mr.toISOString=Pn,mr.toString=Pn,mr.toJSON=Pn,mr.locale=pe,mr.localeData=ge,mr.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),mr.lang=Ui,P("X",0,0,"unix"),P("x",0,0,"valueOf"),A("x",ti),A("X",ni),j("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),j("x",function(t,e,n){n._d=new Date(y(t))}),t.version="2.10.6",e(Ut),t.fn=Zi,t.min=Ct,t.max=Gt,t.utc=o,t.unix=Qe,t.months=ln,t.isDate=i,t.locale=Y,t.invalid=c,t.duration=Bt,t.isMoment=m,t.weekdays=fn,t.parseZone=Xe,t.localeData=S,t.isDuration=Ft,t.monthsShort=cn,t.weekdaysMin=mn,t.defineLocale=w,t.weekdaysShort=hn,t.normalizeUnits=T,t.relativeTimeThreshold=Cn;var _r=t;return _r})}).call(this),function(){e=this.moment;try{delete this.moment}catch(t){}}.call(this),"undefined"==typeof Package&&(Package={}),Package["momentjs:moment"]={moment:e}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,r=Package.jquery.jQuery;(function(){!function(e){function t(e){var t=e.length,a=r.type(e);return"function"===a||r.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return null!=e&&e==e.window},r.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(t in e);return void 0===t||i.call(e,t)},r.each=function(e,r,a){var n,i=0,o=e.length,s=t(e);if(a){if(s)for(;o>i&&(n=r.apply(e[i],a),n!==!1);i++);else for(i in e)if(n=r.apply(e[i],a),n===!1)break}else if(s)for(;o>i&&(n=r.call(e[i],i,e[i]),n!==!1);i++);else for(i in e)if(n=r.call(e[i],i,e[i]),n===!1)break;return e},r.data=function(e,t,n){if(void 0===n){var i=e[r.expando],o=i&&a[i];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var i=e[r.expando]||(e[r.expando]=++r.uuid);return a[i]=a[i]||{},a[i][t]=n,n}},r.removeData=function(e,t){var n=e[r.expando],i=n&&a[n];i&&r.each(t,function(e,t){delete i[t]})},r.extend=function(){var e,t,a,n,i,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),l===u&&(s=this,l--);u>l;l++)if(null!=(i=arguments[l]))for(n in i)e=s[n],a=i[n],s!==a&&(c&&a&&(r.isPlainObject(a)||(t=r.isArray(a)))?(t?(t=!1,o=e&&r.isArray(e)?e:[]):o=e&&r.isPlainObject(e)?e:{},s[n]=r.extend(c,o,a)):void 0!==a&&(s[n]=a));return s},r.queue=function(e,a,n){function i(e,r){var a=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,a=0,n=e.length;r>a;)e[n++]=t[a++];if(r!==r)for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e}(a,"string"==typeof e?[e]:e):[].push.call(a,e)),a}if(e){a=(a||"fx")+"queue";var o=r.data(e,a);return n?(!o||r.isArray(n)?o=r.data(e,a,i(n)):o.push(n),o):o||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,a){t=t||"fx";var n=r.queue(a,t),i=n.shift();"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),i.call(a,function(){r.dequeue(a,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),a=this.offset(),n=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:r(e).offset();return a.top-=parseFloat(t.style.marginTop)||0,a.left-=parseFloat(t.style.marginLeft)||0,e.style&&(n.top+=parseFloat(e.style.borderTopWidth)||0,n.left+=parseFloat(e.style.borderLeftWidth)||0),{top:a.top-n.top,left:a.left-n.left}}};var a={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var n={},i=n.hasOwnProperty,o=n.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)n["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,a,n){function i(e){for(var t=-1,r=e?e.length:0,a=[];++t<r;){var n=e[t];n&&a.push(n)}return a}function o(e){return y.isWrapped(e)?e=[].slice.call(e):y.isNode(e)&&(e=[e]),e}function s(e){var t=m.data(e,"velocity");return null===t?n:t}function l(e){return function(t){return Math.round(t*e)*(1/e)}}function u(e,r,a,n){function i(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((i(t,r)*e+o(t,r))*e+s(t))*e}function u(e,t,r){return 3*i(t,r)*e*e+2*o(t,r)*e+s(t)}function c(t,r){for(var n=0;y>n;++n){var i=u(r,e,a);if(0===i)return r;var o=l(r,e,a)-t;r-=o/i}return r}function p(){for(var t=0;b>t;++t)w[t]=l(t*x,e,a)}function f(t,r,n){var i,o,s=0;do o=r+(n-r)/2,i=l(o,e,a)-t,i>0?n=o:r=o;while(Math.abs(i)>v&&++s<h);return o}function d(t){for(var r=0,n=1,i=b-1;n!=i&&w[n]<=t;++n)r+=x;--n;var o=(t-w[n])/(w[n+1]-w[n]),s=r+o*x,l=u(s,e,a);return l>=m?c(t,s):0==l?s:f(t,r,r+x)}function g(){V=!0,(e!=r||a!=n)&&p()}var y=4,m=.001,v=1e-7,h=10,b=11,x=1/(b-1),P="Float32Array"in t;if(4!==arguments.length)return!1;for(var S=0;4>S;++S)if("number"!=typeof arguments[S]||isNaN(arguments[S])||!isFinite(arguments[S]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var w=P?new Float32Array(b):new Array(b),V=!1,O=function(t){return V||g(),e===r&&a===n?t:0===t?0:1===t?1:l(d(t),r,n)};O.getControlPoints=function(){return[{x:e,y:r},{x:a,y:n}]};var C="generateBezier("+[e,r,a,n]+")";return O.toString=function(){return C},O}function c(e,t){var r=e;return y.isString(e)?x.Easings[e]||(r=!1):r=y.isArray(e)&&1===e.length?l.apply(null,e):y.isArray(e)&&2===e.length?P.apply(null,e.concat([t])):y.isArray(e)&&4===e.length?u.apply(null,e):!1,r===!1&&(r=x.Easings[x.defaults.easing]?x.defaults.easing:b),r}function p(e){if(e){var t=(new Date).getTime(),r=x.State.calls.length;r>1e4&&(x.State.calls=i(x.State.calls));for(var a=0;r>a;a++)if(x.State.calls[a]){var o=x.State.calls[a],l=o[0],u=o[2],c=o[3],d=!!c,g=null;c||(c=x.State.calls[a][3]=t-16);for(var v=Math.min((t-c)/u.duration,1),h=0,b=l.length;b>h;h++){var P=l[h],w=P.element;if(s(w)){var O=!1;if(u.display!==n&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var C=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(C,function(e,t){S.setPropertyValue(w,"display",t)})}S.setPropertyValue(w,"display",u.display)}u.visibility!==n&&"hidden"!==u.visibility&&S.setPropertyValue(w,"visibility",u.visibility);for(var X in P)if("element"!==X){var Y=P[X],k,T=y.isString(Y.easing)?x.Easings[Y.easing]:Y.easing;if(1===v)k=Y.endValue;else{var D=Y.endValue-Y.startValue;if(k=Y.startValue+D*T(v,u,D),!d&&k===Y.currentValue)continue}if(Y.currentValue=k,"tween"===X)g=k;else{if(S.Hooks.registered[X]){var F=S.Hooks.getRoot(X),I=s(w).rootPropertyValueCache[F];I&&(Y.rootPropertyValue=I)}var A=S.setPropertyValue(w,X,Y.currentValue+(0===parseFloat(k)?"":Y.unitType),Y.rootPropertyValue,Y.scrollData);S.Hooks.registered[X]&&(s(w).rootPropertyValueCache[F]=S.Normalizations.registered[F]?S.Normalizations.registered[F]("extract",null,A[1]):A[1]),"transform"===A[0]&&(O=!0)}}u.mobileHA&&s(w).transformCache.translate3d===n&&(s(w).transformCache.translate3d="(0px, 0px, 0px)",O=!0),O&&S.flushTransformCache(w)}}u.display!==n&&"none"!==u.display&&(x.State.calls[a][2].display=!1),u.visibility!==n&&"hidden"!==u.visibility&&(x.State.calls[a][2].visibility=!1),u.progress&&u.progress.call(o[1],o[1],v,Math.max(0,c+u.duration-t),c,g),1===v&&f(a)}}x.State.isTicking&&V(p)}function f(e,t){if(!x.State.calls[e])return!1;for(var r=x.State.calls[e][0],a=x.State.calls[e][1],i=x.State.calls[e][2],o=x.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var p=r[u].element;if(t||i.loop||("none"===i.display&&S.setPropertyValue(p,"display",i.display),"hidden"===i.visibility&&S.setPropertyValue(p,"visibility",i.visibility)),i.loop!==!0&&(m.queue(p)[1]===n||!/\.velocityQueueEntryFlag/i.test(m.queue(p)[1]))&&s(p)){s(p).isAnimating=!1,s(p).rootPropertyValueCache={};var f=!1;m.each(S.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,a=s(p).transformCache[t];s(p).transformCache[t]!==n&&new RegExp("^\\("+r+"[^.]").test(a)&&(f=!0,delete s(p).transformCache[t])}),i.mobileHA&&(f=!0,delete s(p).transformCache.translate3d),f&&S.flushTransformCache(p),S.Values.removeClass(p,"velocity-animating")}if(!t&&i.complete&&!i.loop&&u===c-1)try{i.complete.call(a,a)}catch(d){setTimeout(function(){throw d},1)}o&&i.loop!==!0&&o(a),i.loop!==!0||t||(m.each(s(p).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),x(p,"reverse",{loop:!0,delay:i.delay})),i.queue!==!1&&m.dequeue(p,i.queue)}x.State.calls[e]=!1;for(var g=0,y=x.State.calls.length;y>g;g++)if(x.State.calls[g]!==!1){l=!0;break}l===!1&&(x.State.isTicking=!1,delete x.State.calls,x.State.calls=[])}var d=function(){if(a.documentMode)return a.documentMode;for(var e=7;e>4;e--){var t=a.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return n}(),g=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r=(new Date).getTime(),a;return a=Math.max(0,16-(r-e)),e=r+a,setTimeout(function(){t(r+a)},a)}}(),y={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},m,v=!1;if(e.fn&&e.fn.jquery?(m=e,v=!0):m=t.Velocity.Utilities,8>=d&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(r.fn.velocity=r.fn.animate);var h=400,b="swing",x={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:a.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:h,easing:b,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){m.data(e,"velocity",{isSVG:y.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:1},debug:!1};t.pageYOffset!==n?(x.State.scrollAnchor=t,x.State.scrollPropertyLeft="pageXOffset",x.State.scrollPropertyTop="pageYOffset"):(x.State.scrollAnchor=a.documentElement||a.body.parentNode||a.body,x.State.scrollPropertyLeft="scrollLeft",x.State.scrollPropertyTop="scrollTop");var P=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,a){var n={x:t.x+a.dx*r,v:t.v+a.dv*r,tension:t.tension,friction:t.friction};return{dx:n.v,dv:e(n)}}function r(r,a){var n={dx:r.v,dv:e(r)},i=t(r,.5*a,n),o=t(r,.5*a,i),s=t(r,a,o),l=1/6*(n.dx+2*(i.dx+o.dx)+s.dx),u=1/6*(n.dv+2*(i.dv+o.dv)+s.dv);return r.x=r.x+l*a,r.v=r.v+u*a,r}return function a(e,t,n){var i={x:-1,v:0,tension:null,friction:null},o=[0],s=0,l=1e-4,u=.016,c,p,f;for(e=parseFloat(e)||500,t=parseFloat(t)||20,n=n||null,i.tension=e,i.friction=t,c=null!==n,c?(s=a(e,t),p=s/n*u):p=u;f=r(f||i,p),o.push(1+f.x),s+=16,Math.abs(f.x)>l&&Math.abs(f.v)>l;);return c?function(e){return o[e*(o.length-1)|0]}:s}}();x.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){x.Easings[t[0]]=u.apply(null,t[1])});var S=x.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,a,n;if(d)for(r in S.Hooks.templates){a=S.Hooks.templates[r],n=a[0].split(" ");var i=a[1].match(S.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),i.push(i.shift()),S.Hooks.templates[r]=[n.join(" "),i.join(" ")])}for(r in S.Hooks.templates){a=S.Hooks.templates[r],n=a[0].split(" ");for(var e in n){var o=r+n[e],s=e;S.Hooks.registered[o]=[r,s]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=S.Hooks.registered[e];if(r){var a=r[0],n=r[1];return t=S.Hooks.cleanRootPropertyValue(a,t),t.toString().match(S.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var a=S.Hooks.registered[e];if(a){var n=a[0],i=a[1],o,s;return r=S.Hooks.cleanRootPropertyValue(n,r),o=r.toString().match(S.RegEx.valueSplit),o[i]=t,s=o.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var a;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?a=r:(a=r.toString().match(S.RegEx.valueUnwrap),a=a?a[1].replace(/,(\s+)?/g," "):r),a;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return x.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(r);if(!a&&0!==a){var n=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=n?n[1]:0}return a;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=d)switch(e){case"name":return"filter";case"extract":var a=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){9>=d||x.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var e=0;e<S.Lists.transformsBase.length;e++)!function(){var t=S.Lists.transformsBase[e];S.Normalizations.registered[t]=function(e,r,a){switch(e){case"name":return"transform";case"extract":return s(r)===n||s(r).transformCache[t]===n?/^scale/i.test(t)?1:0:s(r).transformCache[t].replace(/[()]/g,"");case"inject":var i=!1;switch(t.substr(0,t.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":x.State.isAndroid&&s(r).transformCache[t]===n&&1>a&&(a=1),i=!/(\d)$/i.test(a);break;case"skew":i=!/(deg|\d)$/i.test(a);break;case"rotate":i=!/(deg|\d)$/i.test(a)}return i||(s(r).transformCache[t]="("+a+")"),s(r).transformCache[t]}}}();for(var e=0;e<S.Lists.colors.length;e++)!function(){var t=S.Lists.colors[e];S.Normalizations.registered[t]=function(e,r,a){switch(e){case"name":return t;case"extract":var i;if(S.RegEx.wrappedValueAlreadyExtracted.test(a))i=a;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?o=s[a]!==n?s[a]:s.black:S.RegEx.isHex.test(a)?o="rgb("+S.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(o=s.black),i=(o||a).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==i.split(" ").length||(i+=" 1"),i;case"inject":return 8>=d?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(8>=d?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||x.State.isAndroid&&!x.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(x.State.prefixMatches[e])return[x.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,a=t.length;a>r;r++){var n;if(n=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),y.isString(x.State.prefixElement.style[n]))return x.State.prefixMatches[e]=n,[n,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a;return e=e.replace(t,function(e,t,r,a){return t+t+r+r+a+a}),a=r.exec(e),a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,r,a,i){function o(e,r){function a(){u&&S.setPropertyValue(e,"display","none")}var l=0;if(8>=d)l=m.css(e,r);else{var u=!1;if(/^(width|height)$/.test(r)&&0===S.getPropertyValue(e,"display")&&(u=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e))),!i){if("height"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return a(),c}if("width"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return a(),p}}var f;f=s(e)===n?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),l=9===d&&"filter"===r?f.getPropertyValue(r):f[r],(""===l||null===l)&&(l=e.style[r]),a()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(r)){var g=o(e,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(r))&&(l=m(e).position()[r]+"px")}return l}var l;if(S.Hooks.registered[r]){var u=r,c=S.Hooks.getRoot(u);a===n&&(a=S.getPropertyValue(e,S.Names.prefixCheck(c)[0])),S.Normalizations.registered[c]&&(a=S.Normalizations.registered[c]("extract",e,a)),l=S.Hooks.extractValue(u,a)}else if(S.Normalizations.registered[r]){var p,f;p=S.Normalizations.registered[r]("name",e),"transform"!==p&&(f=o(e,S.Names.prefixCheck(p)[0]),S.Values.isCSSNullValue(f)&&S.Hooks.templates[r]&&(f=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r]("extract",e,f)}if(!/^[\d-]/.test(l))if(s(e)&&s(e).isSVG&&S.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(g){l=0}else l=e.getAttribute(r);else l=o(e,S.Names.prefixCheck(r)[0]);return S.Values.isCSSNullValue(l)&&(l=0),x.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,a,n,i){var o=r;if("scroll"===r)i.container?i.container["scroll"+i.direction]=a:"Left"===i.direction?t.scrollTo(a,i.alternateValue):t.scrollTo(i.alternateValue,a);else if(S.Normalizations.registered[r]&&"transform"===S.Normalizations.registered[r]("name",e))S.Normalizations.registered[r]("inject",e,a),o="transform",a=s(e).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,u=S.Hooks.getRoot(r);n=n||S.getPropertyValue(e,u),a=S.Hooks.injectValue(l,a,n),r=u}if(S.Normalizations.registered[r]&&(a=S.Normalizations.registered[r]("inject",e,a),r=S.Normalizations.registered[r]("name",e)),o=S.Names.prefixCheck(r)[0],8>=d)try{e.style[o]=a}catch(c){x.debug&&console.log("Browser does not support ["+a+"] for ["+o+"]")}else s(e)&&s(e).isSVG&&S.Names.SVGAttribute(r)?e.setAttribute(r,a):e.style[o]=a;x.debug>=2&&console.log("Set "+r+" ("+o+"): "+a)}return[o,a]},flushTransformCache:function(e){function t(t){return parseFloat(S.getPropertyValue(e,t))}var r="";if((d||x.State.isAndroid&&!x.State.isChrome)&&s(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};m.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(r+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var n,i;m.each(s(e).transformCache,function(t){return n=s(e).transformCache[t],"transformPerspective"===t?(i=n,!0):(9===d&&"rotateZ"===t&&(t="rotate"),void(r+=t+n+" "))}),i&&(r="perspective"+i+" "+r)}S.setPropertyValue(e,"transform",r)}};S.Hooks.register(),S.Normalizations.register(),x.hook=function(e,t,r){var a=n;return e=o(e),m.each(e,function(e,i){if(s(i)===n&&x.init(i),r===n)a===n&&(a=x.CSS.getPropertyValue(i,t));else{var o=x.CSS.setPropertyValue(i,t,r);"transform"===o[0]&&x.CSS.flushTransformCache(i),a=o}}),a};var w=function(){function e(){return l?X.promise||null:u}function r(){function e(e){function u(e,t){var a=n,o=n,s=n;return y.isArray(e)?(a=e[0],!y.isArray(e[1])&&/^[\d-]/.test(e[1])||y.isFunction(e[1])||S.RegEx.isHex.test(e[1])?s=e[1]:(y.isString(e[1])&&!S.RegEx.isHex.test(e[1])||y.isArray(e[1]))&&(o=t?e[1]:c(e[1],i.duration),e[2]!==n&&(s=e[2]))):a=e,t||(o=o||i.easing),y.isFunction(a)&&(a=a.call(r,V,P)),y.isFunction(s)&&(s=s.call(r,V,P)),[a||0,o,s]}function f(e,t){var r,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=S.Values.getUnitType(e)),[a,r]}function d(){var e={myParent:r.parentNode||a.body,position:S.getPropertyValue(r,"position"),fontSize:S.getPropertyValue(r,"fontSize")},n=e.position===A.lastPosition&&e.myParent===A.lastParent,i=e.fontSize===A.lastFontSize;A.lastParent=e.myParent,A.lastPosition=e.position,A.lastFontSize=e.fontSize;var o=100,l={};if(i&&n)l.emToPx=A.lastEmToPx,l.percentToPxWidth=A.lastPercentToPxWidth,l.percentToPxHeight=A.lastPercentToPxHeight;else{var u=s(r).isSVG?a.createElementNS("http://www.w3.org/2000/svg","rect"):a.createElement("div");x.init(u),e.myParent.appendChild(u),m.each(["overflow","overflowX","overflowY"],function(e,t){x.CSS.setPropertyValue(u,t,"hidden")}),x.CSS.setPropertyValue(u,"position",e.position),x.CSS.setPropertyValue(u,"fontSize",e.fontSize),x.CSS.setPropertyValue(u,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){x.CSS.setPropertyValue(u,t,o+"%")}),x.CSS.setPropertyValue(u,"paddingLeft",o+"em"),l.percentToPxWidth=A.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(u,"width",null,!0))||1)/o,l.percentToPxHeight=A.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(u,"height",null,!0))||1)/o,l.emToPx=A.lastEmToPx=(parseFloat(S.getPropertyValue(u,"paddingLeft"))||1)/o,e.myParent.removeChild(u)}return null===A.remToPx&&(A.remToPx=parseFloat(S.getPropertyValue(a.body,"fontSize"))||16),null===A.vwToPx&&(A.vwToPx=parseFloat(t.innerWidth)/100,A.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=A.remToPx,l.vwToPx=A.vwToPx,l.vhToPx=A.vhToPx,x.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),r),l}if(i.begin&&0===V)try{i.begin.call(g,g)}catch(h){setTimeout(function(){throw h},1)}if("scroll"===Y){var w=/^x$/i.test(i.axis)?"Left":"Top",O=parseFloat(i.offset)||0,C,k,T;i.container?y.isWrapped(i.container)||y.isNode(i.container)?(i.container=i.container[0]||i.container,C=i.container["scroll"+w],T=C+m(r).position()[w.toLowerCase()]+O):i.container=null:(C=x.State.scrollAnchor[x.State["scrollProperty"+w]],k=x.State.scrollAnchor[x.State["scrollProperty"+("Left"===w?"Top":"Left")]],T=m(r).offset()[w.toLowerCase()]+O),o={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:T,unitType:"",easing:i.easing,scrollData:{container:i.container,direction:w,alternateValue:k}},element:r},x.debug&&console.log("tweensContainer (scroll): ",o.scroll,r)}else if("reverse"===Y){if(!s(r).tweensContainer)return void m.dequeue(r,i.queue);"none"===s(r).opts.display&&(s(r).opts.display="auto"),"hidden"===s(r).opts.visibility&&(s(r).opts.visibility="visible"),s(r).opts.loop=!1,s(r).opts.begin=null,s(r).opts.complete=null,b.easing||delete i.easing,b.duration||delete i.duration,i=m.extend({},s(r).opts,i);var D=m.extend(!0,{},s(r).tweensContainer);for(var F in D)if("element"!==F){var I=D[F].startValue;D[F].startValue=D[F].currentValue=D[F].endValue,D[F].endValue=I,y.isEmptyObject(b)||(D[F].easing=i.easing),x.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(D[F]),r)}o=D}else if("start"===Y){var D;s(r).tweensContainer&&s(r).isAnimating===!0&&(D=s(r).tweensContainer),m.each(v,function(e,t){if(RegExp("^"+S.Lists.colors.join("$|^")+"$").test(e)){var r=u(t,!0),a=r[0],i=r[1],o=r[2];if(S.RegEx.isHex.test(a)){for(var s=["Red","Green","Blue"],l=S.Values.hexToRgb(a),c=o?S.Values.hexToRgb(o):n,p=0;p<s.length;p++){var f=[l[p]];i&&f.push(i),c!==n&&f.push(c[p]),v[e+s[p]]=f}delete v[e]}}});for(var j in v){var R=u(v[j]),L=R[0],H=R[1],N=R[2];j=S.Names.camelCase(j);var q=S.Hooks.getRoot(j),z=!1;if(s(r).isSVG||"tween"===q||S.Names.prefixCheck(q)[1]!==!1||S.Normalizations.registered[q]!==n){(i.display!==n&&null!==i.display&&"none"!==i.display||i.visibility!==n&&"hidden"!==i.visibility)&&/opacity|filter/.test(j)&&!N&&0!==L&&(N=0),i._cacheValues&&D&&D[j]?(N===n&&(N=D[j].endValue+D[j].unitType),z=s(r).rootPropertyValueCache[q]):S.Hooks.registered[j]?N===n?(z=S.getPropertyValue(r,q),N=S.getPropertyValue(r,j,z)):z=S.Hooks.templates[q][1]:N===n&&(N=S.getPropertyValue(r,j));var Z,B,$,M=!1;if(Z=f(j,N),N=Z[0],$=Z[1],Z=f(j,L),L=Z[0].replace(/^([+-\/*])=/,function(e,t){return M=t,""}),B=Z[1],N=parseFloat(N)||0,L=parseFloat(L)||0,"%"===B&&(/^(fontSize|lineHeight)$/.test(j)?(L/=100,B="em"):/^scale/.test(j)?(L/=100,B=""):/(Red|Green|Blue)$/i.test(j)&&(L=L/100*255,B="")),/[\/*]/.test(M))B=$;else if($!==B&&0!==N)if(0===L)B=$;else{l=l||d();var U=/margin|padding|left|right|width|text|word|letter/i.test(j)||/X$/.test(j)||"x"===j?"x":"y";switch($){case"%":N*="x"===U?l.percentToPxWidth:l.percentToPxHeight;break;case"px":break;default:N*=l[$+"ToPx"]}switch(B){case"%":N*=1/("x"===U?l.percentToPxWidth:l.percentToPxHeight);break;case"px":break;default:N*=1/l[B+"ToPx"]}}switch(M){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L=N*L;break;case"/":L=N/L}o[j]={rootPropertyValue:z,startValue:N,currentValue:N,endValue:L,unitType:B,easing:H},x.debug&&console.log("tweensContainer ("+j+"): "+JSON.stringify(o[j]),r)}else x.debug&&console.log("Skipping ["+q+"] due to a lack of browser support.")}o.element=r}o.element&&(S.Values.addClass(r,"velocity-animating"),E.push(o),""===i.queue&&(s(r).tweensContainer=o,s(r).opts=i),s(r).isAnimating=!0,V===P-1?(x.State.calls.push([E,g,i,null,X.resolver]),x.State.isTicking===!1&&(x.State.isTicking=!0,p())):V++)}var r=this,i=m.extend({},x.defaults,b),o={},l;switch(s(r)===n&&x.init(r),parseFloat(i.delay)&&i.queue!==!1&&m.queue(r,i.queue,function(e){x.velocityQueueEntryFlag=!0,s(r).delayTimer={setTimeout:setTimeout(e,parseFloat(i.delay)),next:e}}),i.duration.toString().toLowerCase()){case"fast":i.duration=200;break;case"normal":i.duration=h;break;case"slow":i.duration=600;break;default:i.duration=parseFloat(i.duration)||1}x.mock!==!1&&(x.mock===!0?i.duration=i.delay=1:(i.duration*=parseFloat(x.mock)||1,i.delay*=parseFloat(x.mock)||1)),i.easing=c(i.easing,i.duration),i.begin&&!y.isFunction(i.begin)&&(i.begin=null),i.progress&&!y.isFunction(i.progress)&&(i.progress=null),i.complete&&!y.isFunction(i.complete)&&(i.complete=null),i.display!==n&&null!==i.display&&(i.display=i.display.toString().toLowerCase(),"auto"===i.display&&(i.display=x.CSS.Values.getDisplayType(r))),i.visibility!==n&&null!==i.visibility&&(i.visibility=i.visibility.toString().toLowerCase()),i.mobileHA=i.mobileHA&&x.State.isMobile&&!x.State.isGingerbread,i.queue===!1?i.delay?setTimeout(e,i.delay):e():m.queue(r,i.queue,function(t,r){return r===!0?(X.promise&&X.resolver(g),!0):(x.velocityQueueEntryFlag=!0,void e(t))}),""!==i.queue&&"fx"!==i.queue||"inprogress"===m.queue(r)[0]||m.dequeue(r)}var i=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||y.isString(arguments[0].properties)),l,u,d,g,v,b;if(y.isWrapped(this)?(l=!1,d=0,g=this,u=this):(l=!0,d=1,g=i?arguments[0].elements||arguments[0].e:arguments[0]),g=o(g)){i?(v=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(v=arguments[d],b=arguments[d+1]);var P=g.length,V=0;if(!/^(stop|finish)$/i.test(v)&&!m.isPlainObject(b)){var O=d+1;b={};for(var C=O;C<arguments.length;C++)y.isArray(arguments[C])||!/^(fast|normal|slow)$/i.test(arguments[C])&&!/^\d/.test(arguments[C])?y.isString(arguments[C])||y.isArray(arguments[C])?b.easing=arguments[C]:y.isFunction(arguments[C])&&(b.complete=arguments[C]):b.duration=arguments[C]}var X={promise:null,resolver:null,rejecter:null};l&&x.Promise&&(X.promise=new x.Promise(function(e,t){X.resolver=e,X.rejecter=t}));var Y;switch(v){case"scroll":Y="scroll";break;case"reverse":Y="reverse";break;case"finish":case"stop":m.each(g,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)});var k=[];return m.each(x.State.calls,function(e,t){t&&m.each(t[1],function(r,a){var i=b===n?"":b;return i===!0||t[2].queue===i||b===n&&t[2].queue===!1?void m.each(g,function(r,n){n===a&&((b===!0||y.isString(b))&&(m.each(m.queue(n,y.isString(b)?b:""),function(e,t){y.isFunction(t)&&t(null,!0)}),m.queue(n,y.isString(b)?b:"",[])),"stop"===v?(s(n)&&s(n).tweensContainer&&i!==!1&&m.each(s(n).tweensContainer,function(e,t){
t.endValue=t.currentValue}),k.push(e)):"finish"===v&&(t[2].duration=1))}):!0})}),"stop"===v&&(m.each(k,function(e,t){f(t,!0)}),X.promise&&X.resolver(g)),e();default:if(!m.isPlainObject(v)||y.isEmptyObject(v)){if(y.isString(v)&&x.Redirects[v]){var T=m.extend({},b),D=T.duration,F=T.delay||0;return T.backwards===!0&&(g=m.extend(!0,[],g).reverse()),m.each(g,function(e,t){parseFloat(T.stagger)?T.delay=F+parseFloat(T.stagger)*e:y.isFunction(T.stagger)&&(T.delay=F+T.stagger.call(t,e,P)),T.drag&&(T.duration=parseFloat(D)||(/^(callout|transition)/.test(v)?1e3:h),T.duration=Math.max(T.duration*(T.backwards?1-e/P:(e+1)/P),.75*T.duration,200)),x.Redirects[v].call(t,t,T||{},e,P,g,X.promise?X:n)}),e()}var I="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return X.promise?X.rejecter(new Error(I)):console.log(I),e()}Y="start"}var A={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},E=[];m.each(g,function(e,t){y.isNode(t)&&r.call(t)});var T=m.extend({},x.defaults,b),j;if(T.loop=parseInt(T.loop),j=2*T.loop-1,T.loop)for(var R=0;j>R;R++){var L={delay:T.delay,progress:T.progress};R===j-1&&(L.display=T.display,L.visibility=T.visibility,L.complete=T.complete),w(g,"reverse",L)}return e()}};x=m.extend(w,x),x.animate=w;var V=t.requestAnimationFrame||g;return x.State.isMobile||a.hidden===n||a.addEventListener("visibilitychange",function(){a.hidden?(V=function(e){return setTimeout(function(){e(!0)},16)},p()):V=t.requestAnimationFrame||g}),e.Velocity=x,e!==t&&(e.fn.velocity=w,e.fn.velocity.defaults=x.defaults),m.each(["Down","Up"],function(e,t){x.Redirects["slide"+t]=function(e,r,a,i,o,s){var l=m.extend({},r),u=l.begin,c=l.complete,p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===n&&(l.display="Down"===t?"inline"===x.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(o,o);for(var r in p){f[r]=e.style[r];var a=x.CSS.getPropertyValue(e,r);p[r]="Down"===t?[a,0]:[0,a]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)e.style[t]=f[t];c&&c.call(o,o),s&&s.resolver(o)},x(e,p,l)}}),m.each(["In","Out"],function(e,t){x.Redirects["fade"+t]=function(e,r,a,i,o,s){var l=m.extend({},r),u={opacity:"In"===t?1:0},c=l.complete;l.complete=a!==i-1?l.begin=null:function(){c&&c.call(o,o),s&&s.resolver(o)},l.display===n&&(l.display="In"===t?"auto":"none"),x(this,u,l)}}),x}(window.jQuery||window.Zepto||window,window,document)})}).call(this),function(){!function(e){"function"==typeof require&&"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(["velocity"],e):e()}(function(){return function(e,t,r,a){function n(e,t){var r=[];return e&&t?(o.each([e,t],function(e,t){var a=[];o.each(t,function(e,t){for(;t.toString().length<5;)t="0"+t;a.push(t)}),r.push(a.join(""))}),parseFloat(r[0])>parseFloat(r[1])):!1}if(!e.Velocity||!e.Velocity.Utilities)return void(t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var i=e.Velocity,o=i.Utilities,s=i.version,l={major:1,minor:1,patch:0};if(n(l,s)){var u="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(u),new Error(u)}i.RegisterEffect=i.RegisterUI=function(e,t){function r(e,t,r,a){var n=0,s;o.each(e.nodeType?[e]:e,function(e,t){a&&(r+=e*a),s=t.parentNode,o.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(e,r){n+=parseFloat(i.CSS.getPropertyValue(t,r))})}),i.animate(s,{height:("In"===t?"+":"-")+"="+n},{queue:!1,easing:"ease-in-out",duration:r*("In"===t?.6:1)})}return i.Redirects[e]=function(n,s,l,u,c,p){function f(){s.display!==a&&"none"!==s.display||!/Out$/.test(e)||o.each(c.nodeType?[c]:c,function(e,t){i.CSS.setPropertyValue(t,"display","none")}),s.complete&&s.complete.call(c,c),p&&p.resolver(c||n)}var d=l===u-1;t.defaultDuration="function"==typeof t.defaultDuration?t.defaultDuration.call(c,c):parseFloat(t.defaultDuration);for(var g=0;g<t.calls.length;g++){var y=t.calls[g],m=y[0],v=s.duration||t.defaultDuration||1e3,h=y[1],b=y[2]||{},x={};if(x.duration=v*(h||1),x.queue=s.queue||"",x.easing=b.easing||"ease",x.delay=parseFloat(b.delay)||0,x._cacheValues=b._cacheValues||!0,0===g){if(x.delay+=parseFloat(s.delay)||0,0===l&&(x.begin=function(){s.begin&&s.begin.call(c,c);var t=e.match(/(In|Out)$/);t&&"In"===t[0]&&m.opacity!==a&&o.each(c.nodeType?[c]:c,function(e,t){i.CSS.setPropertyValue(t,"opacity",0)}),s.animateParentHeight&&t&&r(c,t[0],v+x.delay,s.stagger)}),null!==s.display)if(s.display!==a&&"none"!==s.display)x.display=s.display;else if(/In$/.test(e)){var P=i.CSS.Values.getDisplayType(n);x.display="inline"===P?"inline-block":P}s.visibility&&"hidden"!==s.visibility&&(x.visibility=s.visibility)}g===t.calls.length-1&&(x.complete=function(){if(t.reset){for(var e in t.reset){var r=t.reset[e];i.CSS.Hooks.registered[e]!==a||"string"!=typeof r&&"number"!=typeof r||(t.reset[e]=[t.reset[e],t.reset[e]])}var o={duration:0,queue:!1};d&&(o.complete=f),i.animate(n,t.reset,o)}else d&&f()},"hidden"===s.visibility&&(x.visibility=s.visibility)),i.animate(n,m,x)}},i},i.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]]},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var c in i.RegisterEffect.packagedEffects)i.RegisterEffect(c,i.RegisterEffect.packagedEffects[c]);i.RunSequence=function(e){var t=o.extend(!0,[],e);t.length>1&&(o.each(t.reverse(),function(e,r){var a=t[e+1];if(a){var n=r.options&&r.options.sequenceQueue===!1?"begin":"complete",s=a.options&&a.options[n],l={};l[n]=function(){var e=a.elements||a.e,t=e.nodeType?[e]:e;s&&s.call(t,t),i(r)},a.options=o.extend({},a.options,l)}}),t.reverse()),i(t[0])}}(window.jQuery||window.Zepto||window,window,document)})}.call(this),"undefined"==typeof Package&&(Package={}),Package["velocityjs:velocityjs"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package["momentjs:moment"].moment,n;(function(){n=this,n.moment=t}).call(this),function(){!function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(("undefined"!=typeof n?n:this).moment)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,_){var a={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===_?n?"хвилина":"хвилину":"h"===_?n?"година":"годину":e+" "+t(a[_],+e)}function _(e,t){var n={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},_=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[_][e.month()]}function a(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},_=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[_][e.day()]}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.defineLocale("uk",{months:_,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:a,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["rzymek:moment-locale-uk"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.templating.Template,t=Package["reactive-var"].ReactiveVar,n=Package.underscore._,i=Package.blaze.Blaze,o=Package.blaze.UI,c=Package.blaze.Handlebars,s=Package.htmljs.HTML,r;(function(){a.__checkName("googleMap"),a.googleMap=new a("Template.googleMap",function(){var e=this;return s.Raw('<div class="map-canvas" style="width: 100%; height: 100%"></div>')})}).call(this),function(){var i=["Map","StreetViewPanorama"];r={load:n.once(function(e){e=n.extend({v:"3.exp"},e);var a=n.map(e,function(e,a){return a+"="+e}).join("&"),t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?"+a+"&callback=GoogleMaps.initialize",document.body.appendChild(t)}),utilityLibraries:[],loadUtilityLibrary:function(e){this.utilityLibraries.push(e)},_loaded:new t(!1),loaded:function(){return this._loaded.get()},maps:{},_callbacks:{},initialize:function(){this._loaded.set(!0),n.each(this.utilityLibraries,function(e){var a=document.createElement("script");a.type="text/javascript",a.src=e,document.body.appendChild(a)})},_ready:function(e,a){n.each(this._callbacks[e],function(e){n.isFunction(e)&&e(a)})},ready:function(e,a){this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(n.once(a))},get:function(e){return this.maps[e]},_create:function(e,a){var t=this;t.maps[e]={instance:a.instance,options:a.options},"StreetViewPanorama"===a.type?(a.instance.setVisible(!0),t._ready(e,t.maps[e])):google.maps.event.addListener(a.instance,"tilesloaded",function(){t._ready(e,t.maps[e])})}},a.googleMap.onRendered(function(){var t=this;t.autorun(function(o){if(r.loaded()){var c=a.currentData();if(!c.options)return;if(!c.name)throw new e.Error("GoogleMaps - Missing argument: name");var s=t.$(".map-canvas").get(0),l=c.type?c.type:"Map";if(!n.include(i,l))throw new e.Error("GoogleMaps - Invalid type argument: "+l);r._create(c.name,{type:l,instance:new google.maps[l](s,c.options),options:c.options}),o.stop()}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["dburles:google-maps"]={GoogleMaps:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery;(function(){!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=o(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,i,s,l=[],u=e.split(/ +/);for(t=0,n=u.length;n>t;t++){if(i=r(u[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:u[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=s(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var o=0,r=0;e>o;o++)r+=s(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return a(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;r>n;n++){if(t=a(o[n],e),0>=t)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;r>t;t++)n+=a(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,t){var i,o,r,s,a,l,u,p,c,d,h;if(r=this,e=r.prepareSearch(e,t),h=!e.query&&t.sort_empty||t.sort,c=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},a=[],h)for(i=0,o=h.length;o>i;i++)(e.query||"$score"!==h[i].field)&&a.push(h[i]);if(e.query){for(d=!0,i=0,o=a.length;o>i;i++)if("$score"===a[i].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;o>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(p=[],i=0,o=a.length;o>i;i++)p.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=p[0],function(e,t){return u*n(c(s,e),c(s,t))}):function(e,t){var i,o,r,s,u;for(i=0;l>i;i++)if(u=a[i].field,o=p[i]*n(c(u,e),c(u,t)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=i({},t);var n=t.fields,o=t.sort,r=t.sort_empty;return n&&!s(n)&&(t.fields=[n]),o&&!s(o)&&(t.sort=[o]),r&&!s(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n=this,i,o,r,s,a,l;return r=this.prepareSearch(e,t),t=r.options,e=r.query,l=t.score||n.getScoreFunction(r),e.length?n.iterator(n.items,function(e,n){o=l(e),(t.filter===!1||o>0)&&r.items.push({score:o,id:n})}):n.iterator(n.items,function(e,t){r.items.push({score:1,id:t})}),a=n.getSortFunction(r,t),a&&r.items.sort(a),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var n=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var n,i,o,r;for(n=1,i=arguments.length;i>n;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e},o=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||t&&t.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},l=function(){var e,t,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,e=0,t=i.length;t>e;e++)r[i.charAt(e)]=n;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?s.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=a.splitText(r[0].length),u=a.cloneNode(!0);s.appendChild(u),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var p=0;p<e.childNodes.length;++p)p+=i(e.childNodes[p]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=188,l=13,u=27,p=37,c=38,d=80,h=39,g=40,f=78,v=8,m=46,y=16,w=r?91:17,O=r?18:17,$=9,C=1,b=2,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,S=function(e){return"undefined"!=typeof e},I=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},_=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},F=function(e){return(e+"").replace(/\$/g,"$$$$")},k={};k.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},k.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},P=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},A=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},z=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},T=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},j=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},q=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");j(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},E=function(e){var t=null,n=function(n,i){var o,r,s,a,l,u,p,c;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===m||r===v?(c=T(e[0]),c.length?o=o.substring(0,c.start)+o.substring(c.start+c.length):r===v&&c.start?o=o.substring(0,c.start-1)+o.substring(c.start+1):r===m&&"undefined"!=typeof c.start&&(o=o.substring(0,c.start)+o.substring(c.start+1))):s&&(u=n.shiftKey,p=String.fromCharCode(n.keyCode),p=u?p.toUpperCase():p.toLowerCase(),o+=p)),a=e.attr("placeholder"),!o&&a&&(o=a),l=q(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},L=function(n,i){var o,r,s,a,l,u=this;l=n[0],l.selectize=u;var p=window.getComputedStyle&&window.getComputedStyle(l,null);if(a=p?p.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",e.extend(u,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?C:b,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?u.onSearchChange:P(u.onSearchChange,i.loadThrottle)}),u.sifter=new t(this.options,{diacritics:i.diacritics}),u.settings.options){for(r=0,s=u.settings.options.length;s>r;r++)u.registerOption(u.settings.options[r]);delete u.settings.options}if(u.settings.optgroups){for(r=0,s=u.settings.optgroups.length;s>r;r++)u.registerOptionGroup(u.settings.optgroups[r]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return o.mixin(L),n.mixin(L),e.extend(L.prototype,{setup:function(){var t=this,n=t.settings,i=t.eventNS,o=e(window),s=e(document),a=t.$input,l,u,p,c,d,h,g,f,v,m,$;if(g=t.settings.mode,m=a.attr("class")||"",l=e("<div>").addClass(n.wrapperClass).addClass(m).addClass(g),u=e("<div>").addClass(n.inputClass).addClass("items").appendTo(l),p=e('<input type="text" autocomplete="off" />').appendTo(u).attr("tabindex",a.is(":disabled")?"-1":t.tabIndex),h=e(n.dropdownParent||l),c=e("<div>").addClass(n.dropdownClass).addClass(g).hide().appendTo(h),d=e("<div>").addClass(n.dropdownContentClass).appendTo(c),t.settings.copyClassesToDropdown&&c.addClass(m),l.css({width:a[0].style.width}),t.plugins.names.length&&($="plugin-"+t.plugins.names.join(" plugin-"),l.addClass($),c.addClass($)),(null===n.maxItems||n.maxItems>1)&&t.tagType===C&&a.attr("multiple","multiple"),t.settings.placeholder&&p.attr("placeholder",n.placeholder),!t.settings.splitOn&&t.settings.delimiter){var b=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");t.settings.splitOn=new RegExp("\\s*"+b+"+\\s*")}a.attr("autocorrect")&&p.attr("autocorrect",a.attr("autocorrect")),a.attr("autocapitalize")&&p.attr("autocapitalize",a.attr("autocapitalize")),t.$wrapper=l,t.$control=u,t.$control_input=p,t.$dropdown=c,t.$dropdown_content=d,c.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),c.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),z(u,"mousedown","*:not(input)",function(){return t.onItemSelect.apply(t,arguments)}),E(p),u.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),p.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+i,function(e){t.isCmdDown=e[r?"metaKey":"ctrlKey"],t.isCtrlDown=e[r?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+i,function(e){e.keyCode===O&&(t.isCtrlDown=!1),e.keyCode===y&&(t.isShiftDown=!1),e.keyCode===w&&(t.isCmdDown=!1)}),s.on("mousedown"+i,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),o.on(["scroll"+i,"resize"+i].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),o.on("mousemove"+i,function(){t.ignoreHover=!1}),this.revertSettings={$children:a.children().detach(),tabindex:a.attr("tabindex")},a.attr("tabindex",-1).hide().after(t.$wrapper),e.isArray(n.items)&&(t.setValue(n.items),delete n.items),x&&a.on("invalid"+i,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,a.is(":disabled")&&t.disable(),t.on("change",this.onChange),a.data("selectize",t),a.addClass("selectized"),t.trigger("initialize"),n.preload===!0&&t.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented(),o=e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=t.length;o>i;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=e.target===this.$control_input[0],n=this;if(n.isLocked)return void(e.keyCode!==$&&e.preventDefault());switch(e.keyCode){case s:if(n.isCmdDown)return void n.selectAll();break;case u:return void(n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.close()));case f:if(!e.ctrlKey||e.altKey)break;case g:if(!n.isOpen&&n.hasOptions)n.open();else if(n.$activeOption){n.ignoreHover=!0;var i=n.getAdjacentOption(n.$activeOption,1);i.length&&n.setActiveOption(i,!0,!0)}return void e.preventDefault();case d:if(!e.ctrlKey||e.altKey)break;case c:if(n.$activeOption){n.ignoreHover=!0;var o=n.getAdjacentOption(n.$activeOption,-1);o.length&&n.setActiveOption(o,!0,!0)}return void e.preventDefault();case l:return void(n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),e.preventDefault()));case p:return void n.advanceSelection(-1,e);case h:return void n.advanceSelection(1,e);case $:return n.settings.selectOnTab&&n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),n.isFull()||e.preventDefault()),void(n.settings.create&&n.createItem()&&e.preventDefault());case v:case m:return void n.deleteSelection(e)}return!n.isFull()&&!n.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===C&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];A(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i=this,o,r,s,a,l,u,p,c;if("single"!==i.settings.mode){if(t=e(t),!t.length)return e(i.$activeItems).removeClass("active"),i.$activeItems=[],void(i.isFocused&&i.showInput());if(o=n&&n.type.toLowerCase(),"mousedown"===o&&i.isShiftDown&&i.$activeItems.length){for(c=i.$control.children(".active:last"),a=Array.prototype.indexOf.apply(i.$control[0].childNodes,[c[0]]),l=Array.prototype.indexOf.apply(i.$control[0].childNodes,[t[0]]),a>l&&(p=a,a=l,l=p),r=a;l>=r;r++)u=i.$control[0].childNodes[r],-1===i.$activeItems.indexOf(u)&&(e(u).addClass("active"),i.$activeItems.push(u));n.preventDefault()}else"mousedown"===o&&i.isCtrlDown||"keydown"===o&&this.isShiftDown?t.hasClass("active")?(s=i.$activeItems.indexOf(t[0]),i.$activeItems.splice(s,1),t.removeClass("active")):i.$activeItems.push(t.addClass("active")[0]):(e(i.$activeItems).removeClass("active"),i.$activeItems=[t.addClass("active")[0]]);i.hideInput(),this.isFocused||i.focus()}},setActiveOption:function(t,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,t=e(t),t.length&&(u.$activeOption=t.addClass("active"),(n||!S(n))&&(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):n>s&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r,s,a=this,l=a.settings,u=this.getSearchOptions();if(l.score&&(s=a.settings.score.apply(this,[t]),"function"!=typeof s))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==a.lastQuery?(a.lastQuery=t,r=a.sifter.search(t,e.extend(u,{score:s})),a.currentResults=r):r=e.extend(!0,{},a.currentResults),l.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==a.items.indexOf(I(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,o,r,s,a,l,u,p,c,d,h,g,f,v,m,y;"undefined"==typeof t&&(t=!0);var w=this,O=e.trim(w.$control_input.val()),$=w.search(O),C=w.$dropdown_content,b=w.$activeOption&&I(w.$activeOption.attr("data-value"));for(s=$.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=w.options[$.items[n].id],p=w.render("option",u),c=u[w.settings.optgroupField]||"",d=e.isArray(c)?c:[c],o=0,r=d&&d.length;r>o;o++)c=d[o],w.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=[],l.push(c)),a[c].push(p);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=w.optgroups[e].$order||0,i=w.optgroups[t].$order||0;return n-i}),h=[],n=0,s=l.length;s>n;n++)c=l[n],w.optgroups.hasOwnProperty(c)&&a[c].length?(g=w.render("optgroup_header",w.optgroups[c])||"",g+=a[c].join(""),h.push(w.render("optgroup",e.extend({},w.optgroups[c],{html:g})))):h.push(a[c].join(""));if(C.html(h.join("")),w.settings.highlight&&$.query.length&&$.tokens.length)for(n=0,s=$.tokens.length;s>n;n++)i(C,$.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;s>n;n++)w.getOption(w.items[n]).addClass("selected");f=w.canCreate(O),f&&(C.prepend(w.render("option_create",{input:O})),y=e(C[0].childNodes[0])),w.hasOptions=$.items.length>0||f,w.hasOptions?($.items.length>0?(m=b&&w.getOption(b),m&&m.length?v=m:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):v=y,w.setActiveOption(v),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=I(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=I(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i=this,o,r,s,a,l,u,p;if(t=I(t),s=I(n[i.settings.valueField]),null!==t&&i.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");p=i.options[t].$order,s!==t&&(delete i.options[t],a=i.items.indexOf(t),-1!==a&&i.items.splice(a,1,s)),n.$order=n.$order||p,i.options[s]=n,l=i.renderCache.item,u=i.renderCache.option,l&&(delete l[t],delete l[s]),u&&(delete u[t],delete u[s]),-1!==i.items.indexOf(s)&&(o=i.getItem(t),r=e(i.render("item",n)),o.hasClass("active")&&r.addClass("active"),o.replaceWith(r)),i.lastQuery=null,i.isOpen&&i.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=I(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=I(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;r>o;o++)this.isPending=r-1>o,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];A(this,i,function(){var i,o,r,s=this,a=s.settings.mode,l,u,p,c;return t=I(t),-1!==s.items.indexOf(t)?void("single"===a&&s.close()):void(s.options.hasOwnProperty(t)&&("single"===a&&s.clear(n),"multi"===a&&s.isFull()||(i=e(s.render("item",s.options[t])),c=s.isFull(),s.items.splice(s.caretPos,0,t),s.insertAtCaret(i),(!s.isPending||!c&&s.isFull())&&s.refreshState(),s.isSetup&&(r=s.$dropdown_content.find("[data-selectable]"),s.isPending||(o=s.getOption(t),p=s.getAdjacentOption(o,1).attr("data-value"),s.refreshOptions(s.isFocused&&"single"!==a),p&&s.setActiveOption(s.getOption(p))),!r.length||s.isFull()?s.close():s.positionDropdown(),s.updatePlaceholder(),s.trigger("item_add",t,i),s.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n=this,i,o,r;i="object"==typeof e?e:n.getItem(e),e=I(i.attr("data-value")),o=n.items.indexOf(e),-1!==o&&(i.remove(),i.hasClass("active")&&(r=n.$activeItems.indexOf(i[0]),n.$activeItems.splice(r,1)),n.items.splice(o,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(e)&&n.removeOption(e,t),o<n.caretPos&&n.setCaret(n.caretPos-1),n.refreshState(),n.updatePlaceholder(),n.updateOriginalInput({silent:t}),n.positionDropdown(),n.trigger("item_remove",e,i))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=D(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=I(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===C){for(i=[],t=0,n=r.items.length;n>t;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+_(r.items[t])+'" selected="selected">'+_(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,s,a,l,u,p,c=this;if(o=t&&t.keyCode===v?-1:1,r=T(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(l=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),
s=[],c.$activeItems.length){for(p=c.$control.children(".active:"+(o>0?"last":"first")),a=c.$control.children(":not(input)").index(p),o>0&&a++,n=0,i=c.$activeItems.length;i>n;n++)s.push(e(c.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(0>o&&0===r.start&&0===r.length?s.push(c.items[c.caretPos-1]):o>0&&r.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&c.settings.onDelete.apply(c,[s])===!1)return!1;for("undefined"!=typeof a&&c.setCaret(a);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),l&&(u=c.getOption(l),u.length&&c.setActiveOption(u)),!0},advanceSelection:function(e,t){var n,i,o,r,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=T(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>e?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n=this,i,o;0!==e&&(i=e>0?"next":"prev",n.isShiftDown?(o=n.$control_input[i](),o.length&&(n.hideInput(),n.setActiveItem(o),t&&t.preventDefault())):n.setCaret(n.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,s,a;for(s=n.$control.children(":not(input)"),i=0,o=s.length;o>i;i++)a=e(s[i]).detach(),t>i?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o,r="",s=!1,a=this,l=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=I(t[a.settings.valueField]),s=!!n),s&&(S(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(r=a.settings.render[e].apply(this,[t,_]),("option"===e||"option_create"===e)&&(r=r.replace(l,"<$1 data-selectable")),"optgroup"===e&&(i=t[a.settings.optgroupValueField]||"",r=r.replace(l,'<$1 data-group="'+F(_(i))+'"')),("option"===e||"item"===e)&&(r=r.replace(l,'<$1 data-value="'+F(_(n||""))+'"')),s&&(a.renderCache[e][n]=r),r)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),L.count=0,L.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,p=function(t,n){var a,l,u,p,c=t.attr(o);if(c)for(n.options=JSON.parse(c),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(u=d.split(i.delimiter),a=0,l=u.length;l>a;a++)p={},p[r]=u[a],p[s]=u[a],n.options.push(p);n.items=u}},c=function(t,n){var p,c,d,h,g=0,f=n.options,v={},m=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,o){t=e(t);var l=I(t.attr("value"));if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(o){var u=v[l][a];u?e.isArray(u)?u.push(o):v[l][a]=[u,o]:v[l][a]=o}}else{var p=m(t)||{};p[r]=p[r]||t.text(),p[s]=p[s]||l,p[a]=p[a]||o,v[l]=p,f.push(p),t.is(":selected")&&n.items.push(l)}},w=function(t){var i,o,r,s,a;for(t=e(t),r=t.attr("label"),r&&(s=m(t)||{},s[l]=r,s[u]=r,n.optgroups.push(s)),a=e("option",t),i=0,o=a.length;o>i;i++)y(a[i],r)};for(n.maxItems=t.attr("multiple")?null:1,h=t.children(),p=0,c=h.length;c>p;p++)d=h[p].tagName.toLowerCase(),"optgroup"===d?w(h[p]):"option"===d&&y(h[p])};return this.each(function(){if(!this.selectize){var o,r=e(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?c(r,l):p(r,l),o=new L(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=L.defaults,e.fn.selectize.support={validity:x},L.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(t)}})}}()}}),L.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),L.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,s;return!this.isOpen||t.keyCode!==p&&t.keyCode!==h?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===p?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,s,a,l,u,p;if(p=e("[data-group]",n.$dropdown_content),r=p.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,p.eq(o).height());p.css({height:s})}t.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/r),p.css({width:a}),r>1&&(l=u-a*(r-1),p.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(k.after(this,"positionDropdown",o),k.after(this,"refreshOptions",o))}),L.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+_(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(e){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),L.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===v&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),L})}).call(this),"undefined"==typeof Package&&(Package={}),Package["jeremy:selectize"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,a=Package.jquery.jQuery;(function(){!function(e){function t(e){var t=document.createElement("input"),a="on"+e,i=a in t;return i||(t.setAttribute(a,"return;"),i="function"==typeof t[a]),t=null,i}function a(e){var t="text"==e||"tel"==e||"password"==e;if(!t){var a=document.createElement("input");a.setAttribute("type",e),t="text"===a.type,a=null}return t}function i(t,a,r){var n=r.aliases[t];return n?(n.alias&&i(n.alias,void 0,r),e.extend(!0,r,n),e.extend(!0,r,a),!0):!1}function r(t,a){function i(a){function i(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(a,i,r){var n=t.definitions[i],o=0==a.matches.length;if(r=void 0!=r?r:a.matches.length,n&&!p){n.placeholder=e.isFunction(n.placeholder)?n.placeholder.call(this,t):n.placeholder;for(var s=n.prevalidator,l=s?s.length:0,u=1;u<n.cardinality;u++){var c=l>=u?s[u-1]:[],f=c.validator,d=c.cardinality;a.matches.splice(r++,0,{fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:d?d:1,optionality:a.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}a.matches.splice(r++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:a.isOptional,newBlockMarker:o,casing:n.casing,def:n.definitionSymbol||i,placeholder:n.placeholder,mask:i})}else a.matches.splice(r++,0,{fn:null,cardinality:0,optionality:a.isOptional,newBlockMarker:o,casing:null,def:i,placeholder:void 0,mask:i}),p=!1}for(var n,o,s,l,u,c,f=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,d=new i,m=[],v=[];n=f.exec(a);)switch(o=n[0],o.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(s=m.pop(),m.length>0){if(l=m[m.length-1],l.matches.push(s),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):d.matches.push(u)}}else d.matches.push(s);break;case t.optionalmarker.start:m.push(new i(!1,!0));break;case t.groupmarker.start:m.push(new i(!0));break;case t.quantifiermarker.start:var g=new i(!1,!1,!0);o=o.replace(/[{}]/g,"");var k=o.split(","),y=isNaN(k[0])?k[0]:parseInt(k[0]),x=1==k.length?y:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"==x||"+"==x)&&(y="*"==x?0:1),g.quantifier={min:y,max:x},m.length>0){var b=m[m.length-1].matches;if(n=b.pop(),!n.isGroup){var P=new i(!0);P.matches.push(n),n=P}b.push(n),b.push(g)}else{if(n=d.matches.pop(),!n.isGroup){var P=new i(!0);P.matches.push(n),n=P}d.matches.push(n),d.matches.push(g)}break;case t.escapeChar:p=!0;break;case t.alternatormarker:m.length>0?(l=m[m.length-1],c=l.matches.pop()):c=d.matches.pop(),c.isAlternator?m.push(c):(u=new i(!1,!1,!1,!0),u.matches.push(c),m.push(u));break;default:if(m.length>0){if(l=m[m.length-1],l.matches.length>0&&!l.isAlternator&&(c=l.matches[l.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end))),r(l,o),l.isAlternator){u=m.pop();for(var h=0;h<u.matches.length;h++)u.matches[h].isGroup=!1;m.length>0?(l=m[m.length-1],l.matches.push(u)):d.matches.push(u)}}else d.matches.length>0&&(c=d.matches[d.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end))),r(d,o)}return d.matches.length>0&&(c=d.matches[d.matches.length-1],c.isGroup&&(c.isGroup=!1,r(c,t.groupmarker.start,0),r(c,t.groupmarker.end)),v.push(d)),v}function r(r,n){if(void 0==r||""==r)return void 0;if(1==r.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;r=t.groupmarker.start+r+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}var s;return void 0==e.inputmask.masksCache[r]||a===!0?(s={mask:r,maskToken:i(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n},a!==!0&&(e.inputmask.masksCache[r]=s)):s=e.extend(!0,{},e.inputmask.masksCache[r]),s}function n(e){if(e=e.toString(),t.numericInput){e=e.split("").reverse();for(var a=0;a<e.length;a++)e[a]==t.optionalmarker.start?e[a]=t.optionalmarker.end:e[a]==t.optionalmarker.end?e[a]=t.optionalmarker.start:e[a]==t.groupmarker.start?e[a]=t.groupmarker.end:e[a]==t.groupmarker.end&&(e[a]=t.groupmarker.start);e=e.join("")}return e}var o=void 0;if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=void 0==t.keepStatic?!0:t.keepStatic;var s="(";return e.each(t.mask,function(t,a){s.length>1&&(s+=")|("),s+=n(void 0==a.mask||e.isFunction(a.mask)?a:a.mask)}),s+=")",r(s,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0==t.mask.mask||e.isFunction(t.mask.mask)?r(n(t.mask),t.mask):r(n(t.mask.mask),t.mask)),o}function n(i,r,n){function o(e,t,a){t=t||0;var i,r,n,o=[],s=0;do{if(e===!0&&f().validPositions[s]){var l=f().validPositions[s];r=l.match,i=l.locator.slice(),o.push(a===!0?l.input:O(s,r))}else n=h(s,i,s-1),r=n.match,i=n.locator.slice(),o.push(O(s,r));s++}while((void 0==ie||ie>s-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=s);return o.pop(),o}function f(){return r}function p(e){var t=f();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function d(e,t){var a=f(),i=-1,r=a.validPositions;void 0==e&&(e=-1);var n=i,o=i;for(var s in r){var l=parseInt(s);r[l]&&(t||null!=r[l].match.fn)&&(e>=l&&(n=l),l>=e&&(o=l))}return i=-1!=n&&e-n>1||e>o?n:o}function m(t,a,i){if(n.insertMode&&void 0!=f().validPositions[t]&&void 0==i){var r,o=e.extend(!0,{},f().validPositions),s=d();for(r=t;s>=r;r++)delete f().validPositions[r];f().validPositions[t]=a;var l,u=!0,c=f().validPositions;for(r=l=t;s>=r;r++){var p=o[r];if(void 0!=p)for(var m=l,v=-1;m<E()&&(null==p.match.fn&&c[r]&&(c[r].match.optionalQuantifier===!0||c[r].match.optionality===!0)||null!=p.match.fn);){if(null==p.match.fn||!n.keepStatic&&c[r]&&(void 0!=c[r+1]&&y(r+1,c[r].locator.slice(),r).length>1||void 0!=c[r].alternation)?m++:m=R(l),k(m,p.match.def)){u=_(m,p.input,!0,!0)!==!1,l=m;break}if(u=null==p.match.fn,v==m)break;v=m}if(!u)break}if(!u)return f().validPositions=e.extend(!0,{},o),!1}else f().validPositions[t]=a;return!0}function v(e,t,a,i){var r,o=e;for(f().p=e,void 0!=f().validPositions[e]&&f().validPositions[e].input==n.radixPoint&&(t++,o++),r=o;t>r;r++)void 0!=f().validPositions[r]&&(a===!0||0!=n.canClearPosition(f(),r,d(),i,n))&&delete f().validPositions[r];for(p(!0),r=o+1;r<=d();){for(;void 0!=f().validPositions[o];)o++;var s=f().validPositions[o];o>r&&(r=o+1);var l=f().validPositions[r];void 0!=l&&void 0==s?(k(o,l.match.def)&&_(o,l.input,!0)!==!1&&(delete f().validPositions[r],r++),o++):r++}var u=d(),c=E();for(u>=e&&void 0!=f().validPositions[u]&&f().validPositions[u].input==n.radixPoint&&delete f().validPositions[u],r=u+1;c>=r;r++)f().validPositions[r]&&delete f().validPositions[r];p(!0)}function h(e,t,a){var i=f().validPositions[e];if(void 0==i)for(var r=y(e,t,a),o=d(),s=f().validPositions[o]||y(0)[0],l=void 0!=s.alternation?s.locator[s.alternation].toString().split(","):[],u=0;u<r.length&&(i=r[u],!(i.match&&(n.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(void 0==s.alternation||s.alternation!=i.alternation||void 0!=i.locator[s.alternation]&&w(i.locator[s.alternation].toString().split(","),l))));u++);return i}function g(e){return f().validPositions[e]?f().validPositions[e].match:y(e)[0].match}function k(e,t){for(var a=!1,i=y(e),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def==t){a=!0;break}return a}function y(t,a,i,r){function n(a,i,r,o){function l(r,o,d){if(s>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+f().mask),!0;if(s==t&&void 0==r.matches)return u.push({match:r,locator:o.reverse()}),!0;if(void 0!=r.matches){if(r.isGroup&&d!==!0){if(r=l(a.matches[p+1],o))return!0}else if(r.isOptional){var m=r;if(r=n(r,i,o,d)){var v=u[u.length-1].match,h=0==e.inArray(v,m.matches);if(!h)return!0;c=!0,s=t}}else if(r.isAlternator){var g,k=r,y=[],x=u.slice(),b=o.length,P=i.length>0?i.shift():-1;if(-1==P||"string"==typeof P){var S=s,w=i.slice(),_=[];"string"==typeof P&&(_=P.split(","));for(var A=0;A<k.matches.length;A++){if(u=[],r=l(k.matches[A],[A].concat(o),d)||r,r!==!0&&void 0!=r&&_[_.length-1]<k.matches.length){var E=a.matches.indexOf(r)+1;a.matches.length>E&&(r=l(a.matches[E],[E].concat(o.slice(1,o.length)),d),r&&(_.push(E.toString()),e.each(u,function(e,t){t.alternation=o.length-1})))}g=u.slice(),s=S,u=[];for(var R=0;R<w.length;R++)i[R]=w[R];for(var C=0;C<g.length;C++){var j=g[C];j.alternation=j.alternation||b;for(var F=0;F<y.length;F++){var O=y[F];if(j.match.mask==O.match.mask&&("string"!=typeof P||-1!=e.inArray(j.locator[j.alternation].toString(),_))){g.splice(C,1),C--,O.locator[j.alternation]=O.locator[j.alternation]+","+j.locator[j.alternation],O.alternation=j.alternation;break}}}y=y.concat(g)}"string"==typeof P&&(y=e.map(y,function(t,a){if(isFinite(a)){var i,r=t.alternation,n=t.locator[r].toString().split(",");t.locator[r]=void 0,t.alternation=void 0;for(var o=0;o<n.length;o++)i=-1!=e.inArray(n[o],_),i&&(void 0!=t.locator[r]?(t.locator[r]+=",",t.locator[r]+=n[o]):t.locator[r]=parseInt(n[o]),t.alternation=r);if(void 0!=t.locator[r])return t}})),u=x.concat(y),s=t,c=u.length>0}else r=k.matches[P]?l(k.matches[P],[P].concat(o),d):!1;if(r)return!0}else if(r.isQuantifier&&d!==!0)for(var M=r,D=i.length>0&&d!==!0?i.shift():0;D<(isNaN(M.quantifier.max)?D+1:M.quantifier.max)&&t>=s;D++){var G=a.matches[e.inArray(M,a.matches)-1];if(r=l(G,[D].concat(o),!0)){var v=u[u.length-1].match;v.optionalQuantifier=D>M.quantifier.min-1;var h=0==e.inArray(v,G.matches);if(h){if(D>M.quantifier.min-1){c=!0,s=t;break}return!0}return!0}}else if(r=n(r,i,o,d))return!0}else s++}for(var p=i.length>0?i.shift():0;p<a.matches.length;p++)if(a.matches[p].isQuantifier!==!0){var d=l(a.matches[p],[p].concat(r),o);if(d&&s==t)return d;if(s>t)break}}var o=f().maskToken,s=a?i:0,l=a||[0],u=[],c=!1;if(r===!0&&f().tests[t])return f().tests[t];if(void 0==a){for(var p,d=t-1;void 0==(p=f().validPositions[d])&&d>-1&&(!f().tests[d]||void 0==(p=f().tests[d][0]));)d--;void 0!=p&&d>-1&&(s=d,l=p.locator.slice())}for(var m=l.shift();m<o.length;m++){var v=n(o[m],l,[m]);if(v&&s==t||s>t)break}return(0==u.length||c)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),f().tests[t]=e.extend(!0,[],u),f().tests[t]}function x(){return void 0==f()._buffer&&(f()._buffer=o(!1,1)),f()._buffer}function b(){return void 0==f().buffer&&(f().buffer=o(!0,d(),!0)),f().buffer}function P(e,t,a){if(a=a||b().slice(),e===!0)p(),e=0,t=a.length;else for(var i=e;t>i;i++)delete f().validPositions[i],delete f().tests[i];for(var i=e;t>i;i++)a[i]!=n.skipOptionalPartCharacter&&_(i,a[i],!0,!0)}function S(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function w(t,a){for(var i=n.greedy?a:a.slice(0,1),r=!1,o=0;o<t.length;o++)if(-1!=e.inArray(t[o],i)){r=!0;break}return r}function _(t,a,i,r){function o(t,a,i,r){var o=!1;return e.each(y(t),function(s,l){for(var u=l.match,c=a?1:0,h="",g=(b(),u.cardinality);g>c;g--)h+=j(t-(g-1));if(a&&(h+=a),o=null!=u.fn?u.fn.test(h,f(),t,i,n):a!=u.def&&a!=n.skipOptionalPartCharacter||""==u.def?!1:{c:u.def,pos:t},o!==!1){var k=void 0!=o.c?o.c:a;k=k==n.skipOptionalPartCharacter&&null===u.fn?u.def:k;var y=t,x=b();if(void 0!=o.remove&&(e.isArray(o.remove)||(o.remove=[o.remove]),e.each(o.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),void 0!=o.insert&&(e.isArray(o.insert)||(o.insert=[o.insert]),e.each(o.insert.sort(function(e,t){return e-t}),function(e,t){_(t.pos,t.c,!0)})),o.refreshFromBuffer){var w=o.refreshFromBuffer;if(i=!0,P(w===!0?w:w.start,w.end,x),void 0==o.pos&&void 0==o.c)return o.pos=d(),!1;if(y=void 0!=o.pos?o.pos:t,y!=t)return o=e.extend(o,_(y,k,!0)),!1}else if(o!==!0&&void 0!=o.pos&&o.pos!=t&&(y=o.pos,P(t,y),y!=t))return o=e.extend(o,_(y,k,!0)),!1;return 1!=o&&void 0==o.pos&&void 0==o.c?!1:(s>0&&p(!0),m(y,e.extend({},l,{input:S(k,u)}),r)||(o=!1),!1)}}),o}function s(t,a,i,r){for(var o,s,l,u,c=e.extend(!0,{},f().validPositions),m=d();m>=0&&(u=f().validPositions[m],!u||void 0==u.alternation||(o=m,s=f().validPositions[o].alternation,h(o).locator[u.alternation]==u.locator[u.alternation]));m--);if(void 0!=s)for(var v in f().validPositions)if(u=f().validPositions[v],parseInt(v)>parseInt(o)&&void 0!=u.alternation){var g=f().validPositions[o].locator[s].toString().split(","),k=u.locator[s]||g[0];k.length>0&&(k=k.split(",")[0]);for(var y=0;y<g.length;y++)if(k<g[y]){for(var x,b,P=v-1;P>=0;P--)if(x=f().validPositions[P],void 0!=x){b=x.locator[s],x.locator[s]=parseInt(g[y]);break}if(k!=x.locator[s]){for(var S=[],w=v;w<d()+1;w++){var A=f().validPositions[w];A&&null!=A.match.fn&&S.push(A.input),delete f().validPositions[w],delete f().tests[w]}for(p(!0),n.keepStatic=!n.keepStatic,l=!0;S.length>0;){var E=S.shift();if(E!=n.skipOptionalPartCharacter&&!(l=_(d()+1,E,!1,!0)))break}if(x.alternation=s,x.locator[s]=b,l){var R=d(t)+1;l=_(t>R?R:t,a,i,r)}if(n.keepStatic=!n.keepStatic,l)return l;p(),f().validPositions=e.extend(!0,{},c)}}break}return!1}function l(t,a){for(var i=f().validPositions[a],r=i.locator,n=r.length,o=t;a>o;o++)if(!A(o)){var s=y(o),l=s[0],u=-1;e.each(s,function(e,t){for(var a=0;n>a;a++)t.locator[a]&&w(t.locator[a].toString().split(","),r[a].toString().split(","))&&a>u&&(u=a,l=t)}),m(o,e.extend({},l,{input:l.match.def}),!0)}}i=i===!0;for(var u=b(),c=t-1;c>-1&&!f().validPositions[c];c--);for(c++;t>c;c++)void 0==f().validPositions[c]&&((!A(c)||u[c]!=O(c))&&y(c).length>1||u[c]==n.radixPoint||"0"==u[c]&&e.inArray(n.radixPoint,u)<c)&&o(c,u[c],!0);var g=t,k=!1,x=e.extend(!0,{},f().validPositions);if(g<E()&&(k=o(g,a,i,r),(!i||r)&&k===!1)){var C=f().validPositions[g];if(!C||null!=C.match.fn||C.match.def!=a&&a!=n.skipOptionalPartCharacter){if((n.insertMode||void 0==f().validPositions[R(g)])&&!A(g))for(var F=g+1,M=R(g);M>=F;F++)if(k=o(F,a,i,r),k!==!1){l(g,F),g=F;break}}else k={caret:R(g)}}if(k===!1&&n.keepStatic&&K(u)&&(k=s(t,a,i,r)),k===!0&&(k={pos:g}),e.isFunction(n.postValidation)&&0!=k&&!i){p(!0);var D=n.postValidation(b(),n);if(!D)return p(!0),f().validPositions=e.extend(!0,{},x),!1}return k}function A(e){var t=g(e);if(null!=t.fn)return t.fn;if(!n.keepStatic&&void 0==f().validPositions[e]){for(var a=y(e),i=!0,r=0;r<a.length;r++)if(""!=a[r].match.def&&(void 0==a[r].alternation||a[r].locator[a[r].alternation].length>1)){i=!1;break}return i}return!1}function E(){var e;ie=ae.prop("maxLength"),-1==ie&&(ie=void 0);var t,a=d(),i=f().validPositions[a],r=void 0!=i?i.locator.slice():void 0;for(t=a+1;void 0==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)i=h(t,r,t-1),r=i.locator.slice();var n=g(t-1);return e=""!=n.def?t:t-1,void 0==ie||ie>e?e:ie}function R(e){var t=E();if(e>=t)return t;for(var a=e;++a<t&&!A(a)&&(n.nojumps!==!0||n.nojumpsThreshold>a););return a}function C(e){var t=e;if(0>=t)return 0;for(;--t>0&&!A(t););return t}function j(e){return void 0==f().validPositions[e]?O(e):f().validPositions[e].input}function F(t,a,i,r,o){if(r&&e.isFunction(n.onBeforeWrite)){var s=n.onBeforeWrite.call(t,r,a,i,n);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;P(l===!0?l:l.start,l.end,s.buffer),p(!0),a=b()}i=s.caret||i}}t._valueSet(a.join("")),void 0!=i&&I(t,i),o===!0&&(oe=!0,e(t).trigger("input"))}function O(e,t){if(t=t||g(e),void 0!=t.placeholder)return t.placeholder;if(null==t.fn){if(!n.keepStatic&&void 0==f().validPositions[e]){for(var a=y(e),i=!0,r=0;r<a.length;r++)if(""!=a[r].match.def&&(null!==a[r].match.fn||void 0==a[r].alternation||a[r].locator[a[r].alternation].length>1)){i=!1;break}if(i)return n.placeholder.charAt(e%n.placeholder.length)}return t.def}return n.placeholder.charAt(e%n.placeholder.length)}function M(t,a,i,r){function n(){var e=!1,t=x().slice(l,R(l)).join("").indexOf(s);if(-1!=t&&!A(l)){e=!0;for(var a=x().slice(l,l+t),i=0;i<a.length;i++)if(" "!=a[i]){e=!1;break}}return e}var o=void 0!=r?r.slice():t._valueGet().split(""),s="",l=0;if(p(),f().p=R(-1),a&&t._valueSet(""),!i){var u=x().slice(0,R(-1)).join(""),c=o.join("").match(new RegExp("^"+D(u),"g"));c&&c.length>0&&(o.splice(0,c.length*u.length),l=R(l))}e.each(o,function(a,r){var o=e.Event("keypress");o.which=r.charCodeAt(0),s+=r;var u=d(void 0,!0),c=f().validPositions[u],p=h(u+1,c?c.locator.slice():void 0,u);if(!n()||i){var m=i?a:null==p.match.fn&&p.match.optionality&&u+1<f().p?u+1:f().p;z.call(t,o,!0,!1,i,m),l=m+1,s=""}else z.call(t,o,!0,!1,!0,u+1)}),a&&F(t,b(),e(t).is(":focus")?R(d(0)):void 0,e.Event("checkval"))}function D(t){return e.inputmask.escapeRegex(t)}function G(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var a=[],i=f().validPositions;for(var r in i)i[r].match&&null!=i[r].match.fn&&a.push(i[r].input);var o=(re?a.reverse():a).join(""),s=(re?b().slice().reverse():b()).join("");return e.isFunction(n.onUnMask)&&(o=n.onUnMask.call(t,s,o,n)||o),o}return t[0]._valueGet()}function T(e){if(re&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){var t=b().length;e=t-e}return e}function I(t,a,i){var r,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a)return o.setSelectionRange?(a=o.selectionStart,i=o.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0),(r.commonAncestorContainer.parentNode==o||r.commonAncestorContainer==o)&&(a=r.startOffset,i=r.endOffset)):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),a=0-r.duplicate().moveStart("character",-1e5),i=a+r.text.length),{begin:T(a),end:T(i)};if(a=T(a),i=T(i),i="number"==typeof i?i:a,e(o).is(":visible")){var s=e(o).css("font-size").replace("px","")*i;if(o.scrollLeft=s>o.scrollWidth?s:0,l||0!=n.insertMode||a!=i||i++,o.setSelectionRange)o.selectionStart=a,o.selectionEnd=i;else if(window.getSelection){if(r=document.createRange(),void 0==o.firstChild){var u=document.createTextNode("");o.appendChild(u)}r.setStart(o.firstChild,a<o._valueGet().length?a:o._valueGet().length),r.setEnd(o.firstChild,i<o._valueGet().length?i:o._valueGet().length),r.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(r)}else o.createTextRange&&(r=o.createTextRange(),r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",a),r.select())}}function N(t){var a,i,r=b(),n=r.length,o=d(),s={},l=f().validPositions[o],u=void 0!=l?l.locator.slice():void 0;for(a=o+1;a<r.length;a++)i=h(a,u,a-1),u=i.locator.slice(),s[a]=e.extend(!0,{},i);var c=l&&void 0!=l.alternation?l.locator[l.alternation]:void 0;for(a=n-1;a>o&&(i=s[a],(i.match.optionality||i.match.optionalQuantifier||c&&(c!=s[a].locator[l.alternation]&&null!=i.match.fn||null==i.match.fn&&i.locator[l.alternation]&&w(i.locator[l.alternation].toString().split(","),c.split(","))&&""!=y(a)[0].def))&&r[a]==O(a,i.match));a--)n--;return t?{l:n,def:s[n]?s[n].match:void 0}:n}function B(e){for(var t=N(),a=e.length-1;a>t&&!A(a);a--);return e.splice(t,a+1-t),e}function K(t){if(e.isFunction(n.isComplete))return n.isComplete.call(ae,t,n);if("*"==n.repeat)return void 0;var a=!1,i=N(!0),r=C(i.l);if(d(),void 0==i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){a=!0;for(var o=0;r>=o;o++){var s=h(o).match;if(null!=s.fn&&void 0==f().validPositions[o]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null==s.fn&&t[o]!=O(o,s)){a=!1;break}}}return a}function H(e,t){return re?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function L(t){var a=e._data(t).events,i=!1;e.each(a,function(t,a){e.each(a,function(t,a){if("inputmask"==a.namespace&&"setvalue"!=a.type){var r=a.handler;a.handler=function(t){if(!(this.disabled||this.readOnly&&!("keydown"==t.type&&t.ctrlKey&&67==t.keyCode||t.keyCode==e.inputmask.keyCode.TAB))){switch(t.type){case"input":if(oe===!0||i===!0)return oe=!1,t.preventDefault();break;case"keydown":ne=!1,i=!1;break;case"keypress":if(ne===!0)return t.preventDefault();ne=!0;break;case"compositionstart":i=!0;break;case"compositionupdate":oe=!0;break;case"compositionend":i=!1}return r.apply(this,arguments)}t.preventDefault()}}})})}function U(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var r=a(t),n=i.data("_inputmask"),o=n.maskset,s=o._buffer;return s=s?s.join(""):"",r!=s?r:""}return a(t)},set:function(t,a){var r,n=e(t),o=n.data("_inputmask");return r=i(t,a),o&&n.triggerHandler("setvalue.inputmask"),r},inputmaskpatch:!0}}}function i(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):o.call(this)!=x().join("")?o.call(this):"":o.call(this)}function r(t){var a=e(this).data("_inputmask");s.call(this,t),a&&e(this).triggerHandler("setvalue.inputmask")}function n(t){e(t).bind("mouseenter.inputmask",function(t){var a=e(this),i=this,r=i._valueGet();""!=r&&r!=b().join("")&&a.triggerHandler("setvalue.inputmask")});var a=e._data(t).events,i=a.mouseover;if(i){for(var r=i[i.length-1],n=i.length-1;n>0;n--)i[n]=i[n-1];i[0]=r}}var o,s;if(!t._valueGet){var l;Object.getOwnPropertyDescriptor&&void 0==t.value?(o=function(){return this.textContent},s=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:r})):((l=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"))&&l.configurable,document.__lookupGetter__&&t.__lookupGetter__("value")?(o=t.__lookupGetter__("value"),s=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",r)):(o=function(){return t.value},s=function(e){t.value=e},a(t.type),n(t))),t._valueGet=function(e){return re&&e!==!0?o.call(this).split("").reverse().join(""):o.call(this)},t._valueSet=function(e){s.call(this,re?e.split("").reverse().join(""):e)}}}function q(t,a,i,r){function o(){if(n.keepStatic){p(!0);var a,i=[],r=e.extend(!0,{},f().validPositions);for(a=d();a>=0;a--){var o=f().validPositions[a];if(o){if(void 0!=o.alternation&&o.locator[o.alternation]==h(a).locator[o.alternation])break;null!=o.match.fn&&i.push(o.input),delete f().validPositions[a]}}if(a>0)for(;i.length>0;){f().p=R(d());var s=e.Event("keypress");s.which=i.pop().charCodeAt(0),z.call(t,s,!0,!1,!1,f().p)}else f().validPositions=e.extend(!0,{},r)}}if((n.numericInput||re)&&(a==e.inputmask.keyCode.BACKSPACE?a=e.inputmask.keyCode.DELETE:a==e.inputmask.keyCode.DELETE&&(a=e.inputmask.keyCode.BACKSPACE),re)){var s=i.end;i.end=i.begin,i.begin=s}if(a==e.inputmask.keyCode.BACKSPACE&&(i.end-i.begin<1||0==n.insertMode)?i.begin=C(i.begin):a==e.inputmask.keyCode.DELETE&&i.begin==i.end&&(i.end=A(i.end)?i.end+1:R(i.end)+1),v(i.begin,i.end,!1,r),r!==!0){o();var l=d(i.begin);l<i.begin?(-1==l&&p(),f().p=R(l)):f().p=i.begin}}function W(a){var i=this,r=e(i),o=a.keyCode,l=I(i);o==e.inputmask.keyCode.BACKSPACE||o==e.inputmask.keyCode.DELETE||s&&127==o||a.ctrlKey&&88==o&&!t("cut")?(a.preventDefault(),88==o&&(X=b().join("")),q(i,o,l),F(i,b(),f().p,a,X!=b().join("")),i._valueGet()==x().join("")?r.trigger("cleared"):K(b())===!0&&r.trigger("complete"),n.showTooltip&&r.prop("title",f().mask)):o==e.inputmask.keyCode.END||o==e.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=R(d());n.insertMode||e!=E()||a.shiftKey||e--,I(i,a.shiftKey?l.begin:e,e)},0):o==e.inputmask.keyCode.HOME&&!a.shiftKey||o==e.inputmask.keyCode.PAGE_UP?I(i,0,a.shiftKey?l.begin:0):(n.undoOnEscape&&o==e.inputmask.keyCode.ESCAPE||90==o&&a.ctrlKey)&&a.altKey!==!0?(M(i,!0,!1,X.split("")),r.click()):o!=e.inputmask.keyCode.INSERT||a.shiftKey||a.ctrlKey?0!=n.insertMode||a.shiftKey||(o==e.inputmask.keyCode.RIGHT?setTimeout(function(){var e=I(i);I(i,e.begin)},0):o==e.inputmask.keyCode.LEFT&&setTimeout(function(){var e=I(i);I(i,re?e.begin+1:e.begin-1)},0)):(n.insertMode=!n.insertMode,I(i,n.insertMode||l.begin!=E()?l.begin:l.begin-1)),n.onKeyDown.call(this,a,b(),I(i).begin,n),se=-1!=e.inArray(o,n.ignorables)}function z(t,a,i,r,o){var s=this,l=e(s),u=t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||se))return!0;if(u){46==u&&0==t.shiftKey&&","==n.radixPoint&&(u=44);var c,d=a?{begin:o,end:o}:I(s),v=String.fromCharCode(u),h=H(d.begin,d.end);h&&(f().undoPositions=e.extend(!0,{},f().validPositions),q(s,e.inputmask.keyCode.DELETE,d,!0),d.begin=f().p,n.insertMode||(n.insertMode=!n.insertMode,m(d.begin,r),n.insertMode=!n.insertMode),h=!n.multi),f().writeOutBuffer=!0;var g=re&&!h?d.end:d.begin,k=_(g,v,r);if(k!==!1){if(k!==!0&&(g=void 0!=k.pos?k.pos:g,v=void 0!=k.c?k.c:v),p(!0),void 0!=k.caret)c=k.caret;else{var x=f().validPositions;c=!n.keepStatic&&(void 0!=x[g+1]&&y(g+1,x[g].locator.slice(),g).length>1||void 0!=x[g].alternation)?g+1:R(g)}f().p=c}if(i!==!1){var S=this;if(setTimeout(function(){n.onKeyValidation.call(S,k,n)},0),f().writeOutBuffer&&k!==!1){var w=b();F(s,w,a?void 0:n.numericInput?C(c):c,t,a!==!0),a!==!0&&setTimeout(function(){K(w)===!0&&l.trigger("complete")},0)}else h&&(f().buffer=void 0,f().validPositions=f().undoPositions)}else h&&(f().buffer=void 0,f().validPositions=f().undoPositions);if(n.showTooltip&&l.prop("title",f().mask),a&&e.isFunction(n.onBeforeWrite)){var A=n.onBeforeWrite.call(this,t,b(),c,n);if(A&&A.refreshFromBuffer){var E=A.refreshFromBuffer;P(E===!0?E:E.start,E.end,A.buffer),p(!0),A.caret&&(f().p=A.caret)}}t.preventDefault()}}function $(t){var a=this,i=e(a),r=a._valueGet(!0),o=I(a);if("propertychange"==t.type&&a._valueGet().length<=E())return!0;if("paste"==t.type){var s=r.substr(0,o.begin),l=r.substr(o.end,r.length);s==x().slice(0,o.begin).join("")&&(s=""),l==x().slice(o.end).join("")&&(l=""),window.clipboardData&&window.clipboardData.getData?r=s+window.clipboardData.getData("Text")+l:t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=s+t.originalEvent.clipboardData.getData("text/plain")+l)}var u=r;if(e.isFunction(n.onBeforePaste)){if(u=n.onBeforePaste.call(a,r,n),u===!1)return t.preventDefault(),!1;u||(u=r)}return M(a,!0,!1,re?u.split("").reverse():u.split("")),i.click(),K(b())===!0&&i.trigger("complete"),!1}function V(t){var a=this;M(a,!0,!1),K(b())===!0&&e(a).trigger("complete"),t.preventDefault()}function Y(e){var t=this;X=b().join(""),(""==te||0!=e.originalEvent.data.indexOf(te))&&(ee=I(t))}function Q(t){var a=this,i=ee||I(a);0==t.originalEvent.data.indexOf(te)&&(p(),i={begin:0,end:0});var r=t.originalEvent.data;I(a,i.begin,i.end);for(var o=0;o<r.length;o++){var s=e.Event("keypress");s.which=r.charCodeAt(o),ne=!1,se=!1,z.call(a,s)}setTimeout(function(){var e=f().p;F(a,b(),n.numericInput?C(e):e)},0),te=t.originalEvent.data}function Z(e){}function J(t){if(ae=e(t),ae.data("_inputmask",{maskset:r,opts:n,isRTL:!1}),n.showTooltip&&ae.prop("title",f().mask),("rtl"==t.dir||n.rightAlign)&&ae.css("text-align","right"),"rtl"==t.dir||n.numericInput){t.dir="ltr",ae.removeAttr("dir");var i=ae.data("_inputmask");i.isRTL=!0,ae.data("_inputmask",i),re=!0}ae.unbind(".inputmask"),(ae.is(":input")&&a(ae.attr("type"))||t.isContentEditable)&&(ae.closest("form").bind("submit",function(e){X!=b().join("")&&ae.change(),ae[0]._valueGet&&ae[0]._valueGet()==x().join("")&&ae[0]._valueSet(""),n.removeMaskOnSubmit&&ae.inputmask("remove")}).bind("reset",function(){setTimeout(function(){ae.triggerHandler("setvalue.inputmask")},0)}),ae.bind("mouseenter.inputmask",function(){var t=e(this),a=this;!t.is(":focus")&&n.showMaskOnHover&&a._valueGet()!=b().join("")&&F(a,b())}).bind("blur.inputmask",function(t){var a=e(this),i=this;if(a.data("_inputmask")){var r=i._valueGet(),o=b().slice();le=!0,X!=o.join("")&&setTimeout(function(){a.change(),X=o.join("")},0),""!=r&&(n.clearMaskOnLostFocus&&(r==x().join("")?o=[]:B(o)),K(o)===!1&&(a.trigger("incomplete"),n.clearIncomplete&&(p(),o=n.clearMaskOnLostFocus?[]:x().slice())),F(i,o,void 0,t))}}).bind("focus.inputmask",function(t){var a=(e(this),this),i=a._valueGet();n.showMaskOnFocus&&(!n.showMaskOnHover||n.showMaskOnHover&&""==i)&&a._valueGet()!=b().join("")&&F(a,b(),R(d())),X=b().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),a=this;if(n.clearMaskOnLostFocus){var i=b().slice(),r=a._valueGet();t.is(":focus")||r==t.attr("placeholder")||""==r||(r==x().join("")?i=[]:B(i),F(a,i))}}).bind("click.inputmask",function(){var t=e(this),a=this;if(t.is(":focus")){var i=I(a);if(i.begin==i.end)if(n.radixFocus&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,b())&&(le||b().join("")==x().join("")))I(a,e.inArray(n.radixPoint,b())),le=!1;else{var r=T(i.begin),o=R(d(r));o>r?I(a,A(r)?r:R(r)):I(a,o)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){I(e,0,R(d()))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",$).bind("cut.inputmask",function(t){oe=!0;var a=this,i=e(a),r=I(a);q(a,e.inputmask.keyCode.DELETE,r),F(a,b(),f().p,t,X!=b().join("")),a._valueGet()==x().join("")&&i.trigger("cleared"),n.showTooltip&&i.prop("title",f().mask)}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),ae.bind("keydown.inputmask",W).bind("keypress.inputmask",z),u||ae.bind("compositionstart.inputmask",Y).bind("compositionupdate.inputmask",Q).bind("compositionend.inputmask",Z),"paste"===c&&ae.bind("input.inputmask",V)),ae.bind("setvalue.inputmask",function(){var t=this,a=t._valueGet();t._valueSet(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(t,a,n)||a:a),M(t,!0,!1),X=b().join(""),(n.clearMaskOnLostFocus||n.clearIncomplete)&&t._valueGet()==x().join("")&&t._valueSet("")}),U(t);var o=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(t,t._valueGet(),n)||t._valueGet():t._valueGet();M(t,!0,!1,o.split(""));var s=b().slice();X=s.join("");var l;try{l=document.activeElement}catch(m){}K(s)===!1&&n.clearIncomplete&&p(),n.clearMaskOnLostFocus&&(s.join("")==x().join("")?s=[]:B(s)),F(t,s),l===t&&I(t,R(d())),L(t)}var X,ee,te,ae,ie,re=!1,ne=!1,oe=!1,se=!1,le=!0;if(void 0!=i)switch(i.action){case"isComplete":return ae=e(i.el),r=ae.data("_inputmask").maskset,n=ae.data("_inputmask").opts,K(i.buffer);case"unmaskedvalue":return ae=i.$input,r=ae.data("_inputmask").maskset,n=ae.data("_inputmask").opts,re=i.$input.data("_inputmask").isRTL,G(i.$input);case"mask":X=b().join(""),J(i.el);break;case"format":ae=e({}),ae.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(ae,i.value,n)||i.value:i.value).split("");return M(ae,!1,!1,re?ue.reverse():ue),e.isFunction(n.onBeforeWrite)&&n.onBeforeWrite.call(this,void 0,b(),0,n),i.metadata?{value:re?b().slice().reverse().join(""):b().join(""),metadata:ae.inputmask("getmetadata")}:re?b().slice().reverse().join(""):b().join("");case"isValid":ae=e({}),ae.data("_inputmask",{maskset:r,opts:n,isRTL:n.numericInput}),n.numericInput&&(re=!0);var ue=i.value.split("");M(ae,!1,!0,re?ue.reverse():ue);for(var ce=b(),fe=N(),pe=ce.length-1;pe>fe&&!A(pe);pe--);return ce.splice(fe,pe+1-fe),K(ce)&&i.value==ce.join("");case"getemptymask":return ae=e(i.el),r=ae.data("_inputmask").maskset,n=ae.data("_inputmask").opts,x();case"remove":var de=i.el;ae=e(de),r=ae.data("_inputmask").maskset,n=ae.data("_inputmask").opts,de._valueSet(G(ae)),ae.unbind(".inputmask"),ae.removeData("_inputmask");var me;Object.getOwnPropertyDescriptor&&(me=Object.getOwnPropertyDescriptor(de,"value")),me&&me.get?de._valueGet&&Object.defineProperty(de,"value",{get:de._valueGet,set:de._valueSet}):document.__lookupGetter__&&de.__lookupGetter__("value")&&de._valueGet&&(de.__defineGetter__("value",de._valueGet),de.__defineSetter__("value",de._valueSet));try{delete de._valueGet,delete de._valueSet}catch(ve){de._valueGet=void 0,de._valueSet=void 0}break;case"getmetadata":if(ae=e(i.el),
r=ae.data("_inputmask").maskset,n=ae.data("_inputmask").opts,e.isArray(r.metadata)){for(var he,ge=d(),ke=ge;ke>=0;ke--)if(f().validPositions[ke]&&void 0!=f().validPositions[ke].alternation){he=f().validPositions[ke].alternation;break}return void 0!=he?r.metadata[f().validPositions[ge].locator[he]]:r.metadata[0]}return r.metadata}}if(void 0===e.fn.inputmask){var o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=(null!==o.match(new RegExp("android.*safari.*","i")),null!==o.match(new RegExp("android.*chrome.*","i"))),u=null!==o.match(new RegExp("android.*firefox.*","i")),c=(/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),t("paste")?"paste":t("input")?"input":"propertychange");e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:e.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a,o){var s=e.extend(!0,{},e.inputmask.defaults,a);return i(s.alias,a,s),n({action:"format",value:t,metadata:o},r(s,a&&void 0!==a.definitions),s)},isValid:function(t,a){var o=e.extend(!0,{},e.inputmask.defaults,a);return i(o.alias,a,o),n({action:"isValid",value:t},r(o,a&&void 0!==a.definitions),o)}},e.fn.inputmask=function(t,a){function o(t,a,r){var n=e(t);n.data("inputmask-alias")&&i(n.data("inputmask-alias"),e.extend(!0,{},a),a);for(var o in a){var s=n.data("inputmask-"+o.toLowerCase());void 0!=s&&(s="boolean"==typeof s?s:s.toString(),"mask"==o&&0==s.indexOf("[")?(a[o]=s.replace(/[\s[\]]/g,"").split("','"),a[o][0]=a[o][0].replace("'",""),a[o][a[o].length-1]=a[o][a[o].length-1].replace("'","")):a[o]=s,r&&(r[o]=a[o]))}return a}var s,l=e.extend(!0,{},e.inputmask.defaults,a);if("string"==typeof t)switch(t){case"mask":return i(l.alias,a,l),this.each(function(){return o(this,l),s=r(l,a&&void 0!==a.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?n({action:"unmaskedvalue",$input:u}):u.val();case"remove":return this.each(function(){var t=e(this);t.data("_inputmask")&&n({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?n({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?n({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?n({action:"getmetadata",el:this}):void 0;default:return i(l.alias,a,l),i(t,a,l)||(l.mask=t),this.each(function(){return o(this,l),s=r(l,a&&void 0!==a.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)})}else{if("object"==typeof t)return l=e.extend(!0,{},e.inputmask.defaults,t),i(l.alias,t,l),this.each(function(){return o(this,l),s=r(l,t&&void 0!==t.definitions),void 0==s?this:void n({action:"mask",el:this},s,l)});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+t+"}");e.extend(!0,r,a),l=e.extend(!0,{},e.inputmask.defaults,r),l=o(this,l),i(l.alias,r,l),l.alias=void 0,e(this).inputmask("mask",l)}catch(n){}if(e(this).attr("data-inputmask-mask")||e(this).attr("data-inputmask-alias")){l=e.extend(!0,{},e.inputmask.defaults,{});var s={};l=o(this,l,s),i(l.alias,s,l),l.alias=void 0,e(this).inputmask("mask",l)}})}}}return e.fn.inputmask}(a),function(e){return e.extend(e.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),e.extend(e.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+a+"[01])")},val2:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|[12][0-9])"+a+"(0[1-9]|1[012]))|(30"+a+"(0[13-9]|1[012]))|(31"+a+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,a){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),r=parseInt(e.concat(a.toString().slice(e.length)));return(isNaN(i)?!1:i>=t&&a>=i)||(isNaN(r)?!1:r>=t&&a>=r)},determinebaseyear:function(e,t,a){var i=(new Date).getFullYear();if(e>i)return e;if(i>t){for(var r=t.toString().slice(0,2),n=t.toString().slice(2,4);r+a>t;)r--;var o=r+n;return e>o?e:o}return i},onKeyDown:function(t,a,i,r){var n=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}},getFrontValue:function(e,t,a){for(var i=0,r=0,n=0;n<e.length&&"2"!=e.charAt(n);n++){var o=a.definitions[e.charAt(n)];o?(i+=r,r=o.cardinality):r++}return t.join("").substr(i,r)},definitions:{1:{validator:function(e,t,a,i,r){var n=r.regex.val1.test(e);return i||n||e.charAt(1)!=r.separator&&-1=="-./".indexOf(e.charAt(1))||!(n=r.regex.val1.test("0"+e.charAt(0)))?n:(t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=e;isNaN(t.buffer[a+1])||(n+=t.buffer[a+1]);var o=1==n.length?r.regex.val1pre.test(n):r.regex.val1.test(n);if(!i&&!o){if(o=r.regex.val1.test(e+"0"))return t.buffer[a]=e,t.buffer[++a]="0",{pos:a,c:"0"};if(o=r.regex.val1.test("0"+e))return t.buffer[a]="0",a++,{pos:a}}return o},cardinality:1}]},2:{validator:function(e,t,a,i,r){var n=r.getFrontValue(t.mask,t.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=r.regex.val2(r.separator).test(n+e);if(!i&&!o&&(e.charAt(1)==r.separator||-1!="-./".indexOf(e.charAt(1)))&&(o=r.regex.val2(r.separator).test(n+"0"+e.charAt(0))))return t.buffer[a-1]="0",{refreshFromBuffer:{start:a-1,end:a},pos:a,c:e.charAt(0)};if(r.mask.indexOf("2")==r.mask.length-1&&o){var s=t.buffer.join("").substr(4,4)+e;if(s!=r.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}return o},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){isNaN(t.buffer[a+1])||(e+=t.buffer[a+1]);var n=r.getFrontValue(t.mask,t.buffer,r);-1!=n.indexOf(r.placeholder[0])&&(n="01"+r.separator);var o=1==e.length?r.regex.val2pre(r.separator).test(n+e):r.regex.val2(r.separator).test(n+e);return i||o||!(o=r.regex.val2(r.separator).test(n+"0"+e))?o:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},y:{validator:function(e,t,a,i,r){if(r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)){var n=t.buffer.join("").substr(0,6);if(n!=r.leapday)return!0;var o=parseInt(e,10);return o%4===0?o%100===0?o%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,1);if(n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(0),{pos:a};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e+"0").toString().slice(0,2),n=r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(0),t.buffer[a++]=o.charAt(1),{pos:a}}return n},cardinality:1},{validator:function(e,t,a,i,r){var n=r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear);if(!i&&!n){var o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2);if(n=r.isInYearRange(e[0]+o[1]+e[1],r.yearrange.minyear,r.yearrange.maxyear))return t.buffer[a++]=o.charAt(1),{pos:a};if(o=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,e).toString().slice(0,2),r.isInYearRange(o+e,r.yearrange.minyear,r.yearrange.maxyear)){var s=t.buffer.join("").substr(0,6);if(s!=r.leapday)n=!0;else{var l=parseInt(e,10);n=l%4===0?l%100===0?l%400===0?!0:!1:!0:!1}}else n=!1;if(n)return t.buffer[a-1]=o.charAt(0),t.buffer[a++]=o.charAt(1),t.buffer[a++]=e.charAt(0),{refreshFromBuffer:{start:a-3,end:a},pos:a}}return n},cardinality:2},{validator:function(e,t,a,i,r){return r.isInYearRange(e,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[13-9]|1[012])"+a+"[0-3])|(02"+a+"[0-2])")},val2:function(t){var a=e.inputmask.escapeRegex.call(this,t);return new RegExp("((0[1-9]|1[012])"+a+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+a+"30)|((0[13578]|1[02])"+a+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(t,a,i,r){var n=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),n.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(t,a,i,r){var n=e(this);if(t.ctrlKey&&t.keyCode==e.inputmask.keyCode.RIGHT){var o=new Date;n.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString()),n.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,a,i,r){if("24"==r.hourFormat&&24==parseInt(e,10))return t.buffer[a-1]="0",t.buffer[a]="0",{refreshFromBuffer:{start:a-1,end:a},c:"0"};var n=r.regex.hrs.test(e);if(!i&&!n&&(e.charAt(1)==r.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(n=r.regex.hrs.test("0"+e.charAt(0))))return t.buffer[a-1]="0",t.buffer[a]=e.charAt(0),a++,{refreshFromBuffer:{start:a-2,end:a},pos:a,c:r.timeseparator};if(n&&"24"!==r.hourFormat&&r.regex.hrs24.test(e)){var o=parseInt(e,10);return 24==o?(t.buffer[a+5]="a",t.buffer[a+6]="m"):(t.buffer[a+5]="p",t.buffer[a+6]="m"),o-=12,10>o?(t.buffer[a]=o.toString(),t.buffer[a-1]="0"):(t.buffer[a]=o.toString().charAt(1),t.buffer[a-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:a-1,end:a+6},c:t.buffer[a]}}return n},cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.hrspre.test(e);return i||n||!(n=r.regex.hrs.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,a,i,r){var n=r.regex.mspre.test(e);return i||n||!(n=r.regex.ms.test("0"+e))?n:(t.buffer[a]="0",a++,{pos:a})},cardinality:1}]},t:{validator:function(e,t,a,i,r){return r.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),e.fn.inputmask}(a),function(e){return e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(e,t,a,i,r){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=8,a=0;t>a;a++)e[a]=function(){var e=a;return{validator:function(t,a,i,r,n){if(n.regex["urlpre"+(e+1)]){var o,s=t;e+1-t.length>0&&(s=a.buffer.join("").substring(0,e+1-t.length)+""+s);var l=n.regex["urlpre"+(e+1)].test(s);if(!r&&!l){for(i-=e,o=0;o<n.defaultPrefix.length;o++)a.buffer[i]=n.defaultPrefix[o],i++;for(o=0;o<s.length-1;o++)a.buffer[i]=s[o],i++;return{pos:i}}return l}return!1},cardinality:e}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,a,i,r){return a-1>-1&&"."!=t.buffer[a-1]?(e=t.buffer[a-1]+e,e=a-2>-1&&"."!=t.buffer[a-2]?t.buffer[a-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e,t){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),e.fn.inputmask}(a),function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){function t(t){for(var a="",i=0;i<t.length;i++)a+=e.definitions[t[i]]?"\\"+t[i]:t[i];return a}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var a=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==i?a-1:a)}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var r=t(e.prefix);return r+="[+]",r+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),""!=e.negationSymbol.back&&(r+="[-]"),r+=t(e.suffix),e.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(t,a,i,r){var n=!1;t.length>=r.suffix.length&&t.join("").indexOf(r.suffix)==t.length-r.suffix.length&&(t.length=t.length-r.suffix.length,n=!0),a=a>=t.length?t.length-1:a<r.prefix.length?r.prefix.length:a;var o=!1,s=t[a];if(""==r.groupSeparator||-1!=e.inArray(r.radixPoint,t)&&a>=e.inArray(r.radixPoint,t)||new RegExp("["+e.inputmask.escapeRegex(r.negationSymbol.front)+"+]").test(s)){if(n)for(var l=0,u=r.suffix.length;u>l;l++)t.push(r.suffix.charAt(l));return{pos:a}}var c=t.slice();s==r.groupSeparator&&(c.splice(a--,1),s=c[a]),i?c[a]="?":c.splice(a,0,"?");var f=c.join(""),p=f;if(f.length>0&&r.autoGroup||i&&-1!=f.indexOf(r.groupSeparator)){var d=e.inputmask.escapeRegex(r.groupSeparator);o=0==f.indexOf(r.groupSeparator),f=f.replace(new RegExp(d,"g"),"");var m=f.split(r.radixPoint);if(f=""==r.radixPoint?f:m[0],f!=r.prefix+"?0"&&f.length>=r.groupSize+r.prefix.length)for(var v=new RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");v.test(f);)f=f.replace(v,"$1"+r.groupSeparator+"$2"),f=f.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);""!=r.radixPoint&&m.length>1&&(f+=r.radixPoint+m[1])}o=p!=f,t.length=f.length;for(var l=0,u=f.length;u>l;l++)t[l]=f.charAt(l);var h=e.inArray("?",t);if(i?t[h]=s:t.splice(h,1),!o&&n)for(var l=0,u=r.suffix.length;u>l;l++)t.push(r.suffix.charAt(l));return{pos:h,refreshFromBuffer:o,buffer:t}},onBeforeWrite:function(t,a,i,r){if(t&&"blur"==t.type){var n=a.join(""),o=n.replace(r.prefix,"");if(o=o.replace(r.suffix,""),o=o.replace(new RegExp(e.inputmask.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(o=o.replace(e.inputmask.escapeRegex(r.radixPoint),".")),isFinite(o)&&isFinite(r.min)&&parseFloat(o)<parseFloat(r.min))return e.extend(!0,{refreshFromBuffer:!0,buffer:(r.prefix+r.min).split("")},r.postFormat((r.prefix+r.min).split(""),0,!0,r));var s=""!=r.radixPoint?a.join("").split(r.radixPoint):[a.join("")],l=s[0].match(r.regex.integerPart(r)),u=2==s.length?s[1].match(r.regex.integerNPart(r)):void 0;!l||l[0]!=r.negationSymbol.front+"0"&&l[0]!=r.negationSymbol.front&&"+"!=l[0]||void 0!=u&&!u[0].match(/^0+$/)||a.splice(l.index,1);var c=e.inArray(r.radixPoint,a);if(-1!=c&&isFinite(r.digits)&&!r.digitsOptional){for(var f=1;f<=r.digits;f++)(void 0==a[c+f]||a[c+f]==r.placeholder.charAt(0))&&(a[c+f]="0");return{refreshFromBuffer:!0,buffer:a}}}if(r.autoGroup){var p=r.postFormat(a,i-1,!0,r);return p.caret=i<=r.prefix.length?p.pos:p.pos+1,p}},regex:{integerPart:function(t){return new RegExp("["+e.inputmask.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.inputmask.escapeRegex(t.groupSeparator)+"]+")}},signHandler:function(e,t,a,i,r){if(!i&&r.allowMinus&&"-"===e||r.allowPlus&&"+"===e){var n=t.buffer.join("").match(r.regex.integerPart(r));if(n&&n[0].length>0)return t.buffer[n.index]==("-"===e?"+":r.negationSymbol.front)?"-"==e?""!=r.negationSymbol.back?{pos:n.index,c:r.negationSymbol.front,remove:n.index,caret:a,insert:{pos:t.buffer.length-r.suffix.length-1,c:r.negationSymbol.back}}:{pos:n.index,c:r.negationSymbol.front,remove:n.index,caret:a}:""!=r.negationSymbol.back?{pos:n.index,c:"+",remove:[n.index,t.buffer.length-r.suffix.length-1],caret:a}:{pos:n.index,c:"+",remove:n.index,caret:a}:t.buffer[n.index]==("-"===e?r.negationSymbol.front:"+")?"-"==e&&""!=r.negationSymbol.back?{remove:[n.index,t.buffer.length-r.suffix.length-1],caret:a-1}:{remove:n.index,caret:a-1}:"-"==e?""!=r.negationSymbol.back?{pos:n.index,c:r.negationSymbol.front,caret:a+1,insert:{pos:t.buffer.length-r.suffix.length,c:r.negationSymbol.back}}:{pos:n.index,c:r.negationSymbol.front,caret:a+1}:{pos:n.index,c:e,caret:a+1}}return!1},radixHandler:function(t,a,i,r,n){if(!r&&t===n.radixPoint&&n.digits>0){var o=e.inArray(n.radixPoint,a.buffer),s=a.buffer.join("").match(n.regex.integerPart(n));if(-1!=o&&a.validPositions[o])return a.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"==s[0]&&s.index+1!=i)return a.buffer[s?s.index:i]="0",{pos:(s?s.index:i)+1}}return!1},leadingZeroHandler:function(t,a,i,r,n){var o=a.buffer.join("").match(n.regex.integerNPart(n)),s=e.inArray(n.radixPoint,a.buffer);if(o&&!r&&(-1==s||s>=i))if(0==o[0].indexOf("0")){i<n.prefix.length&&(i=o.index);var l=e.inArray(n.radixPoint,a._buffer),u=a._buffer&&a.buffer.slice(s).join("")==a._buffer.slice(l).join("")||0==parseInt(a.buffer.slice(s+1).join("")),c=a._buffer&&a.buffer.slice(o.index,s).join("")==a._buffer.slice(n.prefix.length,l).join("")||"0"==a.buffer.slice(o.index,s).join("");if(-1==s||u&&c)return a.buffer.splice(o.index,1),i=i>o.index?i-1:o.index,{pos:i,remove:o.index};if(o.index+1==i||"0"==t)return a.buffer.splice(o.index,1),i=o.index,{pos:i,remove:o.index}}else if("0"===t&&i<=o.index&&o[0]!=n.groupSeparator)return!1;return!0},postValidation:function(t,a){var i=!0,r=t.join(""),n=r.replace(a.prefix,"");return n=n.replace(a.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(n=n.replace(e.inputmask.escapeRegex(a.radixPoint),".")),n=n.replace(new RegExp("^"+e.inputmask.escapeRegex(a.negationSymbol.front)),"-"),n=n.replace(new RegExp(e.inputmask.escapeRegex(a.negationSymbol.back)+"$"),""),isFinite(n)&&isFinite(a.max)&&(i=parseFloat(n)<=parseFloat(a.max)),i},definitions:{"~":{validator:function(t,a,i,r,n){var o=n.signHandler(t,a,i,r,n);if(!o&&(o=n.radixHandler(t,a,i,r,n),!o&&(o=r?new RegExp("[0-9"+e.inputmask.escapeRegex(n.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),o===!0&&(o=n.leadingZeroHandler(t,a,i,r,n),o===!0)))){var s=e.inArray(n.radixPoint,a.buffer);o=n.digitsOptional===!1&&i>s&&!r?{pos:i,remove:i}:{pos:i}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,t,a,i,r){var n=r.signHandler(e,t,a,i,r);return!n&&(i&&r.allowMinus&&e===r.negationSymbol.front||r.allowMinus&&"-"==e||r.allowPlus&&"+"==e)&&(n="-"==e?""!=r.negationSymbol.back?{pos:a,c:"-"===e?r.negationSymbol.front:"+",caret:a+1,insert:{pos:t.buffer.length,c:r.negationSymbol.back}}:{pos:a,c:"-"===e?r.negationSymbol.front:"+",caret:a+1}:!0),n},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,t,a,i,r){var n=r.signHandler(e,t,a,i,r);return!n&&i&&r.allowMinus&&e===r.negationSymbol.back&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(t,a,i,r,n){var o=n.signHandler(t,a,i,r,n);if(!o){var s="["+e.inputmask.escapeRegex(n.radixPoint)+"]";o=new RegExp(s).test(t),o&&a.validPositions[i]&&a.validPositions[i].match.placeholder==n.radixPoint&&(o={caret:i+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(t,a,i){var r=t.replace(i.prefix,"");return r=r.replace(i.suffix,""),r=r.replace(new RegExp(e.inputmask.escapeRegex(i.groupSeparator),"g"),""),i.unmaskAsNumber?(r=r.replace(e.inputmask.escapeRegex.call(this,i.radixPoint),"."),Number(r)):r},isComplete:function(t,a){var i=t.join(""),r=t.slice();if(a.postFormat(r,0,!0,a),r.join("")!=i)return!1;var n=i.replace(a.prefix,"");return n=n.replace(a.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex(a.groupSeparator),"g"),""),","===a.radixPoint&&(n=n.replace(e.inputmask.escapeRegex(a.radixPoint),".")),isFinite(n)},onBeforeMask:function(t,a){if(""!=a.radixPoint&&isFinite(t))t=t.toString().replace(".",a.radixPoint);else{var i=t.match(/,/g),r=t.match(/\./g);r&&i?r.length>i.length?(t=t.replace(/\./g,""),t=t.replace(",",a.radixPoint)):i.length>r.length?(t=t.replace(/,/g,""),t=t.replace(".",a.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t=t.replace(/,/g,""):t=t.replace(new RegExp(e.inputmask.escapeRegex(a.groupSeparator),"g"),"")}return 0==a.digits&&(-1!=t.indexOf(".")?t=t.substring(0,t.indexOf(".")):-1!=t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")))),t},canClearPosition:function(t,a,i,r,n){var o=t.validPositions[a].input,s=o!=n.radixPoint&&isFinite(o)||a==i||o==n.groupSeparator||o==n.negationSymbol.front||o==n.negationSymbol.back;if(s&&isFinite(o)){var l;if(!r&&t.buffer){l=t.buffer.join("").substr(0,a).match(n.regex.integerNPart(n));var u=a+1,c=null==l||0==parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""));if(c)for(;t.validPositions[u]&&(t.validPositions[u].input==n.groupSeparator||"0"==t.validPositions[u].input);)delete t.validPositions[u],u++}var f=[];for(var p in t.validPositions)f.push(t.validPositions[p].input);l=f.join("").match(n.regex.integerNPart(n));var d=e.inArray(n.radixPoint,t.buffer);if(l&&(-1==d||d>=a))if(0==l[0].indexOf("0"))s=l.index!=a||-1==d;else{var m=parseInt(l[0].replace(new RegExp(e.inputmask.escapeRegex(n.groupSeparator),"g"),""));-1!=d&&10>m&&"0"==n.placeholder.charAt(0)&&(t.validPositions[a].input="0",t.p=n.prefix.length+1,s=!1)}}return s}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.inputmask}(a),function(e){return e.extend(e.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(t){t.definitions["#"]=t.definitions[9];var a=[];return e.ajax({url:t.url,async:!1,dataType:"json",success:function(e){a=e},error:function(e,a,i){alert(i+" - "+t.url)}}),a=a.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,t){var a=e.replace(/^0/g,"");return(a.indexOf(t.countrycode)>1||-1==a.indexOf(t.countrycode))&&(a="+"+t.countrycode+a),a}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e.fn.inputmask}(a),function(e){return e.extend(e.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,a,i,r,n){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(){var e,t,a=new o,i=[];for(n.regexTokens=[];e=n.tokenizer.exec(n.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new o(!0));break;case")":var r=i.pop();i.length>0?i[i.length-1].matches.push(r):a.matches.push(r);break;case"{":case"+":case"*":var s=new o(!1,!0);t=t.replace(/[{}]/g,"");var l=t.split(","),u=isNaN(l[0])?l[0]:parseInt(l[0]),c=1==l.length?u:isNaN(l[1])?l[1]:parseInt(l[1]);if(s.quantifier={min:u,max:c},i.length>0){var f=i[i.length-1].matches;if(e=f.pop(),!e.isGroup){var r=new o(!0);r.matches.push(e),e=r}f.push(e),f.push(s)}else{if(e=a.matches.pop(),!e.isGroup){var r=new o(!0);r.matches.push(e),e=r}a.matches.push(e),a.matches.push(s)}break;default:i.length>0?i[i.length-1].matches.push(t):a.matches.push(t)}a.matches.length>0&&n.regexTokens.push(a)}function l(t,a){var i=!1;a&&(c+="(",p++);for(var r=0;r<t.matches.length;r++){var n=t.matches[r];if(1==n.isGroup)i=l(n,!0);else if(1==n.isQuantifier){var o=e.inArray(n,t.matches),s=t.matches[o-1],u=c;if(isNaN(n.quantifier.max)){for(;n.repeaterPart&&n.repeaterPart!=c&&n.repeaterPart.length>c.length&&!(i=l(s,!0)););i=i||l(s,!0),i&&(n.repeaterPart=c),c=u+n.quantifier.max}else{for(var f=0,m=n.quantifier.max-1;m>f&&!(i=l(s,!0));f++);c=u+"{"+n.quantifier.min+","+n.quantifier.max+"}"}}else if(void 0!=n.matches)for(var v=0;v<n.length&&!(i=l(n[v],a));v++);else{var h;if("["==n.charAt(0)){h=c,h+=n;for(var g=0;p>g;g++)h+=")";var k=new RegExp("^("+h+")$");i=k.test(d)}else for(var y=0,x=n.length;x>y;y++)if("\\"!=n.charAt(y)){h=c,h+=n.substr(0,y+1),h=h.replace(/\|$/,"");for(var g=0;p>g;g++)h+=")";var k=new RegExp("^("+h+")$");if(i=k.test(d))break}c+=n}if(i)break}return a&&(c+=")",p--),i}null==n.regexTokens&&s();var u=a.buffer.slice(),c="",f=!1,p=0;u.splice(i,0,t);for(var d=u.join(""),m=0;m<n.regexTokens.length;m++){var o=n.regexTokens[m];if(f=l(o,o.isGroup))break}return f},cardinality:1}}}}),e.fn.inputmask}(a)}).call(this),"undefined"==typeof Package&&(Package={}),Package["bigdsk:inputmask"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:aggregate"]={}}();

!function(){var e=Package.meteor.Meteor,a;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:meteorx"]={MeteorX:a}}();

!function(){var e=Package.meteor.Meteor,a=Package["meteorhacks:meteorx"].MeteorX;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:unblock"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.email={}}();

!function(){var t=Package.meteor.Meteor;(function(){!function(t,e){function n(t,e,n){var r=t.children(),o=!1;t.empty();for(var i=0,d=r.length;d>i;i++){var l=r.eq(i);if(t.append(l),n&&t.append(n),a(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}function r(e,n,i,d,l){var c=!1,s="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var f=this,h=t(f);if("undefined"==typeof f)return!0;if(h.is(u))e.append(h);else{if(c)return!0;e.append(h),!l||h.is(d.after)||h.find(d.after).length||e[e.is(s)?"after":"append"](l),a(i,d)&&(c=3==f.nodeType?o(h,n,i,d,l):r(h,n,i,d,l),c||(h.detach(),c=!0)),c||l&&l.detach()}}),n.addClass("is-truncated"),c}function o(e,n,r,o,d){var s=e[0];if(!s)return!1;var f=c(s),h=-1!==f.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":h,g=f.split(p),v=-1,w=-1,b=0,y=g.length-1;for(o.fallbackToLetter&&0==b&&0==y&&(p="",g=f.split(p),y=g.length-1);y>=b&&(0!=b||0!=y);){var m=Math.floor((b+y)/2);if(m==w)break;w=m,l(s,g.slice(0,w+1).join(p)+o.ellipsis),r.children().each(function(){t(this).toggle().toggle()}),a(r,o)?(y=w,o.fallbackToLetter&&0==b&&0==y&&(p="",g=g[0].split(p),v=-1,w=-1,b=0,y=g.length-1)):(v=w,b=w)}if(-1==v||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var T=d&&d.closest(x).length?d.length:0;x.contents().length>T?s=u(x.contents().eq(-1-T),n):(s=u(x,n,!0),T||x.detach()),s&&(f=i(c(s),o),l(s,f),T&&d&&t(s).parent().append(d))}else f=i(g.slice(0,v+1).join(p),o),l(s,f);return!0}function a(t,e){return t.innerHeight()>e.maxHeight}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function c(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function s(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var o=e&&e[0],a;if(o){if(!r){if(3===o.nodeType)return o;if(t.trim(e.text()))return u(e.contents().last(),n)}for(a=s(o);!a;){if(e=e.parent(),e.is(n)||!e.length)return!1;a=s(e[0])}if(a)return u(t(a),n)}return!1}function f(e,n){return e?"string"==typeof e?(e=t(e,n),e.length?e:!1):e.jquery?e:!1:!1}function h(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,o=n.length;o>r;r++){var a=parseInt(t.css(n[r]),10);isNaN(a)&&(a=0),e-=a}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,d){switch(o.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(o[0]);break;default:l.maxHeight=h(o)}l.maxHeight+=l.tolerance,"undefined"!=typeof d&&(("string"==typeof d||"nodeType"in d&&1===d.nodeType)&&(d=t("<div />").append(d).contents()),d instanceof t&&(i=d)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(i.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var s=!1,u=!1;return c.afterElement&&(s=c.afterElement.clone(!0),s.show(),c.afterElement.detach()),a(g,l)&&(u="children"==l.wrap?n(g,l,s):r(g,o,g,l,s)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(o[0],u,i),c.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],c.isTruncated),c.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],i),i}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(i).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+c.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){o.trigger("update.dot")},100))})}else s=d(o),u=setInterval(function(){if(o.is(":visible")){var t=d(o);(s.width!=t.width||s.height!=t.height)&&(o.trigger("update.dot"),s=t)}},500);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+c.dotId),u&&clearInterval(u),o};var i=o.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),c={},s={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),c.afterElement=f(l.after,o),c.isTruncated=!1,c.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var p=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):v.apply(this,arguments)}}}(jQuery)}).call(this),"undefined"==typeof Package&&(Package={}),Package["verron:jquery-dotdotdot"]={}}();

!function(){var a=Package.meteor.Meteor,e=Package.templating.Template,t=Package.underscore._,i=Package.blaze.Blaze,n=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package.htmljs.HTML,r;(function(){r={}}).call(this),function(){r._initialSubscriptionsStarted=!1;var e=function(){r._initialSubscriptionsStarted=!0},t=function(){a._setImmediate(function(){e()})};a.startup(function(){t()})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spiderable={Spiderable:r}}();

!function(){var r=Package.meteor.Meteor,n;(function(){n=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function h(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),h=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64),C,d,v,A,l,m,S,y,k,P,w,s;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var k=0;k<r.length;k+=16){C=h[0],d=h[1],v=h[2],A=h[3],l=h[4],m=h[5],S=h[6],y=h[7];for(var P=0;64>P;P++)g[P]=16>P?r[P+k]:n(n(n(i(g[P-2]),g[P-7]),c(g[P-15])),g[P-16]),w=n(n(n(n(y,f(l)),o(l,m,S)),e[P]),g[P]),s=n(u(C),a(C,d,v)),y=S,S=m,m=l,l=n(A,w),A=v,v=d,d=C,C=n(w,s);h[0]=n(C,h[0]),h[1]=n(d,h[1]),h[2]=n(v,h[2]),h[3]=n(A,h[3]),h[4]=n(l,h[4]),h[5]=n(m,h[5]),h[6]=n(S,h[6]),h[7]=n(y,h[7])}return h}function g(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);128>e?n+=String.fromCharCode(e):e>127&&2048>e?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function d(r){for(var n=A?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var v=8,A=0;return r=C(r),d(h(g(r),r.length*v))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:n}}();

!function(){var t=Package.meteor.Meteor;(function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()})}).call(this),function(){"use strict";Math.getRandom=function(t,e){return t||(t=0),e||(e=1e3),Math.floor(Math.random()*(e-t+1))+t}}.call(this),function(){"use strict";Object.defineReactiveProperty=function(t,e,r,o,n,c){var i=r?r:t[e]?t[e]:" ";o&&o(e,i,t),Object.defineProperty(t,e,{get:function(){return n?n(e,i):i},set:function(t){JSON.stringify(t)!==JSON.stringify(i)&&(i=t,c&&c(e,i))}})},Object.defineProperty(Object.prototype,"diff",{value:function(t,e){if("[object Array]"!==Object.prototype.toString.call(t)||"[object Array]"!==Object.prototype.toString.call(this))return void 0;e||(e=!1);var r=[];this.sort(),t.sort();for(var o=0;o<this.length;o+=1)t.indexOf(this[o])>-1&&r.push(this[o]);return e?0!==r.length:r},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Object.prototype,"inArray",{value:function(t,e,r){var o=[],n=this;if("[object Object]"!==Object.prototype.toString.call(n)&&"[object Array]"!==Object.prototype.toString.call(n))return void 0;("[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t))&&(t=JSON.stringify(t));var c=function(t){t.forEach(function(t){"[object Array]"===Object.prototype.toString.call(t)?c(t):o.push(t)})};return c(n),Object.keys(o).some(function(n){var c=o[n];if(("[object Object]"===Object.prototype.toString.call(c)||"[object Array]"===Object.prototype.toString.call(c))&&(c=JSON.stringify(c)),r){if(n===t)return!0}else if(e){if(c===t||n===t)return!0}else if(c===t)return!0})},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Object.prototype,"walk",{value:function(t){var e=this;return Object.keys(e).forEach(function(r){var o=e[r];("[object Object]"===Object.prototype.toString.call(o)||"[object Array]"===Object.prototype.toString.call(o))&&o.walk(t),t(e,o,r)})},writable:!0,configurable:!0,enumerable:!1}),Object.Merge=function(t,e){var r=Array.isArray(e),o=r&&[]||{};return r?(t=t||[],o=o.concat(t),e.forEach(function(e,r){"undefined"==typeof o[r]?o[r]=e:"object"==typeof e?o[r]=Object.Merge(t[r],e):-1===t.indexOf(e)&&o.push(e)})):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.keys(e).forEach(function(r){o[r]="object"==typeof e[r]&&e[r]&&t[r]?Object.Merge(t[r],e[r]):e[r]})),o},Object.defineProperty(Object.prototype,"random",{value:function(){return"[object Object]"!==Object.prototype.toString.call(this)&&"[object Array]"!==Object.prototype.toString.call(this)?void 0:this[Math.floor(Math.random()*this.length)]}})}.call(this),function(){"use strict";RegExp.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}.call(this),function(){"use strict";Object.defineProperty(String.prototype,"clone",{value:function(t){return t?new String(this.toString()):new String(this.toString()).toString()}}),String.generate=function(t,e){t=t||10,e=e||"1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm";for(var r=e.length-1,o="",n=0;t>n;n++)o+=e[0===r?0:Math.getRandom(0,r)];return o},String.rand=function(t,e){return"boolean"==typeof t&&t===!0?(t=Math.getRandom(2,111),e=void 0):(t=t||Math.getRandom(2,111),e=e||"1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm..\\//?._+=-[]{}()*&^%$#@!±§,<>~`'\":;|"),String.generate(t,e)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["ostrio:jsextensions"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var e=Package.meteor.Meteor,o=Package.webapp.WebApp,i=Package.underscore._,t;(function(){t="object"==typeof t?t:{};var n=t,r;r="",e.startup(function(){return e.cookie.init(!1),e.isServer?(o.connectHandlers.use(function(o,t,n){var s,c,k,u;for(e.cookie.init({request:o,response:t,next:n}),u=i.uniq(e.cookie.cookiesToSet[r]),c=0,k=u.length;k>c;c++)s=u[c],t.setHeader("Set-Cookie",s);return e.cookie.cookiesToSet[r]=[],n()}),e.setInterval(function(){var o,i,t,n,r;n=e.cookie.cookieString,r=[];for(o in n)t=n[o],i=o.split("-")[1],i+e.cookie.serverTTL>=+new Date?(delete e.cookie.cookiesToSet[o],r.push(delete e.cookie.cookieString[o])):r.push(void 0);return r},6e4)):void 0}),e.cookie={cookieString:{},cookiesToSet:{},serverTTL:180,setServerCookie:function(e){var o;return r?(this.cookieString[r]||(this.cookieString[r]=""),this.cookiesToSet[r].push(e),this.cookiesToSet[r]=i.uniq(this.cookiesToSet[r]),o=e.split(";")[0].trim(),this.cookieString[r]=this.cookieString[r]?this.cookieString[r].split("; ").map(function(e){return e.trim()}).concat(o).join("; ").trim():o):void 0},removeServerCookie:function(e,o){var t;return r?(this.cookieString[r]||(this.cookieString[r]=""),this.cookiesToSet[r].push(o),this.cookiesToSet[r]=i.uniq(this.cookiesToSet[r]),t=this.cookieString[r].split("; ").map(function(e){return e.trim()}).filter(function(o){var i;return o?(i=o.split("=")[0],i!==e?!0:!1):!1}),this.cookieString[r]=t.join("; ").trim()):void 0},init:function(o){var i,t;return r="",t=e.isServer&&o?o.request.headers.cookie:e.isClient?document.cookie:"",r&&this.get("___cookies_utid___",t)||(t&&t.length>0&&this.has("___cookies_utid___",t)?r=this.get("___cookies_utid___",t):e.isServer&&o&&(r=""+Random.id()+"-"+ +new Date,e.isServer&&o&&o.response.setHeader("Set-Cookie","___cookies_utid___="+r+"; path=/"))),r&&(this.cookieString[r]=t,null==(i=this.cookiesToSet)[r]&&(i[r]=[]),e.isServer&&o)?this.http=o:void 0},http:{},get:function(e,o){var i;return null==o&&(o=void 0),i=o||this.cookieString[r],e&&i?decodeURIComponent(i.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(o,i,t,n,s,c){var k,u;if(!o||/^(?:expires|max\-age|path|domain|secure)$/i.test(o))return!1;if(k="",t)switch(t.constructor){case Number:k=t===1/0?";expires=Fri, 31 Dec 9999 23:59:59 GMT":";max-age="+t;break;case String:k=";expires="+t;break;case Date:k=";expires="+t.toUTCString()}return u=encodeURIComponent(o)+"="+encodeURIComponent(i)+k+(s?";domain="+s:"")+(n?";path="+n:"")+(c?";secure":""),e.isClient?(document.cookie=u,this.cookieString[r]=document.cookie):this.setServerCookie(u),!0},remove:function(o,i,t){var n,s,c,k,u;if(o)return this.has(o)?(s=encodeURIComponent(o)+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?";domain="+t:"")+(i?"; path="+i:""),e.isClient?(document.cookie=s,this.cookieString[r]=document.cookie):this.removeServerCookie(o,s),!0):!1;if(this.keys().length>0&&""!==this.keys()[0]){for(u=this.keys(),c=0,k=u.length;k>c;c++)n=u[c],this.remove(n);return!0}return!1},has:function(e,o){var i;return i=o||this.cookieString[r],e&&i?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(i):!1},keys:function(){var e,o,i;for(o=this.cookieString[r].replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/).filter(function(e){return!!e}),i=o.length,e=0;i>e;)o[e]=decodeURIComponent(o[e]),e++;return o}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ostrio:cookies"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.templating.Template,i=Package["reactive-var"].ReactiveVar,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.underscore._,s=Package.check.check,a=Package.check.Match,l=Package.sha.SHA256,c=Package["iron:router"].Router,u=Package["iron:router"].RouteController,h=Package.blaze.Blaze,d=Package.blaze.UI,p=Package.blaze.Handlebars,g=Package["iron:core"].Iron,f=Package["aldeed:simple-schema"].SimpleSchema,m=Package["aldeed:simple-schema"].MongoObject,b=Package.mongo.Mongo,y=Package.htmljs.HTML,k;(function(){k="object"==typeof k?k:{};var o=k,u,h,d,p,g,f,m;e.isServer&&(p=Npm.require("fs-extra"),f=Npm.require("request"),u=e.bindEnvironment(function(e){return e()})),m={},g=function(e){var t;return t={currentFile:e.currentFile,search:e.search,storagePath:e.storagePath,collectionName:e.collectionName,downloadRoute:e.downloadRoute,chunkSize:e.chunkSize,debug:e.debug,_prefix:e._prefix,cacheControl:e.cacheControl,versions:e.versions}},h=function(e,t){return e.currentFile=t.currentFile,e.search=t.search,e.storagePath=t.storagePath,e.collectionName=t.collectionName,e.downloadRoute=t.downloadRoute,e.chunkSize=t.chunkSize,e.debug=t.debug,e._prefix=t._prefix,e.cacheControl=t.cacheControl,e.versions=t.versions,e},e.Files=function(){function t(t){var i,n;if(t&&(this.storagePath=t.storagePath,this.collectionName=t.collectionName,this.downloadRoute=t.downloadRoute,this.schema=t.schema,this.chunkSize=t.chunkSize,this.namingFunction=t.namingFunction,this.debug=t.debug,this.onbeforeunloadMessage=t.onbeforeunloadMessage,this.permissions=t.permissions,this.allowClientCode=t.allowClientCode,this.onBeforeUpload=t.onBeforeUpload,this.integrityCheck=t.integrityCheck,this["protected"]=t["protected"],this["public"]=t["public"],this.strict=t.strict),null==this.collectionName&&(this.collectionName="MeteorUploadFiles"),null==this.chunkSize&&(this.chunkSize=272144),null==this.namingFunction&&(this.namingFunction=String.rand),null==this.debug&&(this.debug=!1),null==this.permissions&&(this.permissions=511),null==this.allowClientCode&&(this.allowClientCode=!0),null==this.integrityCheck&&(this.integrityCheck=!0),null==this["protected"]&&(this["protected"]=!1),null==this["public"]&&(this["public"]=!1),null==this.strict&&(this.strict=!0),null==this.onBeforeUpload&&(this.onBeforeUpload=!1),null==this.onbeforeunloadMessage&&(this.onbeforeunloadMessage="Upload in a progress... Do you want to abort?"),this["protected"]&&e.isClient&&!e.cookie.has("meteor_login_token")&&e._localStorage.getItem("Meteor.loginToken")&&e.cookie.set("meteor_login_token",e._localStorage.getItem("Meteor.loginToken"),null,"/"),this["public"]&&this.storagePath&&(this.downloadRoute=1!==this.storagePath.indexOf("/")?"/uploads/"+this.storagePath:"/uploads"+this.storagePath,this.storagePath=1!==this.storagePath.indexOf("/")?"../web.browser/"+this.storagePath:"../web.browser"+this.storagePath),this.storagePath||(this.storagePath=this["public"]?"../web.browser/uploads/"+this.collectionName:"/assets/app/uploads/"+this.collectionName,this.downloadRoute=this["public"]?"/uploads/"+this.collectionName:this.downloadRoute?void 0:"/cdn/storage"),this.downloadRoute||(this.downloadRoute="/cdn/storage"),this.schema||(this.schema={name:{type:String},type:{type:String},extension:{type:String},path:{type:String},meta:{type:Object,blackbox:!0,optional:!0},userId:{type:String,optional:!0},versions:{type:Object,blackbox:!0},isVideo:{type:Boolean},isAudio:{type:Boolean},isImage:{type:Boolean},size:{type:Number},_prefix:{type:String},_collectionName:{type:String},_storagePath:{type:String},_downloadRoute:{type:String}}),s(this.storagePath,String),s(this.collectionName,String),s(this.downloadRoute,String),s(this.chunkSize,Number),s(this.namingFunction,Function),s(this.allowClientCode,Boolean),s(this.debug,Boolean),s(this.onbeforeunloadMessage,a.OneOf(String,Function)),s(this.integrityCheck,Boolean),s(this["public"],Boolean),s(this["protected"],a.OneOf(Boolean,Function)),this["public"]&&this["protected"])throw new e.Error(500,"[Meteor.File."+this.collectionName+"]: Files can not be public and protected at the same time!");this.storagePath=this.storagePath.replace(/\/$/,""),this.downloadRoute=this.downloadRoute.replace(/\/$/,""),this.collection=new b.Collection(this.collectionName),i=this,this.currentFile=null,this.cursor=null,this.search={},this.cacheControl="public, max-age=31536000",this.collection.attachSchema(this.schema),this.collection.deny({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}}),this._prefix=l(this.collectionName+this.storagePath+this.downloadRoute),m[this._prefix]=this,this.checkAccess=function(t){var i,n,o,s;return this["protected"]?(e.cookie.init(t),s=!1,e.isServer?r.has(Package,"accounts-base")&&e.cookie.has("meteor_login_token")?(s=e.users.findOne({"services.resume.loginTokens.hashedToken":Accounts._hashLoginToken(e.cookie.get("meteor_login_token"))}),i={user:function(){return s},userId:s._id}):i={user:function(){return void 0},userId:void 0}:r.has(Package,"accounts-base")&&e.userId()?(s=e.user(),i={user:function(){return e.user()},userId:e.userId()}):i={user:function(){return void 0},userId:void 0},n=r.isFunction(this["protected"])?this["protected"].call(t?r.extend(t,i):i):!!s,t&&!n?(this.debug&&console.warn("Access denied!"),t&&(o="Access denied!",t.response.writeHead(401,{"Content-Length":o.length,"Content-Type":"text/plain"}),t.response.end(o)),!1):!0):!0},this["public"]?c.route(""+this.downloadRoute+"/:file",function(){var e;return-1!==this.params.file.indexOf("-")?(e=this.params.file.split("-")[0],i.download.call(i,this,e)):this.response.writeHead(404)},{where:"server"}):c.route(""+this.downloadRoute+"/"+this.collectionName+"/:_id/:version/:name",function(){return i.checkAccess(this)?i.findOne(this.params._id).download.call(i,this,this.params.version):void 0},{where:"server"}),this.methodNames={MeteorFileWrite:"MeteorFileWrite"+this._prefix,MeteorFileUnlink:"MeteorFileUnlink"+this._prefix},e.isServer&&(n={},n[i.methodNames.MeteorFileUnlink]=function(t){if(s(t,Object),i.debug&&console.info("Meteor.Files Debugger: [MeteorFileUnlink]"),i.allowClientCode)return i.remove.call(h(m[t._prefix],t),t.search);throw new e.Error(401,"[Meteor.Files] [remove()] Run code from client is not allowed!")},n[i.methodNames.MeteorFileWrite]=function(t,n,o,l,c,u,h,d,g,f,m){var b,y,k,F,w,v,S,P,z,_,C,N;if(s(t,a.OneOf(Uint8Array,Object)),s(n,Object),s(o,a.Optional(Object)),s(l,Boolean),s(c,Number),s(u,Number),s(h,Number),s(d,String),s(g,Number),s(f,Number),s(m,Number),i.debug&&console.info("Meteor.Files Debugger: [MeteorFileWrite] {name: "+d+", meta:"+o+"}"),i.debug&&console.info("Meteor.Files Debugger: Received chunk #"+u+" of "+c+" chunks, in part: "+g+", file: "+(n.name||n.fileName)),i.onBeforeUpload&&r.isFunction(i.onBeforeUpload)&&(S=i.onBeforeUpload.call(n),S!==!0))throw new e.Error(403,r.isString(S)?S:"@onBeforeUpload() returned false");for(this.unblock(),v=0,b="";v<t.byteLength;)b+=String.fromCharCode(t[v]),v++;if(P=h>=c*f,k=function(e){return e.replace(/\.\./g,"").replace(/\//g,"")},w=k(n.name||n.fileName),F=w.split(".").pop(),_=i["public"]?""+i.storagePath+"/original-"+d:""+i.storagePath+"/"+d,z=i["public"]?""+i.storagePath+"/original-"+d+"."+F:""+i.storagePath+"/"+d+"."+F,C=f>1?""+_+"_"+g+"."+F:z,N=i.dataToSchema({name:w,extension:F,path:z,meta:o,type:n.type,size:n.size}),N.chunk=u,N.last=P,l?p.outputFileSync(C,b,"binary"):p.appendFileSync(C,b,"binary"),c===u&&i.debug&&console.info("Meteor.Files Debugger: The part #"+g+" of file "+w+" (binary) was saved to "+C),P){if(f>1){for(y=[],v=2;f>=v;)p.appendFileSync(_+"_1."+F,p.readFileSync(_+"_"+v+"."+F),"binary"),p.unlink(_+"_"+v+"."+F),v++;p.renameSync(_+"_1."+F,z)}p.chmod(z,i.permissions),i["public"]&&(N._id=d),N._id=i.collection.insert(r.clone(N)),i.debug&&console.info("Meteor.Files Debugger: The file "+w+" (binary) was saved to "+z)}return N},e.methods(n))}return t.prototype.dataToSchema=function(e){return{name:e.name,extension:e.extension,path:e.path,meta:e.meta,type:e.type,size:e.size,versions:{original:{path:e.path,size:e.size,type:e.type,extension:e.extension}},isVideo:e.type.toLowerCase().indexOf("video")>-1,isAudio:e.type.toLowerCase().indexOf("audio")>-1,isImage:e.type.toLowerCase().indexOf("image")>-1,_prefix:e._prefix||this._prefix,_collectionName:e._collectionName||this.collectionName,_storagePath:e._storagePath||this.storagePath,_downloadRoute:e._downloadRoute||this.downloadRoute}},t.prototype.srch=function(e){return this.search=e&&r.isString(e)?{_id:e}:e,this.search},t.prototype.write=e.isServer?function(e,t,i){var n,o,l,c,u;return null==t&&(t={}),this.debug&&console.info("Meteor.Files Debugger: [write(buffer, "+t+", callback)]"),s(t,a.Optional(Object)),s(i,a.Optional(Function)),this.checkAccess()?(c=this["public"]?String.rand(32,"ABCDEFabcdef"):this.namingFunction.call(null,!0),o=t.name||t.fileName?t.name||t.fileName:c,n=o.split(".").pop(),l=this["public"]?""+this.storagePath+"/original-"+c+"."+n:""+this.storagePath+"/"+c+"."+n,t.type||(t.type="application/*"),t.meta||(t.meta={}),t.size||(t.size=e.length),u=this.dataToSchema({name:o,extension:n,path:l,meta:t.meta,type:t.type,size:t.size}),this.debug&&console.info("Meteor.Files Debugger: The file "+o+" (binary) was added to "+this.collectionName),p.outputFileSync(l,e,"binary"),u._id=this.collection.insert(r.clone(u)),i&&i(null,u),u):void 0}:void 0,t.prototype.load=e.isServer?function(t,i,n){var o,l,c,h,d;return null==i&&(i={}),this.debug&&console.info("Meteor.Files Debugger: [load("+t+", "+i+", callback)]"),s(t,String),s(i,a.Optional(Object)),s(n,a.Optional(Function)),d=this,this.checkAccess()?(h=this["public"]?String.rand(32,"ABCDEFabcdef"):this.namingFunction.call(null,!0),l=i.name||i.fileName?i.name||i.fileName:h,o=l.split(".").pop(),c=this["public"]?""+this.storagePath+"/original-"+h+"."+o:""+this.storagePath+"/"+h+"."+o,i.meta||(i.meta={}),f.get(t).on("error",function(n){throw new e.Error(500,"Error on [load("+t+", "+i+")]; Error:"+JSON.stringify(n))}).on("response",function(e){return u(function(){var t;return t=d.dataToSchema({name:l,extension:o,path:c,meta:i.meta,type:e.headers["content-type"],size:e.headers["content-length"]}),this.debug&&console.info("Meteor.Files Debugger: The file "+l+" (binary) was loaded to "+this.collectionName),t._id=d.collection.insert(r.clone(t)),n&&n(null,t)})}).pipe(p.createOutputStream(c))):void 0}:void 0,t.prototype.addFile=e.isServer?function(t,i,n){var o,l,c,u,h,d,g;if(null==i&&(i={}),this.debug&&console.info("[addFile("+t+")]"),this["public"])throw new e.Error(403,"Can not run [addFile()] on public collection");s(t,String),s(i,a.Optional(Object)),s(n,a.Optional(Function));try{return g=p.statSync(t),stat.isFile()?(u=g.size,h=t.split("/"),c=h[h.length-1],l=c.split(".").pop(),i.type||(i.type="application/*"),i.meta||(i.meta={}),i.size||(i.size=u),d=this.dataToSchema({name:c,extension:l,path:t,meta:i.meta,type:i.type,size:i.size,_storagePath:t.replace("/"+c,"")}),d._id=this.collection.insert(r.clone(d)),this.debug&&console.info("The file "+c+" (binary) was added to "+this.collectionName),n&&n(null,d),d):(o=new e.Error(400,"[Files.addFile("+t+")]: File does not exist"),n&&n(o),o)}catch(f){return o=f,n&&n(o),o}}:void 0,t.prototype.findOne=function(e){return this.debug&&console.info("Meteor.Files Debugger: [findOne("+e+")]"),s(e,a.OneOf(Object,String)),this.srch(e),this.checkAccess()?(this.currentFile=this.collection.findOne(this.search),this.cursor=null,this):void 0},t.prototype.find=function(e){return this.debug&&console.info("Meteor.Files Debugger: [find("+e+")]"),s(e,a.OneOf(Object,String)),this.srch(e),this.checkAccess?(this.currentFile=null,this.cursor=this.collection.find(this.search),this):void 0},t.prototype.get=function(){return this.debug&&console.info("Meteor.Files Debugger: [get()]"),this.cursor?this.cursor.fetch():this.currentFile},t.prototype.fetch=function(){var e;return this.debug&&console.info("Meteor.Files Debugger: [fetch()]"),e=this.get(),r.isArray(e)?e:[e]},t.prototype.insert=e.isClient?function(t){var o,l,c,u,h,d,p,g,f,m,b,y,k,F,w,v,S,P,z,_,C,N,O;if(this.checkAccess()){if(this.debug&&console.info("Meteor.Files Debugger: [insert()]"),l=t.file,g=t.meta,b=t.onUploaded,m=t.onProgress,f=t.onBeforeUpload,P=t.streams,s(g,a.Optional(Object)),s(b,a.Optional(Function)),s(m,a.Optional(Function)),s(f,a.Optional(Function)),s(P,a.Optional(Number)),l){for(this.debug&&console.time("insert"),S=this,v={onPause:new i(!1),continueFrom:[],pause:function(){return this.onPause.set(!0)},"continue":function(){var e,t,i,n;for(this.onPause.set(!1),n=this.continueFrom,t=0,i=n.length;i>t;t++)e=n[t],e.call(null);return this.continueFrom=[]},toggle:function(){return this.onPause.get()?this["continue"]():this.pause()},progress:new i(0)},n.autorun(function(){if(e.status().connected){if(v["continue"](),S.debug)return console.info("Meteor.Files Debugger: Connection established continue() upload")}else if(v.pause(),S.debug)return console.info("Meteor.Files Debugger: Connection error set upload on pause()")}),P||(P=1),z=0,c={size:l.size,type:l.type,name:l.name,ext:l.name.split(".").pop(),extension:l.name.split(".").pop(),"mime-type":l.type},l=r.extend(l,c),w=this["public"]?String.rand(32,"ABCDEFabcdef"):this.namingFunction.call(null,!0),k=Math.ceil(l.size/P),F=[],C=0,p=!1,window.onbeforeunload=function(e){var t;return t=r.isFunction(S.onbeforeunloadMessage)?S.onbeforeunloadMessage.call(null):S.onbeforeunloadMessage,e&&(e.returnValue=t),t},h=1;P>=h;)F.push({from:k*(h-1),to:k*h,size:k,part:h,chunksQty:this.chunkSize<k?Math.ceil(k/this.chunkSize):1}),h++;if(o=function(e,t){return S.debug&&console.timeEnd("insert"),window.onbeforeunload=null,v.progress.set(0),b&&b.call(S,e,t)},f&&r.isFunction(f)&&(d=f.call(l),d!==!0))return o(new e.Error(403,r.isString(d)?d:"onBeforeUpload() returned false"),null),!1;if(this.onBeforeUpload&&r.isFunction(this.onBeforeUpload)&&(d=this.onBeforeUpload.call(l),d!==!0))return o(new e.Error(403,r.isString(d)?d:"@onBeforeUpload() returned false"),null),!1;for(_=function(t,i,n,r){var s,a;return s=1,a=!0,this.debug&&console.time("insertPart"+i),r.onload=function(u){var h,d,f;return++z,d=C/l.size*100,v.progress.set(d),m&&m(d),C+=S.chunkSize,h=u.srcElement||u.target,f=new Uint8Array(h.result),p=i===P&&s>=n,1===n?e.call(S.methodNames.MeteorFileWrite,f,c,g,a,n,s,z,w,i,P,l.size,function(e,t){return e?o(e):t.last?o(e,t):void 0}):e.call(S.methodNames.MeteorFileWrite,f,c,g,a,n,s,z,w,i,P,l.size,function(e,i){var a,l;return e?o(e):v.onPause.get()?v.continueFrom.push(function(){return i.chunk+1<=n?(a=s*S.chunkSize,l=a+S.chunkSize,r.readAsArrayBuffer(t.slice(a,l)),s=++i.chunk):i.last?o(e,i):void 0}):i.chunk+1<=n?(a=s*S.chunkSize,l=a+S.chunkSize,r.readAsArrayBuffer(t.slice(a,l)),s=++i.chunk):i.last?o(e,i):void 0}),a=!1},r.readAsArrayBuffer(t.slice(0,S.chunkSize))},h=N=0,O=F.length;O>N;h=++N)y=F[h],u=new FileReader,_.call(null,l.slice(y.from,y.to),h+1,y.chunksQty,u);return v}return console.warn("Meteor.Files: [insert({file: 'file', ..})]: file property is required")}}:void 0,t.prototype.remove=function(t){var i;return this.debug&&console.info("Meteor.Files Debugger: [remove("+t+")]"),s(t,a.Optional(a.OneOf(Object,String))),this.checkAccess()&&(this.srch(t),e.isClient&&e.call(this.methodNames.MeteorFileUnlink,g(this)),e.isServer)?(i=this.collection.find(this.search),i.count()>0&&i.forEach(function(e){return e.versions&&!r.isEmpty(e.versions)?r.each(e.versions,function(e){return p.remove(e.path)}):p.remove(e.path)}),void this.collection.remove(this.search)):void 0},t.prototype.download=e.isServer?function(e,t){var i,n,o,s,a,l,c,u,h,d,g,f,m,b,y;switch(null==t&&(t="original"),this.debug&&console.info("Meteor.Files Debugger: [download("+e+", "+t+")]"),d="200",this["public"]||(l=this.currentFile?r.has(this.currentFile,"versions")&&r.has(this.currentFile.versions,t)?this.currentFile.versions[t]:this.currentFile:!1),this["public"]?(l={path:""+this.storagePath+"/"+e.params.file},d=p.existsSync(l.path)?"200":"404"):l&&r.isObject(l)&&p.existsSync(l.path)?this.currentFile&&(u=!1,h=!1,c=p.statSync(l.path),c.size===l.size||this.integrityCheck||(l.size=c.size),c.size!==l.size&&this.integrityCheck&&(d="400"),s=e.params.query.download&&"true"===e.params.query.download?"attachment; ":"inline; ",o='filename="'+encodeURI(this.currentFile.name)+'"; ',n="charset=utf-8",e.response.setHeader("Content-Type",l.type),e.response.setHeader("Content-Disposition",s+o+n),e.response.setHeader("Cache-Control",e.params.query.play&&"true"===e.params.query.play?"public, must-revalidate, post-check=0, pre-check=0":this.cacheControl),e.response.setHeader("Accept-Ranges","bytes"),e.request.headers.range?(u=!0,i=e.request.headers.range.split(/bytes=([0-9]*)-([0-9]*)/),g=parseInt(i[1]),a=parseInt(i[2]),isNaN(a)&&(a=g+this.chunkSize<l.size?g+this.chunkSize:l.size),b=a-g):(g=0,a=void 0,b=this.chunkSize),u||e.params.query.play&&"true"===e.params.query.play?(h={start:g,end:a},isNaN(g)&&!isNaN(a)&&(h.start=a-b,h.end=a),!isNaN(g)&&isNaN(a)&&(h.start=g,h.end=g+b),g+this.chunkSize>=l.size&&(h.end=h.end-1),e.response.setHeader("Pragma","public"),e.response.setHeader("Expires",-1),d=this.strict&&!e.request.headers.range||h.start>=l.size||h.end>l.size?"416":"206"):d="200"):d="404",m=function(t){return e.response.writeHead(500),e.response.end(t.toString())},d){case"400":this.debug&&console.warn("Meteor.Files Debugger: [download("+e+", "+t+")] [400] Content-Length mismatch!: "+l.path),y="Content-Length mismatch!",e.response.writeHead(400,{"Cache-Control":"no-cache","Content-Length":y.length,"Content-Type":"text/plain"}),e.response.end(y);break;case"404":this.debug&&console.warn("Meteor.Files Debugger: [download("+e+", "+t+")] [404] File not found: "+(l&&l.path?l.path:void 0)),y="File Not Found :(",e.response.writeHead(404,{"Content-Length":y.length,"Content-Type":"text/plain"}),e.response.end(y);break;case"416":this.debug&&console.info("Meteor.Files Debugger: [download("+e+", "+t+")] [416] Content-Range is not specified!: "+l.path),e.response.writeHead(416,{"Content-Range":"bytes */"+l.size}),e.response.end();break;case"200":this.debug&&console.info("Meteor.Files Debugger: [download("+e+", "+t+")] [200]: "+l.path),f=p.createReadStream(l.path),f.on("open",function(){return e.response.writeHead(200),f.pipe(e.response)}).on("error",m);break;case"206":this.debug&&console.info("Meteor.Files Debugger: [download("+e+", "+t+")] [206]: "+l.path),e.response.setHeader("Content-Range","bytes "+h.start+"-"+h.end+"/"+l.size),e.response.setHeader("Content-Length",g+this.chunkSize<l.size?b+1:b),f=p.createReadStream(l.path,{start:h.start,end:h.end}),f.on("open",function(){return e.response.writeHead(206),f.pipe(e.response)}).on("error",m)}return void 0}:void 0,t.prototype.link=function(e,t,i){return null==t&&(t="original"),null==i&&(i=!1),this.debug&&console.info("Meteor.Files Debugger: [link()]"),r.isString(e)&&(t=e,e=void 0),e||this.currentFile?this["public"]?d(e||this.currentFile,t,!0):d(e||this.currentFile,t,!1):void 0},t}(),d=function(e,t,i){var n;return null==t&&(t="original"),null==i&&(i=!1),n=__meteor_runtime_config__.ROOT_URL.replace(/\/+$/,""),i?n+(""+e._downloadRoute+"/"+t+"-"+e._id+"."+e.extension):n+(""+e._downloadRoute+"/"+e._collectionName+"/"+e._id+"/"+t+"/"+e._id+"."+e.extension)},e.isClient&&t.registerHelper("fileURL",function(e,t){return e&&r.isObject(e)?(t=r.isString(t)?t:"original",e._id?-1!==e._storagePath.indexOf("../web.browser")?d(e,t,!0):d(e,t,!1):null):void 0})}).call(this),"undefined"==typeof Package&&(Package={}),Package["ostrio:files"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,a=Package.jquery.jQuery,o;(function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(a)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,h=0,f=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!i||i>f)&&(i=f,o(r,f)&&(i/=40)),o(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=i,t.offsetX=m,t.offsetY=p,t.deltaMode=0,l.unshift(t,c,u,h),n&&clearTimeout(n),n=setTimeout(a,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function a(){i=null}function o(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var n,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var a=l.length;a;)this.addEventListener(l[--a],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=l.length;a;)this.removeEventListener(l[--a],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var a=e(t),o=a["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(a.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})}).call(this),function(){!function(e,t,a){!function(t){var o="function"==typeof define&&define.amd,n="https:"==a.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";o||e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E")),t()}(function(){var n="mCustomScrollbar",i="mCS",r=".mCustomScrollbar",l={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,c={},d=t.attachEvent&&!t.addEventListener?1:0,u=!1,h=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(t){var t=e.extend(!0,{},l,t),a=m.call(this);if(t.live){var o=t.liveSelector||this.selector||r,n=e(o);if("off"===t.live)return void g(o);c[o]=setTimeout(function(){n.mCustomScrollbar(t),"once"===t.live&&n.length&&g(o)},500)}else g(o);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=x(t.scrollButtons.scrollType),p(t),e(a).each(function(){var a=e(this);if(!a.data(i)){a.data(i,{idx:++s,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:a.css("direction"),cbOffsets:null,trigger:null});var o=a.data(i),n=o.opt,r=a.data("mcs-axis"),l=a.data("mcs-scrollbar-position"),c=a.data("mcs-theme");r&&(n.axis=r),l&&(n.scrollbarPosition=l),c&&(n.theme=c,p(n)),_.call(this),e("#mCSB_"+o.idx+"_container img:not(."+h[2]+")").addClass(h[2]),f.update.call(null,a)}})},update:function(t,a){var o=t||m.call(this);return e(o).each(function(){var t=e(this);if(t.data(i)){var o=t.data(i),n=o.opt,r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!r.length)return;o.tweenRunning&&Q(t),t.hasClass(h[3])&&t.removeClass(h[3]),t.hasClass(h[4])&&t.removeClass(h[4]),C.call(this),w.call(this),"y"===n.axis||n.advanced.autoExpandHorizontalScroll||r.css("width",S(r.children())),o.overflowed=k.call(this),D.call(this),n.autoDraggerLength&&y.call(this),B.call(this),O.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==n.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?M.call(this):(Z(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(M.call(this),"y"===n.axis?I.call(this):"yx"===n.axis&&o.overflowed[1]&&Z(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?M.call(this):(Z(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(M.call(this),"x"===n.axis?I.call(this):"yx"===n.axis&&o.overflowed[0]&&Z(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),a&&o&&(2===a&&n.callbacks.onImageLoad&&"function"==typeof n.callbacks.onImageLoad?n.callbacks.onImageLoad.call(this):3===a&&n.callbacks.onSelectorChange&&"function"==typeof n.callbacks.onSelectorChange?n.callbacks.onSelectorChange.call(this):n.callbacks.onUpdate&&"function"==typeof n.callbacks.onUpdate&&n.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,a){if("undefined"!=typeof t&&null!=t){var o=m.call(this);return e(o).each(function(){var o=e(this);if(o.data(i)){var n=o.data(i),r=n.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,a),c=q.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=F.call(this,c[0],"y"),c[1]=F.call(this,c[1],"x"),s.moveDragger&&(c[0]*=n.scrollRatio.y,c[1]*=n.scrollRatio.x),s.dur=d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&n.overflowed[0]&&(s.dir="y",s.overwrite="all",Z(o,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&n.overflowed[1]&&(s.dir="x",s.overwrite="none",Z(o,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=m.call(this);return e(t).each(function(){var t=e(this);t.data(i)&&Q(t)})},disable:function(t){var a=m.call(this);return e(a).each(function(){var a=e(this);if(a.data(i)){var o=a.data(i);N.call(this,"remove"),I.call(this),t&&M.call(this),D.call(this,!0),a.addClass(h[3])}})},destroy:function(){var t=m.call(this);return e(t).each(function(){var a=e(this);if(a.data(i)){var o=a.data(i),r=o.opt,l=e("#mCSB_"+o.idx),s=e("#mCSB_"+o.idx+"_container"),c=e(".mCSB_"+o.idx+"_scrollbar");r.live&&g(r.liveSelector||e(t).selector),N.call(this,"remove"),I.call(this),M.call(this),a.removeData(i),K(this,"mcs"),c.remove(),s.find("img."+h[2]).removeClass(h[2]),l.replaceWith(s.contents()),a.removeClass(n+" _"+i+"_"+o.idx+" "+h[6]+" "+h[7]+" "+h[5]+" "+h[3]).addClass(h[4])}})}},m=function(){return"object"!=typeof e(this)||e(this).length<1?r:this},p=function(t){var a=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,a)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,o)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},g=function(e){c[e]&&(clearTimeout(c[e]),K(c,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},x=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},_=function(){var t=e(this),a=t.data(i),o=a.opt,r=o.autoExpandScrollbar?" "+h[1]+"_expand":"",l=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?l[0]+l[1]:"x"===o.axis?l[1]:l[0],d="yx"===o.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=o.autoHideScrollbar?" "+h[6]:"",f="x"!==o.axis&&"rtl"===a.langDir?" "+h[7]:"";o.setWidth&&t.css("width",o.setWidth),o.setHeight&&t.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===a.langDir?"989999px":o.setLeft,t.addClass(n+" _"+i+"_"+a.idx+u+f).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+s+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir="+a.langDir+" /></div>");var m=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||p.css("width",S(p.children())),"outside"===o.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(d)),b.call(this);var g=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},S=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},w=function(){var t=e(this),a=t.data(i),o=a.opt,n=e("#mCSB_"+a.idx+"_container");o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis&&n.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),position:"relative"}).unwrap()},b=function(){var t=e(this),a=t.data(i),o=a.opt,n=e(".mCSB_"+a.idx+"_scrollbar:first"),r=ae(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+h[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===o.axis?l[2]:l[0],"x"===o.axis?l[3]:l[1],l[2],l[3]];o.scrollButtons.enable&&n.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},C=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=t.css("max-height")||"none",r=-1!==n.indexOf("%"),l=t.css("box-sizing");if("none"!==n){var s=r?t.parent().height()*parseInt(n)/100:parseInt(n);"border-box"===l&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),o.css("max-height",Math.round(s))}},y=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],l=[o.height()/n.outerHeight(!1),o.width()/n.outerWidth(!1)],s=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],c=d&&s[1]<s[0]?s[0]:s[1],u=d&&s[3]<s[2]?s[2]:s[3];r[0].css({height:c,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},B=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],l=[n.outerHeight(!1)-o.height(),n.outerWidth(!1)-o.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];a.scrollRatio={y:s[0],x:s[1]}},T=function(e,t,a){var o=a?h[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(h[0]+" "+o),n.toggleClass(h[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(h[0]),n.removeClass(h[1])):(e.addClass(h[0]),n.addClass(h[1])))},k=function(){var t=e(this),a=t.data(i),o=e("#mCSB_"+a.idx),n=e("#mCSB_"+a.idx+"_container"),r=null==a.overflowed?n.height():n.outerHeight(!1),l=null==a.overflowed?n.width():n.outerWidth(!1);return[r>o.height(),l>o.width()]},M=function(){var t=e(this),a=t.data(i),n=a.opt,r=e("#mCSB_"+a.idx),l=e("#mCSB_"+a.idx+"_container"),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!a.overflowed[0]||"y"===n.axis&&a.overflowed[0])&&(s[0].add(l).css("top",0),Z(t,"_resetY")),"y"!==n.axis&&!a.overflowed[1]||"x"===n.axis&&a.overflowed[1]){var c=o=0;"rtl"===a.langDir&&(c=r.width()-l.outerWidth(!1),o=Math.abs(c/a.scrollRatio.x)),l.css("left",c),s[1].css("left",o),Z(t,"_resetX")}},O=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(a[0])):t()},100)}var a=e(this),o=a.data(i),n=o.opt;if(!o.bindEvents){if(E.call(this),n.contentTouchScroll&&L.call(this),P.call(this),n.mouseWheel.enable){var r;t()}A.call(this),U.call(this),n.advanced.autoScrollOnFocus&&H.call(this),n.scrollButtons.enable&&j.call(this),n.keyboard.enable&&X.call(this),o.bindEvents=!0}},I=function(){var t=e(this),o=t.data(i),n=o.opt,r=i+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+l+" ."+h[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+l+">a"),c=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&s.add(e(n.advanced.releaseDraggableSelectors)),o.bindEvents&&(e(a).unbind("."+r),s.each(function(){e(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),K(o.sequential,"step"),c[0]&&(clearTimeout(c[0].onCompleteTimeout),K(c[0],"onCompleteTimeout")),o.bindEvents=!1)},D=function(t){var a=e(this),o=a.data(i),n=o.opt,r=e("#mCSB_"+o.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==n.axis&&(o.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(h[8]+" "+h[10])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[0].add(s[0].children("a")).css("display","none"),l.removeClass(h[10])):(s[0].css("display","none"),l.addClass(h[10])),l.addClass(h[8]))),"y"!==n.axis&&(o.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(h[9]+" "+h[11])):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[1].add(s[1].children("a")).css("display","none"),l.removeClass(h[11])):(s[1].css("display","none"),l.addClass(h[11])),l.addClass(h[9]))),o.overflowed[0]||o.overflowed[1]?a.removeClass(h[5]):a.addClass(h[5])},R=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX,!1];break;case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return[a.pageY,a.pageX,o>1];break;default:return[e.pageY,e.pageX,!1]}},E=function(){function t(e){var t=h.find("iframe");if(t.length){var a=e?"auto":"none";t.css("pointer-events",a)}}function o(e,t,a,o){if(h[0].idleTimer=l.scrollInertia<233?250:0,m.attr("id")===c[1])var i="x",s=(m[0].offsetLeft-t+o)*r.scrollRatio.x;else var i="y",s=(m[0].offsetTop-e+a)*r.scrollRatio.y;Z(n,s.toString(),{dir:i,drag:!0})}var n=e(this),r=n.data(i),l=r.opt,s=i+"_"+r.idx,c=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],h=e("#mCSB_"+r.idx+"_container"),f=e("#"+c[0]+",#"+c[1]),m,p,g,v=l.advanced.releaseDraggableSelectors?f.add(e(l.advanced.releaseDraggableSelectors)):f;f.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),ee(o)){u=!0,d&&(a.onselectstart=function(){return!1}),t(!1),Q(n),m=e(this);var i=m.offset(),r=R(o)[0]-i.top,s=R(o)[1]-i.left,c=m.height()+i.top,h=m.width()+i.left;c>r&&r>0&&h>s&&s>0&&(p=r,g=s),T(m,"active",l.autoExpandScrollbar)}}).bind("touchmove."+s,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=m.offset(),a=R(e)[0]-t.top,n=R(e)[1]-t.left;o(p,g,a,n)}),e(a).bind("mousemove."+s+" pointermove."+s+" MSPointerMove."+s,function(e){if(m){var t=m.offset(),a=R(e)[0]-t.top,n=R(e)[1]-t.left;if(p===a)return;o(p,g,a,n)}}).add(v).bind("mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(e){m&&(T(m,"active",l.autoExpandScrollbar),m=null),u=!1,d&&(a.onselectstart=null),t(!0)})},L=function(){function t(e,t){var a=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?a[0]:a[3]:e>60?t>3?a[3]:a[2]:e>30?t>8?a[1]:t>6?a[0]:t>4?t:a[2]:t>8?t:a[3]}function a(e,t,a,n,i,r){e&&Z(o,e.toString(),{dur:t,scrollEasing:a,dir:n,overwrite:i,drag:r})}var o=e(this),n=o.data(i),r=n.opt,l=i+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],h,f,m,p,g=[],v=[],x,_,S,w,b,C,y=0,B,T="yx"===r.axis?"none":"all",k=[];c.bind("touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(e){if(te(e)&&!u&&!R(e)[2]){var t=c.offset();h=R(e)[0]-t.top,f=R(e)[1]-t.left,k=[R(e)[0],R(e)[1]]}}).bind("touchmove."+l+" pointermove."+l+" MSPointerMove."+l,function(e){if(te(e)&&!u&&!R(e)[2]){e.stopImmediatePropagation(),_=G();var t=s.offset(),o=R(e)[0]-t.top,i=R(e)[1]-t.left,l="mcsLinearOut";if(g.push(o),v.push(i),k[2]=Math.abs(R(e)[0]-k[0]),k[3]=Math.abs(R(e)[1]-k[1]),n.overflowed[0])var m=d[0].parent().height()-d[0].height(),p=h-o>0&&o-h>-(m*n.scrollRatio.y)&&(2*k[3]<k[2]||"yx"===r.axis);if(n.overflowed[1])var x=d[1].parent().width()-d[1].width(),S=f-i>0&&i-f>-(x*n.scrollRatio.x)&&(2*k[2]<k[3]||"yx"===r.axis);(p||S)&&e.preventDefault(),C="yx"===r.axis?[h-o,f-i]:"x"===r.axis?[null,f-i]:[h-o,null],c[0].idleTimer=250,n.overflowed[0]&&a(C[0],y,l,"y","all",!0),n.overflowed[1]&&a(C[1],y,l,"x",T,!0)}}),s.bind("touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(e){if(te(e)&&!u&&!R(e)[2]){e.stopImmediatePropagation(),Q(o),x=G();var t=s.offset();m=R(e)[0]-t.top,p=R(e)[1]-t.left,g=[],v=[]}}).bind("touchend."+l+" pointerup."+l+" MSPointerUp."+l,function(e){if(te(e)&&!u&&!R(e)[2]){e.stopImmediatePropagation(),S=G();var o=s.offset(),i=R(e)[0]-o.top,l=R(e)[1]-o.left;if(!(S-_>30)){b=1e3/(S-x);var d="mcsEaseOut",h=2.5>b,f=h?[g[g.length-2],v[v.length-2]]:[0,0];w=h?[i-f[0],l-f[1]]:[i-m,l-p];var y=[Math.abs(w[0]),Math.abs(w[1])];b=h?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[b,b];var k=[Math.abs(c[0].offsetTop)-w[0]*t(y[0]/b[0],b[0]),Math.abs(c[0].offsetLeft)-w[1]*t(y[1]/b[1],b[1])];C="yx"===r.axis?[k[0],k[1]]:"x"===r.axis?[null,k[1]]:[k[0],null],B=[4*y[0]+r.scrollInertia,4*y[1]+r.scrollInertia];var M=parseInt(r.contentTouchScroll)||0;C[0]=y[0]>M?C[0]:0,C[1]=y[1]>M?C[1]:0,n.overflowed[0]&&a(C[0],B[0],d,"y",T,!1),n.overflowed[1]&&a(C[1],B[1],d,"x",T,!1)}}})},P=function(){function o(){return t.getSelection?t.getSelection().toString():a.selection&&"Control"!=a.selection.type?a.selection.createRange().text:0}function n(e,t,a){c.type=a&&m?"stepped":"stepless",c.scrollAmount=10,Y(r,e,t,"mcsLinearOut",a?60:null)}var r=e(this),l=r.data(i),s=l.opt,c=l.sequential,d=i+"_"+l.idx,h=e("#mCSB_"+l.idx+"_container"),f=h.parent(),m;h.bind("mousedown."+d,function(e){m||(m=1,u=!0)}).add(a).bind("mousemove."+d,function(e){if(m&&o()){var t=h.offset(),a=R(e)[0]-t.top+h[0].offsetTop,i=R(e)[1]-t.left+h[0].offsetLeft;a>0&&a<f.height()&&i>0&&i<f.width()?c.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>a?n("on",38):a>f.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>i?n("on",37):i>f.width()&&n("on",39)))}}).bind("mouseup."+d,function(e){m&&(m=0,n("off",null)),u=!1})},W=function(){function t(e){var t=null;try{var a=e.contentDocument||e.contentWindow.document;t=a.body.innerHTML}catch(o){}return null!==t}var a=e(this),o=a.data(i);if(o){var n=o.opt,r=i+"_"+o.idx,l=e("#mCSB_"+o.idx),s=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],c=e("#mCSB_"+o.idx+"_container").find("iframe"),u=l;c.length&&c.each(function(){var a=this;t(a)&&(u=u.add(e(a).contents().find("body")))}),u.bind("mousewheel."+r,function(t,i){if(Q(a),!z(a,t.target)){var r="auto"!==n.mouseWheel.deltaFactor?parseInt(n.mouseWheel.deltaFactor):d&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===n.axis||"x"===n.mouseWheel.axis)var c="x",u=[Math.round(r*o.scrollRatio.x),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?u[1]:u[0]>=l.width()?.9*l.width():u[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=s[1][0].offsetLeft,p=s[1].parent().width()-s[1].width(),g=t.deltaX||t.deltaY||i;else var c="y",u=[Math.round(r*o.scrollRatio.y),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?u[1]:u[0]>=l.height()?.9*l.height():u[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=s[0][0].offsetTop,p=s[0].parent().height()-s[0].height(),g=t.deltaY||i;"y"===c&&!o.overflowed[0]||"x"===c&&!o.overflowed[1]||(n.mouseWheel.invert&&(g=-g),n.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==p||n.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),Z(a,(f-g*h).toString(),{dir:c}))}})}},z=function(t,a){var o=a.nodeName.toLowerCase(),n=t.data(i).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(o,n)>-1&&!(e.inArray(o,r)>-1&&!e(a).is(":focus"))},A=function(){var t=e(this),a=t.data(i),o=i+"_"+a.idx,n=e("#mCSB_"+a.idx+"_container"),r=n.parent(),l=e(".mCSB_"+a.idx+"_scrollbar ."+h[12]);l.bind("touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(e){u=!0}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){u=!1}).bind("click."+o,function(o){if(e(o.target).hasClass(h[12])||e(o.target).hasClass("mCSB_draggerRail")){Q(t);var i=e(this),l=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var s="x",c=o.pageX>l.offset().left?-1:1,d=Math.abs(n[0].offsetLeft)-.9*c*r.width()}else{if(!a.overflowed[0])return;var s="y",c=o.pageY>l.offset().top?-1:1,d=Math.abs(n[0].offsetTop)-.9*c*r.height()}Z(t,d.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(i),n=o.opt,r=i+"_"+o.idx,l=e("#mCSB_"+o.idx+"_container"),s=l.parent();l.bind("focusin."+r,function(o){var i=e(a.activeElement),r=l.find(".mCustomScrollBox").length,c=0;i.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?(c+17)*r:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(i)[0],oe(i)[1]],a=[l[0].offsetTop,l[0].offsetLeft],o=[a[0]+e[0]>=0&&a[0]+e[0]<s.height()-i.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<s.width()-i.outerWidth(!1)],r="yx"!==n.axis||o[0]||o[1]?"all":"none";"x"===n.axis||o[0]||Z(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:r,dur:c}),"y"===n.axis||o[1]||Z(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:r,dur:c})},t[0]._focusTimer))})},U=function(){var t=e(this),a=t.data(i),o=i+"_"+a.idx,n=e("#mCSB_"+a.idx+"_container").parent();n.bind("scroll."+o,function(t){(0!==n.scrollTop()||0!==n.scrollLeft())&&e(".mCSB_"+a.idx+"_scrollbar").css("visibility","hidden")})},j=function(){var t=e(this),a=t.data(i),o=a.opt,n=a.sequential,r=i+"_"+a.idx,l=".mCSB_"+a.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(i){function r(e,a){n.scrollAmount=o.snapAmount||o.scrollButtons.scrollAmount,Y(t,e,a)}if(i.preventDefault(),ee(i)){var l=e(this).attr("class");switch(n.type=o.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===n.type)return;u=!0,a.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===n.type)return;u=!1,n.dir&&r("off",l);break;case"click":if("stepped"!==n.type||a.tweenRunning)return;r("on",l)}}})},X=function(){var t=e(this),o=t.data(i),n=o.opt,r=o.sequential,l=i+"_"+o.idx,s=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']";s.attr("tabindex","0").bind("blur."+l+" keydown."+l+" keyup."+l,function(i){function l(e,a){r.type=n.keyboard.scrollType,r.scrollAmount=n.snapAmount||n.keyboard.scrollAmount,"stepped"===r.type&&o.tweenRunning||Y(t,e,a)}switch(i.type){case"blur":o.tweenRunning&&r.dir&&l("off",null);break;case"keydown":case"keyup":var s=i.keyCode?i.keyCode:i.which,h="on";if("x"!==n.axis&&(38===s||40===s)||"y"!==n.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===i.type&&(h="off"),e(a.activeElement).is(u)||(i.preventDefault(),i.stopImmediatePropagation(),l(h,s))}else if(33===s||34===s){if((o.overflowed[0]||o.overflowed[1])&&(i.preventDefault(),i.stopImmediatePropagation()),"keyup"===i.type){Q(t);var f=34===s?-1:1;if("x"===n.axis||"yx"===n.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var m="y",p=Math.abs(c[0].offsetTop)-.9*f*d.height();Z(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(a.activeElement).is(u)&&((o.overflowed[0]||o.overflowed[1])&&(i.preventDefault(),i.stopImmediatePropagation()),"keyup"===i.type)){if("x"===n.axis||"yx"===n.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=35===s?Math.abs(d.width()-c.outerWidth(!1)):0;else var m="y",p=35===s?Math.abs(d.height()-c.outerHeight(!1)):0;Z(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}})},Y=function(t,a,o,n,r){function l(e){var a="stepped"!==u.type,o=r?r:e?a?d.scrollInertia/1.5:d.scrollInertia:1e3/60,i=e?a?7.5:40:2.5,s=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],h=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===u.dir[0]?s[1]+u.dir[1]*h[1]*i:s[0]+u.dir[1]*h[0]*i,p="x"===u.dir[0]?s[1]+u.dir[1]*parseInt(u.scrollAmount):s[0]+u.dir[1]*parseInt(u.scrollAmount),g="auto"!==u.scrollAmount?p:m,v=n?n:e?a?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",x=e?!0:!1;return e&&17>o&&(g="x"===u.dir[0]?s[1]:s[0]),Z(t,g.toString(),{dir:u.dir[0],scrollEasing:v,dur:o,onComplete:x}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){l()},o)))}function s(){clearTimeout(u.step),K(u,"step"),Q(t)}var c=t.data(i),d=c.opt,u=c.sequential,f=e("#mCSB_"+c.idx+"_container"),m="stepped"===u.type?!0:!1;switch(a){case"on":if(u.dir=[o===h[16]||o===h[15]||39===o||37===o?"x":"y",o===h[13]||o===h[15]||38===o||37===o?-1:1],Q(t),ae(o)&&"stepped"===u.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&u.dir)&&l(!0)}},q=function(t){var a=e(this).data(i).opt,o=[];return"function"==typeof t&&(t=t()),t instanceof Array?o=t.length>1?[t[0],t[1]]:"x"===a.axis?[null,t[0]]:[t[0],null]:(o[0]=t.y?t.y:t.x||"x"===a.axis?null:t,o[1]=t.x?t.x:t.y||"y"===a.axis?null:t),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},F=function(t,a){if(null!=t&&"undefined"!=typeof t){var o=e(this),n=o.data(i),r=n.opt,l=e("#mCSB_"+n.idx+"_container"),s=l.parent(),c=typeof t;a||(a="x"===r.axis?"x":"y");var d="x"===a?l.outerWidth(!1):l.outerHeight(!1),u="x"===a?l[0].offsetLeft:l[0].offsetTop,h="x"===a?"left":"top";switch(c){case"function":return t();break;case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===a?oe(m)[1]:oe(m)[0];break;case"string":case"number":if(ae(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=u+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&ae(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===a?oe(m)[1]:oe(m)[0]}return e(t).length?"x"===a?oe(e(t))[1]:oe(e(t))[0]:(l.css(h,t),void f.update.call(null,o[0]))}}},N=function(t){function a(){clearTimeout(u[0].autoUpdate),u[0].autoUpdate=setTimeout(function(){return d.advanced.updateOnSelectorChange&&(x=r(),x!==v)?(l(3),void(v=x)):(d.advanced.updateOnContentResize&&(S=[u.outerHeight(!1),u.outerWidth(!1),m.height(),m.width(),g()[0],g()[1]],(S[0]!==_[0]||S[1]!==_[1]||S[2]!==_[2]||S[3]!==_[3]||S[4]!==_[4]||S[5]!==_[5])&&(l(S[0]!==_[0]||S[1]!==_[1]),_=S)),d.advanced.updateOnImageLoad&&(b=o(),b!==w&&(u.find("img").each(function(){n(this)}),w=b)),void((d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&a()))},60)}function o(){var e=0;return d.advanced.updateOnImageLoad&&(e=u.find("img").length),e}function n(t){function a(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null,e(t).addClass(h[2]),l(2)}if(e(t).hasClass(h[2]))return void l();var n=new Image;n.onload=a(n,o),n.src=t.src}function r(){d.advanced.updateOnSelectorChange===!0&&(d.advanced.updateOnSelectorChange="*");var t=0,a=u.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&a.length>0&&a.each(function(){t+=e(this).height()+e(this).width();

}),t}function l(e){clearTimeout(u[0].autoUpdate),f.update.call(null,s[0],e)}var s=e(this),c=s.data(i),d=c.opt,u=e("#mCSB_"+c.idx+"_container");if(t)return void(u[0]&&(clearTimeout(u[0].autoUpdate),K(u[0],"autoUpdate")));var m=u.parent(),p=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],g=function(){return[p[0].is(":visible")?p[0].outerHeight(!0):0,p[1].is(":visible")?p[1].outerWidth(!0):0]},v=r(),x,_=[u.outerHeight(!1),u.outerWidth(!1),m.height(),m.width(),g()[0],g()[1]],S,w=o(),b;a()},V=function(e,t,a){return Math.round(e/t)*t-a},Q=function(t){var a=t.data(i),o=e("#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal");o.each(function(){J.call(this)})},Z=function(t,a,o){function n(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=S[0]+b,c.callbacks.alwaysTriggerOffsets||-C>=_]}function l(){var e=[f[0].offsetTop,f[0].offsetLeft],a=[v[0].offsetTop,v[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],i=[h.height(),h.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:a[0],draggerLeft:a[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:o.dir}}var s=t.data(i),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=e.extend(d,o),u=[o.dur,o.drag?0:o.dur],h=e("#mCSB_"+s.idx),f=e("#mCSB_"+s.idx+"_container"),m=f.parent(),p=c.callbacks.onTotalScrollOffset?q.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?q.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=o.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==a||s.contentReset.y||(n("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==a||s.contentReset.x||(n("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==a&&"_resetX"!==a){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(n("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(n("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount&&(a=V(a,c.snapAmount,c.snapOffset)),o.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",_=f[0].offsetLeft,S=[h.width()-f.outerWidth(!1),v.parent().width()-v.width()],w=[a,0===a?0:a/s.scrollRatio.x],b=p[1],C=g[1],y=b>0?b/s.scrollRatio.x:0,B=C>0?C/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",_=f[0].offsetTop,S=[h.height()-f.outerHeight(!1),v.parent().height()-v.height()],w=[a,0===a?0:a/s.scrollRatio.y],b=p[0],C=g[0],y=b>0?b/s.scrollRatio.y:0,B=C>0?C/s.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=S[1]?w=[S[0],S[1]]:w[0]=-w[0],t[0].mcs||(l(),n("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),(s.tweenRunning||!(0===_&&w[0]>=0||_===S[0]&&w[0]<=S[0]))&&($(v[0],x,Math.round(w[1]),u[1],o.scrollEasing),$(f[0],x,Math.round(w[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!s.tweenRunning&&(n("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,T(v),s.cbOffsets=r())},onUpdate:function(){o.callbacks&&o.onUpdate&&n("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){n("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),n("onTotalScroll")&&w[1]>=S[1]-y&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),n("onTotalScrollBack")&&w[1]<=B&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,f[0].idleTimer=0,T(v,"hide")},e)}}}))}},$=function(e,a,o,n,i,r,l){function s(){b.stop||(x||f.call(),x=G()-g,c(),x>=b.time&&(b.time=x>b.time?x+v-(x-b.time):x+v-1,b.time<x+1&&(b.time=x+1)),b.time<n?b.id=w(s):p.call())}function c(){n>0?(b.currVal=h(b.time,_,C,n,i),S[a]=Math.round(b.currVal)+"px"):S[a]=o+"px",m.call()}function d(){v=1e3/60,b.time=x+v,w=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return c(),setTimeout(e,.01)},b.id=w(s)}function u(){null!=b.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}function h(e,t,a,o,n){switch(n){case"linear":case"mcsLinear":return a*e/o+t;break;case"mcsLinearOut":return e/=o,e--,a*Math.sqrt(1-e*e)+t;break;case"easeInOutSmooth":return e/=o/2,1>e?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t);break;case"easeInOutStrong":return e/=o/2,1>e?a/2*Math.pow(2,10*(e-1))+t:(e--,a/2*(-Math.pow(2,-10*e)+2)+t);break;case"easeInOut":case"mcsEaseInOut":return e/=o/2,1>e?a/2*e*e*e+t:(e-=2,a/2*(e*e*e+2)+t);break;case"easeOutSmooth":return e/=o,e--,-a*(e*e*e*e-1)+t;break;case"easeOutStrong":return a*(-Math.pow(2,-10*e/o)+1)+t;break;case"easeOut":case"mcsEaseOut":default:var i=(e/=o)*e,r=i*e;return t+a*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var l=l||{},f=l.onStart||function(){},m=l.onUpdate||function(){},p=l.onComplete||function(){},g=G(),v,x=0,_=e.offsetTop,S=e.style,w,b=e._mTween[a];"left"===a&&(_=e.offsetLeft);var C=o-_;b.stop=0,"none"!==r&&u(),d()},G=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var a=["top","left"],o=0;o<a.length;o++){var n=a[o];e._mTween[n].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},K=function(e,t){try{delete e[t]}catch(a){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ae=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[n]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[n]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[n].defaults=l,t[n]=!0,e(t).load(function(){e(r)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var a=e(t),o=a.parents(".mCSB_container"),n,i;if(o.length)return n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+oe(a)[0]>=0&&i[0]+oe(a)[0]<n.height()-a.outerHeight(!1)&&i[1]+oe(a)[1]>=0&&i[1]+oe(a)[1]<n.width()-a.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var a=e(t).data(i);if(a)return a.overflowed[0]||a.overflowed[1]}})})})}(a,window,document)}.call(this),"undefined"==typeof Package&&(Package={}),Package["maazalik:malihu-jquery-custom-scrollbar"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:npm"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["npm-container"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var o="_localstorage_test_"+t.id(),a;try{window.localStorage&&(window.localStorage.setItem(o,o),a=window.localStorage.getItem(o),window.localStorage.removeItem(o))}catch(n){}o===a&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var e=Package.meteor.Meteor,r=Package["meteorhacks:meteorx"].MeteorX,n=Package.underscore._,t=Package.random.Random,o=Package.jquery.$,i=Package.jquery.jQuery,a,s,c,u,l,f,p,d,m,y,v,h;(function(){if(a={},a.options={},a._wrapAsync=e.wrapAsync?e.wrapAsync:e._wrapAsync,e.isServer){var r=Npm.require("events").EventEmitter,t=new r;t.setMaxListeners(0);var o=function(e){e=n.toArray(e);var r=e[0]+"-"+e[1],e=e.slice(2);return e.unshift(r),e};a.EventBus={},n.each(["on","emit","removeListener","removeAllListeners"],function(e){a.EventBus[e]=function(){var r=o(arguments);return t[e].apply(t,r)}})}}).call(this),function(){s=function(e){this._filters=[]},s.prototype.addFilter=function(e){if("function"!=typeof e)throw new Error("Error filter must be a function");this._filters.push(e)},s.prototype.removeFilter=function(e){var r=this._filters.indexOf(e);r>=0&&this._filters.splice(r,1)},s.prototype.applyFilters=function(e,r,n,t){for(var o=0;o<this._filters.length;o++){var i=this._filters[o];try{var a=i(e,r,n,t);if(!a)return!1}catch(s){throw this._filters.splice(o,1),new Error("an error thrown from a filter you've suplied",s.message)}}return!0}}.call(this),function(){c=function(e){var r=this;n.extend(r,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},n.extend(c.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var r=this;if(e<r.minCount)return r.minTimeout;var n=Math.min(r.maxTimeout,r.baseTimeout*Math.pow(r.exponent,e));return n*=t.fraction()*r.fuzz+(1-r.fuzz/2),Math.ceil(n)},retryLater:function(e,r){var n=this,t=n._timeout(e);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=setTimeout(r,t),t}})}.call(this),function(){function r(){return e.isServer?Npm.require("debug")("kadira:ntp"):function(r){var n=null!==e._localStorage.getItem("LOG_KADIRA")&&"undefined"!=typeof console;n&&(r&&(r="kadira:ntp "+r,arguments[0]=r),console.log.apply(console,arguments))}}var n=r();u=function(e){this.setEndpoint(e),this.diff=0,this.synced=!1,this.reSyncCount=0,this.reSync=new c({baseTimeout:6e4,maxTimeout:6e5,minCount:0})},u._now=function(){var e=Date.now();return"number"==typeof e?e:e instanceof Date?e.getTime():(new Date).getTime()},u.prototype.setEndpoint=function(e){this.endpoint=e+"/simplentp/sync"},u.prototype.getTime=function(){return u._now()+Math.round(this.diff)},u.prototype.syncTime=function(e){return e+Math.ceil(this.diff)},u.prototype.sync=function(){function e(){5>i?(n("attempt time sync with server",i),a.retryLater(i++,r)):(n("maximum retries reached"),o.reSync.retryLater(o.reSyncCount++,function(){var e=[].slice.call(arguments);o.sync.apply(o,e)}))}function r(){o.getServerTime(function(r){r?e():t()})}function t(){var r=(new Date).getTime();o.getServerTime(function(t,i){if(!t&&i){var a=((new Date).getTime()-r)/2,s=i-a;o.diff=s-r,o.synced=!0,o.reSync.retryLater(o.reSyncCount++,function(){var e=[].slice.call(arguments);o.sync.apply(o,e)}),n("successfully updated diff value",o.diff)}else e()})}n("init sync");var o=this,i=0,a=new c({baseTimeout:2e4,maxTimeout:6e4,minCount:1,minTimeout:0});e()},u.prototype.getServerTime=function(r){var n=this;if(e.isServer){var t=Npm.require("fibers");new t(function(){HTTP.get(n.endpoint,function(e,n){if(e)r(e);else{var t=parseInt(n.content);r(null,t)}})}).run()}else o.ajax({type:"GET",url:n.endpoint,success:function(e){r(null,parseInt(e))},error:function(e){r(e)}})}}.call(this),function(){l=function(){return{browser:window.navigator.userAgent,userId:e.userId&&e.userId(),url:location.href,resolution:f()}},f=function(){if(screen&&screen.width&&screen.height){var e=screen.width+"x"+screen.height;return e}},p=function(e,r){function t(){if(e&&e.depth>2){var s="";e.currentStack&&(s=e.currentStack.get());var c=i[e.id],u=d(a[e.id]),l=c&&c[0]&&"owner-args"==c[0].type&&c.shift(),f=l?l.at:e.runAt,p=l?n.toArray(l.args):[];c=n.map(n.last(c,5),y(100)),u=n.map(n.last(u,5),y(100)),p=y(200)(n.first(p,5)),e.owner&&delete e.owner.zoneId,o.push({createdAt:e.createdAt,runAt:f,stack:s,owner:e.owner,ownerArgs:p,events:c,info:u,zoneId:e.id}),e=e.parent,setTimeout(t,0)}else r(o)}var o=[],i=e.eventMap||{},a=e.infoMap||{};o.push({at:(new Date).getTime(),stack:e.erroredStack.get()}),t()},d=function(e){return n(e||{}).map(function(e,r){return e.type=r,e})},m=function(){return a&&a.syncedDate?a.syncedDate.getTime():(new Date).getTime()},y=function(e){return function(r){e=e||100;for(var n in r){var t=r[n];try{var o=JSON.stringify(t);r[n]=o.length>e?o.substr(0,e)+" ...":t}catch(i){r[n]="Error: cannot stringify value"}}return r}},v=function(){function e(e){var r=e.substr(e.indexOf(":")+1);return window.location.protocol+r}window.XDomainRequest&&o.ajaxTransport(function(r){return{send:function(n,t){var o=new XDomainRequest,i=r.data||null,a=e(r.url);o.onload=function(){var e={"Content-Type":o.contentType};t(200,"OK",{text:o.responseText},e)},o.onerror=function(){t(404)},o.open(r.type,a),o.send(i)}}})}}.call(this),function(){h=function(e){s.call(this),e=e||{},e.maxErrorsPerInterval=e.maxErrorsPerInterval||10,e.intervalInMillis=e.intervalInMillis||12e4,e.waitForNtpSyncInterval=e.waitForNtpSyncInterval||0;var r=this;r.options=e,r.errorsSentCount=0,r.errorsSent={},r.intervalTimeoutHandler=setInterval(function(){r.errorsSentCount=0,r._flushErrors()},r.options.intervalInMillis)},n.extend(h.prototype,s.prototype),h.prototype.sendError=function(e,r,t){function o(){s.sendError(e,r,!0)}function i(){if(s.errorsSent[e.name])s.increamentErrorCount(e.name);else{e.startTime&&(e.startTime=a.syncedDate.syncTime(e.startTime)),e.count=1;var r={host:a.options.hostname,errors:[e]};a.send(r,"/errors"),s.errorsSent[e.name]=n.clone(e),s.errorsSent[e.name].count=0,s.errorsSentCount++}}var s=this;this.applyFilters("client",e.name,r,e.subType)&&this.canSendErrors()&&(t?i():a.syncedDate.synced||0==s.options.waitForNtpSyncInterval?i():setTimeout(o,s.options.waitForNtpSyncInterval))},h.prototype._flushErrors=function(){var e=this,r=n.values(e.errorsSent);r=n.filter(r,function(e){return e.count>0}),r.length>0&&a.send({errors:r},"/errors"),e.errorsSent={}},h.prototype.isErrorExists=function(e){return!!this.errorsSent[e]},h.prototype.increamentErrorCount=function(e){var r=this.errorsSent[e];r&&r.count++},h.prototype.canSendErrors=function(){return this.errorsSentCount<this.options.maxErrorsPerInterval},h.prototype.close=function(){clearTimeout(this.intervalTimeoutHandler)}}.call(this),function(){function e(e){if(a.options.enableErrorTracking){var r=Zone.Reporters.getErrorMessage(e.erroredStack._e);a.errors.isErrorExists(r)?a.errors.increamentErrorCount(r):a.errors.canSendErrors()&&p(e,function(n){a.errors.sendError({appId:a.options.appId,name:r,type:"client",startTime:e.runAt,subType:"zone",info:l(),stacks:JSON.stringify(n)})})}}window.Zone&&Zone.inited&&Zone.Reporters.add("kadira",e)}.call(this),function(){var e=window.onerror||Function.prototype;window.onerror=function(r,n,t,o,i){if(!a.options.enableErrorTracking)return e(r,n,t,o,i);if(n=n||"<anonymous>",t=t||0,o=o||0,i)var s=i.stack;else var s="Error:\n    at window.onerror ("+n+":"+t+":"+o+")";var c=(new Date).getTime();return a.errors.sendError({appId:a.options.appId,name:r,type:"client",startTime:c,subType:"window.onerror",info:l(),stacks:JSON.stringify([{at:c,events:[],stack:s}])}),e(r,n,t,o,i)}}.call(this),function(){function r(e){for(var r=[""],n;n=o.exec(e);)r.push(n[0]);return r.join("\n")}function n(e){return e.split("\n")[0]}var t=e._debug;e._debug=function(e,o){if(!a.options.enableErrorTracking)return t(e,o);if(window.zone)return t(e,o);e instanceof Error?(o=e.stack,e=e.message):"string"==typeof e&&void 0===o&&(o=r(e),e=n(e)),e&&void 0===o&&(o=r(e),e=n(e));var i=(new Date).getTime();return a.errors.sendError({appId:a.options.appId,name:e,type:"client",startTime:i,subType:"meteor._debug",info:l(),stacks:JSON.stringify([{at:i,events:[],stack:o}])}),t.apply(this,arguments)};var o=/^\s+at\s.+$/gm}.call(this),function(){function r(r){a.options=r||{},n.defaults(a.options,{errorDumpInterval:6e4,maxErrorsPerInterval:10,collectAllStacks:!1,enableErrorTracking:!1}),a.options.appId&&a.options.endpoint&&(a.syncedDate.setEndpoint(a.options.endpoint),a.connected=!0,e.startup(function(){setTimeout(function(){a.syncedDate.sync()},a.options.clientEngineSyncDelay)})),a.connected&&a.options.enableErrorTracking&&a.enableErrorTracking(),window.Zone&&Zone.inited&&(Zone.collectAllStacks=a.options.collectAllStacks)}if(a.enableErrorTracking=function(){a.options.enableErrorTracking=!0},a.disableErrorTracking=function(){a.options.enableErrorTracking=!1},a.trackError=function(e,r,t){if(a.options.enableErrorTracking&&e&&r){var o=(new Date).getTime();t=t||{},n.defaults(t,{subType:"client",stacks:""}),a.errors.sendError({appId:a.options.appId,name:r,source:"client",startTime:o,type:e,subType:t.subType,info:l(),stacks:JSON.stringify([{at:o,events:[],stack:t.stacks}])})}},a.syncedDate=new u(null),a.errors=new h({waitForNtpSyncInterval:5e3,intervalInMillis:6e4,maxErrorsPerInterval:5}),e.isCordova){var t=new e.Collection("kadira_settings");t.find().observe({added:n.once(r)})}else r(__meteor_runtime_config__.kadira);window.XDomainRequest&&v()}.call(this),function(){a.profileCpu=function e(){var e="Please install meteorhacks:kadira-profiler to take a CPU profile.";console.log(e)}}.call(this),function(){var r=[/connection timeout\. no (\w*) heartbeat received/i,/INVALID_STATE_ERR/i];a.errorFilters={filterValidationErrors:function(r,n,t){return t&&t instanceof e.Error?!1:!0},filterCommonMeteorErrors:function(e,n){for(var t=0;t<r.length;t++){var o=r[t];if(o.test(n))return!1}return!0}}}.call(this),function(){a.send=function(r,n,t){function o(e){5>u?l.retryLater(u++,i):(console.warn("Error sending error traces to kadira server"),t&&t(e))}function i(){f(s,r,function(r,n,i){r?o(r):200==i?t&&t(null,n):t&&t(new e.Error(i,n))})}if(!a.connected)throw new Error("You need to connect with Kadira first, before sending messages!");n="/"!=n.substr(0,1)?"/"+n:n;var s=a.options.endpoint+n,u=0,l=new c({minCount:1,minTimeout:0,baseTimeout:5e3,maxTimeout:6e4}),f=a._getSendFunction();o()},a._getSendFunction=function(){return e.isServer?a._serverSend:a._clientSend},a._clientSend=function(e,r,n){o.ajax({type:"POST",url:e,contentType:"application/json",data:JSON.stringify(r),error:function(e){n(e)},success:function(e){n(null,e,200)}})},a._serverSend=function(e,r,n){n=n||function(){};var t=Npm.require("fibers");new t(function(){var t={data:r,headers:a.options.authHeaders};HTTP.call("POST",e,t,function(e,r){if(r){var t=200==r.statusCode?r.data:r.content;n(null,t,r.statusCode)}else n(e)})}).run()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:kadira"]={Kadira:a}}();

!function(){var t=Package.meteor.Meteor,e=Package.htmljs.HTML,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.blaze.Blaze,u=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package["observe-sequence"].ObserveSequence,c=Package.templating.Template,l=Package.underscore._,f;(function(){f={};var t=function(t,e){return t===e};f.include=function(e,n,a){if(!e)return null;if("function"!=typeof e){var u=e;if(!r.isTemplate(u))throw new Error("Expected template or null, found: "+u);return e.constructView(n,a)}var i=r.ReactiveVar(null,t),o=r.View("Spacebars.include",function(){var t=i.get();if(null===t)return null;if(!r.isTemplate(t))throw new Error("Expected template or null, found: "+t);return t.constructView(n,a)});return o.__templateVar=i,o.onViewCreated(function(){this.autorun(function(){i.set(e())})}),o},f.mustacheImpl=function(t){var e=arguments;if(e.length>1){var n=e[e.length-1];if(n instanceof f.kw){var a={};for(var r in n.hash){var u=n.hash[r];a[r]="function"==typeof u?u():u}e[e.length-1]=f.kw(a)}else n=f.kw(),e=Array.prototype.slice.call(arguments),e.push(n)}return f.call.apply(null,e)},f.mustache=function(t){var n=f.mustacheImpl.apply(null,arguments);return n instanceof f.SafeString?e.Raw(n.toString()):null==n||n===!1?null:String(n)},f.attrMustache=function(t){var n=f.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&e.isValidAttributeName(n)){var a={};return a[n]="",a}throw new Error("Expected valid attribute name, '', null, or object")},f.dataMustache=function(t){var e=f.mustacheImpl.apply(null,arguments);return e},f.makeRaw=function(t){return null==t?null:t instanceof e.Raw?t:e.Raw(t)},f.call=function(t){if("function"==typeof t){for(var e=[],n=1;n<arguments.length;n++){var a=arguments[n];e[n-1]="function"==typeof a?a():a}return t.apply(null,e)}if(arguments.length>1)throw new Error("Can't call non-function: "+t);return t},f.kw=function(t){return this instanceof f.kw?void(this.hash=t||{}):new f.kw(t)},f.SafeString=function(t){return this instanceof f.SafeString?new i.SafeString(t):new f.SafeString(t)},f.SafeString.prototype=i.SafeString.prototype,f.dot=function(t,e){if(arguments.length>2){var n=[];return n.push(f.dot(t,e)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),f.dot.apply(null,n)}if("function"==typeof t&&(t=t()),!t)return t;var a=t[e];return"function"!=typeof a?a:function(){return a.apply(t,arguments)}},f.With=function(t,e,a){var u=new r.ReactiveVar,i=r.View("Spacebars_with",function(){return r.If(function(){return u.get()},function(){return r.With(function(){return u.get()},e)},a)});return i.onViewCreated(function(){this.autorun(function(){u.set(t()),n.onInvalidate(function(){u.dep.changed()})})}),i},f.TemplateWith=r._TemplateWith}).call(this),function(){c.__checkName("__dynamic"),c.__dynamic=new c("Template.__dynamic",function(){var t=this;return[r.View("lookup:checkContext",function(){return f.mustache(t.lookup("checkContext"))}),"\n  ",r.If(function(){return f.call(t.lookup("dataContextPresent"))},function(){return["\n    ",f.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",r._TemplateWith(function(){return{template:f.call(t.lookup("template")),data:f.call(t.lookup(".."))}},function(){return f.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),c.__checkName("__dynamicWithDataContext"),c.__dynamicWithDataContext=new c("Template.__dynamicWithDataContext",function(){var t=this;return f.With(function(){return f.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",r._TemplateWith(function(){return f.call(f.dot(t.lookup(".."),"data"))},function(){return f.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){c.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return c[t]||null}}),c.__dynamic.helpers({dataContextPresent:function(){return l.has(this,"data")},checkContext:function(){if(!l.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");l.each(this,function(t,e){if("template"!==e&&"data"!==e)throw new Error("Invalid argument to {{> Template.dynamic}}: "+e)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:f}}();

!function(){var e=Package.meteor.Meteor,n;(function(){var a=0,r=!1;n={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");a++;var n=!1,t=function(){e.isCordova&&(n||(a--,0===a&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var a=n.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){r?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){a.release()}):(r.body.onRendered(function(){a.release()}),setTimeout(function(){a.release()},6e3)):a.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.ejson.EJSON,n;(function(){if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof URL)if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof webkitURL)var e=function(e){"use strict";var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function g(){this.data=[]},r=function R(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},o=n.prototype,i=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},f="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=f.length,l=e.URL||e.webkitURL||e,c=l.createObjectURL,d=l.revokeObjectURL,p=l,b=e.btoa,y=e.atob,w=e.ArrayBuffer,h=e.Uint8Array;for(r.fake=i.fake=!0;u--;)s.prototype[f[u]]=u+1;return l.createObjectURL||(p=e.URL={}),p.createObjectURL=function(e){var t=e.type,n;return null===t&&(t="application/octet-stream"),e instanceof r?(n="data:"+t,"base64"===e.encoding?n+";base64,"+e.data:"URI"===e.encoding?n+","+decodeURIComponent(e.data):b?n+";base64,"+b(e.data):n+","+encodeURIComponent(e.data)):c?c.call(l,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&d&&d.call(l,e)},o.append=function(e){var n=this.data;if(h&&(e instanceof w||e instanceof h)){for(var o="",i=new h(e),f=0,u=i.length;u>f;f++)o+=String.fromCharCode(i[f]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var l=new a;n.push(l.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&y?n.push(y(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},i.slice=function(e,t,n){var o=arguments.length;return 3>o&&(n=null),new r(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},n}(e);return function n(e,r){var o=r?r.type||"":"",i=new t;if(e)for(var a=0,s=e.length;s>a;a++)i.append(e[a]);return i.getBlob(o)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL}).call(this),function(){function r(e,t){for(var n=atob(e.split(",")[1]),r=[],o=0;o<n.length;o++)r.push(n.charCodeAt(o));return new Blob([new Uint8Array(r)],{type:t})}function o(t){if(t){if(!(t instanceof e.Error))throw t;console.error(t.message)}}n=function i(e,n){var o=this;if(!e)throw new Error("DataMan constructor requires a data argument");if("undefined"!=typeof File&&e instanceof File)o.blob=e,o._type=e.type;else if("undefined"!=typeof Blob&&e instanceof Blob)o.blob=e,o._type=e.type;else if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||t.isBinary(e)){if("undefined"==typeof Blob)throw new Error("Browser must support Blobs to handle an ArrayBuffer or Uint8Array");if(!n)throw new Error("DataMan constructor requires a type argument when passed an ArrayBuffer or Uint8Array");o.blob=new Blob([e],{type:n}),o._type=n}else{if("string"!=typeof e)throw new Error("DataMan constructor received data that it doesn't support");if("data:"===e.slice(0,5))o._type=e.slice(5,e.indexOf(";")),o.blob=r(e,o._type);else{if("http:"!==e.slice(0,5)&&"https:"!==e.slice(0,6))throw new Error("DataMan constructor received unrecognized data string");if(!n)throw new Error("DataMan constructor requires a type argument when passed a URL");o.url=e,o._type=n}}},n.prototype.getBlob=function a(e){var t=this;if(!e){if(t.url)throw new Error("DataMan.getBlob requires a callback when managing a URL");return t.blob}if(t.blob)e(null,t.blob);else if(t.url){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType="blob",n.onload=function(r){t.blob=n.response,e(null,t.blob)},n.onerror=function(t){e(t)},n.send()}},n.prototype.getBinary=function s(e,t,n){function r(e){if("undefined"==typeof FileReader)return void n(new Error("Browser does not support FileReader"));var t=new FileReader;t.onload=function(e){n(null,new Uint8Array(e.target.result))},t.onerror=function(e){n(e)},t.readAsArrayBuffer(e)}var i=this;"function"==typeof e&&(n=e),n=n||o,i.getBlob(function(o,a){if(o)n(o);else if("number"==typeof e&&"number"==typeof t){var s=a.size;if(e>=s)return void n(new Error("DataMan.getBinary: start position beyond end of data ("+s+")"));t=Math.min(s,t);var f=a.slice||a.webkitSlice||a.mozSlice;if("undefined"==typeof f)return void n(new Error("Browser does not support File.slice"));r(f.call(a,e,t,i._type))}else r(a)})},n.prototype.saveAs=function f(e){var t=this;if("undefined"==typeof window)throw new Error("window must be defined to use saveLocal");return window.saveAs?void t.getBlob(function(t,n){if(t)throw t;window.saveAs(n,e)}):void console.warn("DataMan.saveAs: window.saveAs not supported by this browser - add cfs-filesaver package")},n.prototype.getDataUri=function u(e){var t=this;if("function"!=typeof e)throw new Error("getDataUri requires callback function");if("undefined"==typeof FileReader)return void e(new Error("Browser does not support FileReader"));var n=new FileReader;n.onload=function(t){var n=t.target.result;e(null,n)},n.onerror=function(t){e(t)},t.getBlob(function(t,r){t?e(t):n.readAsDataURL(r)})},n.prototype.size=function l(e){var t=this;if(!e){if(t.url)throw new Error("On the client, DataMan.size requires a callback when getting size for a URL on the client");if("number"==typeof t._size)return t._size;var n=t.getBlob();return t._size=n.size,t._size}"number"==typeof t._size?e(null,t._size):t.getBlob(function(n,r){n?e(n):(t._size=r.size,e(null,t._size))})},n.prototype.type=function c(){return this._type}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:data-man"]={DataMan:n}}();

!function(){var e=Package.meteor.Meteor,t=Package["cfs:base-package"].FS,o=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.check.check,a=Package.check.Match,r=Package.ddp.DDP,l=Package.mongo.Mongo,s=Package.http.HTTP,c=Package["cfs:data-man"].DataMan,p=Package["raix:eventemitter"].EventEmitter;(function(){function o(e,t,o){var i;return i=t&&e.hasStored(t)?e.type({store:t}):e.type(),"string"==typeof i?0===i.indexOf(o):!1}function n(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}t.File=function(e,o){var i=this;i.createdByTransform=!!o,e instanceof t.File||n(e)?t.Utility.extend(i,t.Utility.cloneFileRecord(e,{full:!0})):e&&i.attachData(e)},t.File.prototype=new p,t.File.prototype.attachData=function a(o,i,n){function a(e){l.data=new c(o,e,s),l.type(l.data.type()),l.size()?r():n?l.data.size(function(e,t){e?n&&n(e):(l.size(t),r())}):(l.size(l.data.size()),r())}function r(){l.name()||"string"!=typeof o||("http:"===o.slice(0,5)||"https:"===o.slice(0,6)?t.Utility.getFileExtension(o).length&&l.name(t.Utility.getFileName(o)):"data:"!==o.slice(0,5)&&l.name(t.Utility.getFileName(o))),n&&n()}var l=this;if(n||"function"!=typeof i||(n=i,i={}),i=i||{},!o)throw new Error("FS.File.attachData requires a data argument with some data");var s;if("undefined"!=typeof File&&o instanceof File)l.name(o.name),l.updatedAt(o.lastModifiedDate),l.size(o.size),a(o.type);else if("undefined"!=typeof Blob&&o instanceof Blob)l.updatedAt(new Date),l.size(o.size),a(o.type);else if("string"!=typeof o||"http:"!==o.slice(0,5)&&"https:"!==o.slice(0,6))a(i.type);else if(s=t.Utility.extend({},i),s.type&&delete s.type,n)e.call("_cfs_getUrlInfo",o,s,function(e,o){t.debug&&console.log("URL HEAD RESULT:",o),e?n(e):(t.Utility.extend(l,{original:o}),a(o.type))});else{if(e.isClient)throw new Error("FS.File.attachData requires a callback when attaching a URL on the client");var p=e.call("_cfs_getUrlInfo",o,s);t.Utility.extend(l,{original:p}),a(p.type)}return l},t.File.prototype.uploadProgress=function(){var e=this;return e.getFileRecord(),e.uploadedAt?100:Math.round((e.chunkCount||0)/(e.chunkSum||1)*100)},t.File.prototype.controlledByDeps=function(){var e=this;return e.createdByTransform&&i.active},t.File.prototype.getCollection=function(){var e=this;if(e.collection)return e.collection;if(e.collectionName)return e.collection=t._collections[e.collectionName],e.collection},t.File.prototype.isMounted=t.File.prototype.getCollection,t.File.prototype.getFileRecord=function(){var e=this;if(e.controlledByDeps())return e;if(e.isMounted()){t.debug&&console.log("GET FILERECORD: "+e._id);var o=e.collection.files.findOne({_id:e._id})||{};return t.Utility.extend(e,o),o}return{}},t.File.prototype.update=function(o,i,n){var a=this;return t.debug&&console.log("UPDATE: "+JSON.stringify(o)),n||"function"!=typeof i||(n=i,i={}),n=n||t.Utility.defaultCallback,a.isMounted()?a.collection.files.update({_id:a._id},o,i,function(t,o){o>0&&e.isClient&&a.getFileRecord(),n(t,o)}):void n(new Error("Cannot update a file that is not associated with a collection"))},t.File.prototype._saveChanges=function(e){var o=this;if(o.isMounted()){t.debug&&console.log("FS.File._saveChanges:",e||"all");var i={$set:{}};if("_original"===e)i.$set.original=o.original;else if("string"==typeof e){var n=o.copies[e];n&&(i.$set["copies."+e]=n)}else i.$set.original=o.original,i.$set.copies=o.copies;o.update(i)}},t.File.prototype.remove=function(e){var o=this;return t.debug&&console.log("REMOVE: "+o._id),e=e||t.Utility.defaultCallback,o.isMounted()?o.collection.files.remove({_id:o._id},function(t,i){t||(delete o._id,delete o.collection,delete o.collectionName),e(t,i)}):void e(new Error("Cannot remove a file that is not associated with a collection"))},t.File.prototype.getExtension=function(e){var t=this;return t.extension(e)},t.File.prototype.isImage=function(e){return o(this,(e||{}).store,"image/")},t.File.prototype.isVideo=function(e){return o(this,(e||{}).store,"video/")},t.File.prototype.isAudio=function(e){return o(this,(e||{}).store,"audio/")},t.File.prototype.formattedSize=function r(e){var t=this;if("function"!=typeof numeral)throw new Error("You must add the numeral package if you call FS.File.formattedSize");e=e||{},e=e.hash||e;var o=t.size(e)||0;return numeral(o).format(e.formatString||"0.00 b")},t.File.prototype.isUploaded=function(){var e=this;return e.getFileRecord(),!!e.uploadedAt},t.File.prototype.hasStored=function(e,o){var i=this;return i.getFileRecord(),t.Utility.isEmpty(i.copies)?!!o:"string"==typeof e?!!(i.copies&&i.copies[e]&&i.copies[e].key):!1},t.File.prototype.hasCopy=t.File.prototype.hasStored,t.File.prototype.getCopyInfo=function(e){var t=this;return t.getFileRecord(),t.copies&&t.copies[e]||null},t.File.prototype._getInfo=function(e,t){var o=this;return t=t||{},t.updateFileRecordFirst&&o.getFileRecord(),e?o.copies&&o.copies[e]||{}:o.original||{}},t.File.prototype._setInfo=function(e,t,o,i){var n=this;"string"==typeof e?(n.copies=n.copies||{},n.copies[e]=n.copies[e]||{},n.copies[e][t]=o,i&&n._saveChanges(e)):(n.original=n.original||{},n.original[t]=o,i&&n._saveChanges("_original"))},t.File.prototype.name=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"name",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).name)},t.File.prototype.extension=function(e,o){var i=this;if(o||("object"!=typeof e||null===e)&&"undefined"!=typeof e){o=o||{};var n=t.Utility.setFileExtension(i.name(o)||"",e);return i._setInfo(o.store,"name",n,"boolean"==typeof o.save?o.save:!0)}return o=e||{},t.Utility.getFileExtension(i.name(o)||"")},t.File.prototype.size=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"size",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).size)},t.File.prototype.type=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"type",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).type)},t.File.prototype.updatedAt=function(e,t){var o=this;return t||("object"!=typeof e||null===e||e instanceof Date)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"updatedAt",e,"boolean"==typeof t.save?t.save:!0)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).updatedAt)},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype})}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:file"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package["cfs:base-package"].FS,c=Package.mongo.Mongo;"undefined"==typeof Package&&(Package={}),Package["cfs:tempstore"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package["cfs:http-methods"].HTTP,t;(function(){n.publish=function(){throw new Error("HTTP.publish not implemented on client-side")},n.publishFormats=function(){throw new Error("HTTP.publishFormats not implemented on client-side")},n.unpublish=function(){throw new Error("HTTP.unpublish not implemented on client-side")}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:http-publish"]={_publishHTTP:t}}();

!function(){var e=Package.meteor.Meteor,t=Package["cfs:base-package"].FS,o=Package.check.check,i=Package.check.Match,n=Package.ejson.EJSON,r=Package["cfs:http-methods"].HTTP,a,s;(function(){a=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"",a.length>0&&("/"!==a.slice(0,1)&&(a="/"+a),"/"===a.slice(-1)&&(a=a.slice(0,-1))),e.isCordova&&(a=e.absoluteUrl(a.replace(/^\/+/,"")).replace(/\/+$/,"")),s="/cfs",t.HTTP=t.HTTP||{},t.HTTP.uploadUrl=a+s+"/files",t.HTTP.setBaseUrl=function o(i){"/"!==i.slice(0,1)&&(i="/"+i),"/"===i.slice(-1)&&(i=i.slice(0,-1)),s=i,t.HTTP.uploadUrl=a+s+"/files",e.isServer&&!t.Utility.isEmpty(_existingMountPoints)&&mountUrls()},t.File.prototype.url=function(o){var i=this;if(o=o||{},o=t.Utility.extend({store:null,auth:null,download:!1,metadata:!1,brokenIsFine:!1,uploading:null,storing:null,filename:null},o.hash||o),o.uploading&&!i.isUploaded())return o.uploading;if(i.isMounted()){var n=o.store||i.collection.primaryStore.name;if(!i.hasStored(n)){if(o.storing)return o.storing;if(!o.brokenIsFine)return null}var r=o.filename||i.name({store:n});r="string"==typeof r&&r.length?"/"+r:"";var l="";if(e.isClient&&"undefined"!=typeof Accounts&&"function"==typeof Accounts._storedLoginToken){if(o.auth!==!1){e.userId();var c={authToken:Accounts._storedLoginToken()||""};o.auth===+o.auth&&(c.expiration=t.HTTP.now()+1e3*o.auth);var T=JSON.stringify(c);l=t.Utility.btoa(T)}}else"string"==typeof o.auth&&(l=o.auth);var f={};""!==l&&(f.token=l),o.download&&(f.download=!0),o.store&&(f.store=o.store);var u=t.Utility.encodeParams(f);u.length&&(u="?"+u);var g;return g=o.metadata?"/record":"/files",a+s+g+"/"+i.collection.name+"/"+i._id+r+u}}}).call(this),function(){t.HTTP.setHeadersForGet=function o(){},t.HTTP.now=function(){return new Date(new Date+t.HTTP._serverTimeDiff)},t.HTTP._storage=function(){var e,t,o;try{o="test",(e=window.localStorage).setItem(o,o),t=e.getItem(o)!==o,e.removeItem(o),t&&(e=!1)}catch(i){console.log("Error initializing storage for FS.HTTP"),console.log(i)}return e},t.HTTP.storage=t.HTTP._storage(),t.HTTP._prefix="fsHTTP.",t.HTTP._serverTimeDiff=0,t.HTTP.storage&&(t.HTTP._serverTimeDiff=1*t.HTTP.storage.getItem(t.HTTP._prefix+"timeDiff")||0,e.startup(function(){r.get(a+"/cfs/servertime",function(e,o){if(e)console.log(e.message);else{var i=new Date(+o.content);t.HTTP._serverTimeDiff=i-new Date,t.HTTP.storage.setItem(t.HTTP._prefix+"timeDiff",t.HTTP._serverTimeDiff)}})}))}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:access-point"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,t=Package.tracker.Deps,a,c,o;(function(){c=function(){},o={changed:c,depend:c},a=function(e,n){var a=this,c=n===!1?o:new t.Dependency;a.value=e,a.onChange=function(){},a.changed=function(){c.changed(),a.onChange(a.value)},a.get=function(){return c.depend(),a.value},a.set=function(e){a.value!==e&&(a.value=e,a.changed())},a.dec=function(e){a.value-=e||1,a.changed()},a.inc=function(e){a.value+=e||1,a.changed()},a.getset=function(e){return"undefined"==typeof e?a.get():void a.set(e)},a.toString=function(){var e=a.get();return e?e.toString():""},a.toText=a.toString}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:reactive-property"]={ReactiveProperty:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,o;(function(){var e=function(){},t={changed:e,depend:e};o=function(e){var o=this;o.lookup={},o._length=0,o.first,o.last,o.sort=e&&e.sort||function(e,t){return e.key<t.key},o.isReactive=e?e.reactive!==!1:!0,(e===!0||e&&e.sort===!0)&&(o.sort=function(e,t){return e.key>t.key}),o._listDeps=o.isReactive?new n.Dependency:t,o._lengthDeps=o.isReactive?new n.Dependency:t},o.prototype.length=function(){var e=this;return e._lengthDeps.depend(),e._length},o.prototype.reset=function(){var e=this;e.first=void 0,e.last=void 0,e.lookup={},e._length=0,e._lengthDeps.changed(),e._listDeps.changed()},o.prototype.update=function(e,t){var n=this;if("undefined"==typeof n.lookup[e])throw new Error('Reactive list cannot update, key "'+e+'" not found');n.lookup[e].value=t,n._listDeps.changed()},o.prototype.insert=function(e,t){var n=this;if("undefined"!=typeof n.lookup[e])throw new Error('Reactive list could not insert: key "'+e+'" allready found');for(var o={key:e,value:t},r=n.first,i=!1;"undefined"!=typeof r&&!i;)n.sort(o,r)&&("undefined"==typeof r.prev&&(n.first=o),o.prev=r.prev,o.next=r,r.prev&&(r.prev.next=o),r.prev=o,i=!0),r=r.next;i||(o.prev=n.last,n.last&&(n.last.next=o),n.last=o,0===n._length&&(n.first=o)),n.lookup[e]=o,n._length++,n._lengthDeps.changed(),n._listDeps.changed()},o.prototype.remove=function(e){var t=this,n=t.lookup[e];if("undefined"!=typeof n){var o=n.prev,r=n.next;"undefined"!=typeof o?o.next=r:t.first=r,"undefined"!=typeof r?r.prev=o:t.last=o,t.lookup[e].last=null,t.lookup[e].prev=null,t.lookup[e]=null,o=null,delete t.lookup[e],t._length--,t._lengthDeps.changed(),t._listDeps.changed()}},o.prototype.getLastItem=function(e){var t=this,n=e?t.first:t.last;return"undefined"!=typeof n?(t.remove(n.key),n.value):void 0},o.prototype.getFirstItem=function(){return this.getLastItem(!0)},o.prototype.forEach=function(e,t,n){var o=this;if("function"!=typeof e)throw new Error("ReactiveList forEach requires a function");t||o._listDeps.depend();for(var r=n?o.last:o.first;r;)e(r.value,r.key),r=n?r.prev:r.next},o.prototype.forEachReverse=function(e,t){this.forEach(e,t,!0)},o.prototype.fetch=function(e){var t=this,n=[];return t.forEach(function o(e){n.push(e)},e),n}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:reactive-list"]={ReactiveList:o}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package["cfs:reactive-property"].ReactiveProperty,r,o,i;(function(){"undefined"==typeof o&&Package["micro-queue"]&&(o=Package["micro-queue"].MicroQueue),"undefined"==typeof i&&Package["reactive-list"]&&(i=Package["reactive-list"].ReactiveList),"undefined"==typeof o&&Package["cfs:micro-queue"]&&(o=Package["cfs:micro-queue"].MicroQueue),"undefined"==typeof i&&Package["cfs:reactive-list"]&&(i=Package["cfs:reactive-list"].ReactiveList),r=function(e){var t=this,n=5;t.reactive=e&&e.reactive===!1?!1:!0;var r="undefined"!=typeof o&&o||void 0;if(r="undefined"!=typeof i&&i||r,e&&"undefined"!=typeof e.spinalQueue&&(r=e.spinalQueue),"undefined"==typeof r)throw console.log("Error: You need to add a spinal queue to the project"),console.log('Please add "micro-queue", "reactive-list" to the project'),new Error('Please add "micro-queue", "reactive-list" or other spinalQueue compatible packages');t.invocations=new r({sort:e&&(e.filo||e.lifo),reactive:t.reactive}),t._processList=new r({reactive:t.reactive}),t._maxProcessing=new a(e&&e.maxProcessing||1,t.reactive),t._isProcessing=new a(0,t.reactive),t._paused=new a(e&&e.isPaused||!1,t.reactive),t._running=new a(!1,t.reactive),t._errors=new a(0,t.reactive),t._failures=new a(0,t.reactive),t._jumpOnFailure=e&&e.jumpOnFailure===!1?!1:!0,t._maxLength=new a(0,t.reactive),t._autostart=new a(e&&e.autostart===!1?!1:!0,t.reactive),t._maxFailures=new a(e&&e.maxFailures||5,t.reactive),t.title=e&&e.name||"Queue",t.debug=!(!e||!e.debug),t.total=t._maxLength.get,t.isPaused=t._paused.get,t.processing=t._isProcessing.get,t.errors=t._errors.get,t.failures=t._failures.get,t.isRunning=t._running.get,t.maxProcessing=t._maxProcessing.getset,t._maxProcessing.onChange=function(){t.updateThrottleUp(),t.updateThrottleDown()},t.autostart=t._autostart.getset,t.maxFailures=t._maxFailures.getset,t.onPaused=e&&e.onPaused||function(){t.debug&&console.log(t.title+" ENDED")},t.onEnded=e&&e.onEnded||function(){t.debug&&console.log(t.title+" ENDED")},t.onRelease=e&&e.onRelease||function(){t.debug&&console.log(t.title+" RELEASED")},t.onAutostart=e&&e.onAutostart||function(){t.debug&&console.log(t.title+" Autostart")}},r.prototype.processingList=function(){var e=this;return e._processList.fetch()},r.prototype.isHalted=function(){var e=this;return!e._running.get()||e._paused.get()},r.prototype.length=function(){var e=this;return e.invocations.length()},r.prototype.progress=function(){var e=this,t=e._maxLength.get()-e.invocations.length()-e._isProcessing.get();return e._maxLength.value>0?Math.round(t/e._maxLength.value*100):0},r.prototype.usage=function(){var e=this;return Math.round(e._isProcessing.get()/e._maxProcessing.get()*100)},r.prototype.reset=function(){var e=this;e.debug&&console.log(e.title+" RESET"),e._running.set(!1),e._paused.set(!1),e.invocations.reset(),e._processList.reset(),e._maxLength.set(0),e._failures.set(0),e._errors.set(0)},r.prototype._autoStartTasks=function(){var e=this;e._paused.value||(!e._running.value&&e._autostart.value&&(e.onAutostart(),e._running.set(!0)),e._running.value&&e.next(null))},r.prototype.add=function(e,t,n){var a=this,r=a._jumpOnFailure||"undefined"==typeof n,o=r?a._maxLength.value+1:n;a.invocations.insert(o,{_id:o,data:e,failures:t||0}),r&&a._maxLength.inc(),a._autoStartTasks()},r.prototype.updateThrottleUp=function(){var e=this,t=e._maxProcessing.value-e._isProcessing.value;!e._paused.value&&e._running.value&&t>0&&e.invocations._length>0&&(e._isProcessing.inc(),e.runTask(e.invocations.getFirstItem()),e.updateThrottleUp())},r.prototype.updateThrottleDown=function(){var e=this,t=e._isProcessing.value-e._maxProcessing.value;t>0&&e._processList.forEachReverse(function(e){t>0&&e.queue instanceof r&&(t--,e.queue.pause())},!0)},r.prototype.next=function(e){var t=this;t.updateThrottleUp(),t._running.value&&0===t._isProcessing.value&&null!==e&&(t.onRelease(t.invocations._length),t.invocations._length||(t._running.set(!1),t.onEnded()))},r.prototype.runTaskDone=function(t,n){var a=this;if(t instanceof e.Error)a._maxFailures.value>0&&n.failures++,a._failures.inc(),console.error('Error: "'+a.title+'" '+t.message+", "+t.stack),n.failures<a._maxFailures.value?a.add(n.data,n.failures,n._id):(a._errors.inc(),a.errorHandler(n.data,a.add,n.failures));else if(t instanceof Error)throw t;if(t&&null===t&&a.invocations.insert(n._id,{data:n.data,failures:n.failures,_id:n._id}),t===""+t){var r={pause:function(){a.pause()},stop:function(){a.stop()},reset:function(){a.reset()},cancel:function(){a.cancel()}};if("function"!=typeof r[t])throw new Error('Unknown queue command "'+t+'"');r[t]()}a._isProcessing.value>0&&a._isProcessing.dec(),a._processList.remove(n._id),n.data=null,n.failures=null,n._id=null,n=null,delete n,e.setTimeout(function(){a.next()},0)},r.prototype.runTask=function(e){var t=this;try{e.data instanceof r?(t._processList.insert(e._id,{id:e._id,queue:e.data}),t.queueTaskHandler(e.data,function a(n){t.runTaskDone(n,e)},e.failures)):(t._processList.insert(e._id,e.data),t.taskHandler(e.data,function o(n){t.runTaskDone(n,e)},e.failures))}catch(n){throw new Error("Error while running taskHandler for queue, Error: "+n.message)}},r.prototype.queueTaskHandler=function(e,t,n){var a=this;e.onRelease=function(e){e>0?t(null):t()},e.run()},r.prototype.taskHandler=function(e,t,n){var a=this;if("function"!=typeof e)throw new Error("Default task handler expects a function");try{e(t,n)}catch(r){t(r)}},r.prototype.errorHandler=function(e,t,n){var a=this;a.debug&&console.log("Terminate at "+n+" failures")},r.prototype.pause=function(){var e=this;e._paused.value||(e._paused.set(!0),e._processList.forEach(function(e){e.queue instanceof r&&e.queue.pause()},!0),e.onPaused())},r.prototype.resume=function(){var e=this;e.run()},r.prototype.run=function(){var e=this;!e._paused.value&&e._running.value||!e.invocations._length||(e._paused.set(!1),e._running.set(!0),e.next(null))},r.prototype.stop=function(){var e=this;e._running.set(!1)},r.prototype.cancel=function(){var e=this;e.reset()}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:power-queue"]={PowerQueue:r}}();

!function(){var e=Package.meteor.Meteor,n=Package["cfs:base-package"].FS,t=Package["cfs:power-queue"].PowerQueue,r=Package["cfs:reactive-list"].ReactiveList,a,o,i,u,s,l,c;(function(){a=function(t,r,a,u){if(u||"function"!=typeof a||(u=a,a=null),a=a||{},"function"!=typeof u)throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var c={},f=a.content;a.data&&(f=JSON.stringify(a.data),c["Content-Type"]="application/json");var p,d;f||"GET"===t||"HEAD"===t?p=a.params:d=a.params;var h=/^(.*?)(\?.*)?$/.exec(r);if(r=o(h[1],h[2],a.query,p),a.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var y,g;if(a.auth){var m=a.auth.indexOf(":");if(0>m)throw new Error('auth option should be of the form "username:password"');y=a.auth.substring(0,m),g=a.auth.substring(m+1)}d&&(f=i(d)),n.Utility.extend(c,a.headers||{}),u=function(e){return function(n,t){n&&t&&(n.response=t),e(n,t)}}(u),u=n.Utility.once(u);try{var v;if("undefined"!=typeof XMLHttpRequest)v=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");v=new ActiveXObject("Microsoft.XMLHttp")}v.open(t,r,!0,y,g);var k;"ejson-binary"===a.responseType?(v.responseType="arraybuffer",k=!0):v.responseType=a.responseType;for(var w in c)v.setRequestHeader(w,c[w]);var T=!1,b;a.timeout&&(b=e.setTimeout(function(){T=!0,v.abort()},a.timeout)),v.onreadystatechange=function(t){if(4===v.readyState)if(b&&e.clearTimeout(b),T)u(new Error("timeout"));else if(v.status){var r={};r.statusCode=v.status;var o=v.response||v.responseText;if("json"===a.responseType&&"string"==typeof o)try{o=JSON.parse(o)}catch(i){o=null}if(k&&"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&o instanceof ArrayBuffer){for(var c=new Uint8Array(o),f=o.byteLength,p=EJSON.newBinary(f),d=0;f>d;d++)p[d]=c[d];o=p}r.content=o,r.headers={};var h=v.getAllResponseHeaders();""===h&&v.getResponseHeader("content-type")&&(h="content-type: "+v.getResponseHeader("content-type"));var y=h.split(/\r?\n/);n.Utility.each(y,function(e){var n=/^(.*?):(?:\s+)(.*)$/.exec(e);n&&3===n.length&&(r.headers[n[1].toLowerCase()]=n[2])}),l(r);var g=null;r.statusCode>=400&&(g=s(r.statusCode,r.content)),u(g,r)}else u(new Error("network"))},v.send(f)}catch(P){u(P)}},o=function(e,n,t,r){var a=e,o=n?n.slice(1):null;if("string"==typeof t&&(o=String(t)),r){o=o||"";var u=i(r);o&&u&&(o+="&"),o+=u}var s=a;return null!==o&&(s+="?"+o),s},i=function(e){var t=[];return n.Utility.each(e,function(e,n){t.length&&t.push("&"),t.push(u(n),"=",u(e))}),t.join("").replace(/%20/g,"+")},u=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},s=function(e,n){var t=160,r=function(e,n){return e.length>n?e.slice(0,n)+"...":e},a="failed ["+e+"]";return n&&(a+=" "+r(n.replace(/\n/g," "),t)),new Error(a)},l=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(n.Utility.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(r){e.data=null}else e.data=null}}).call(this),function(){n.HTTP=n.HTTP||{}}.call(this),function(){var o=2097152,i=function(t,r){n.debug&&console.log("uploading chunk "+t.chunk+", bytes "+t.start+" to "+Math.min(t.end,t.fileObj.size())+" of "+t.fileObj.size()),t.fileObj.data.getBinary(t.start,t.end,function o(i,u){i?r(new e.Error(i.error,i.message)):(n.debug&&console.log("PUT to URL",t.url,t.urlParams),a("PUT",t.url,{params:n.Utility.extend({chunk:t.chunk},t.urlParams),content:u,headers:{"Content-Type":t.fileObj.type()}},function(n,a){t=null,n?r(new e.Error(n.error,n.message)):r()}))})},u=function(e,n,t){};c=function(e){e=e||{};var a=new t({name:"HTTPUploadTransferQueue",maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!0,isPaused:!1,filo:!1,debug:n.debug});return a.files={},a.cancel=a.reset,a.isUploadingFile=function(e){return!!(e&&e._id&&e.collectionName&&(a.files[e.collectionName]||{})[e._id])},a.resumeUploadingFile=function(e){if(!(e instanceof n.File))throw new Error("Transfer queue expects a FS.File");e.isMounted()&&(a.files[e.collectionName]=a.files[e.collectionName]||{},a.files[e.collectionName][e._id]=!1,a.uploadFile(e))},a.uploadFile=function(e){if(n.debug&&console.log("HTTP uploadFile"),!(e instanceof n.File))throw new Error("Transfer queue expects a FS.File");if("number"!=typeof e.size())throw new Error("TransferQueue upload failed: fileObj size not set");if(!a.isUploadingFile(e)&&!e.isUploaded()&&e.isMounted()){var s=e.collectionName,l=e._id;if(e.chunkSize=e.collection.options.chunkSize||n.config.uploadChunkSize||o,e.chunkCount=0,e.chunkSum=Math.ceil(e.size()/e.chunkSize),0===e.chunkSum)return;e.update({$set:{chunkSize:e.chunkSize,chunkCount:e.chunkCount,chunkSum:e.chunkSum}});var c=new t({onEnded:function v(){a.files[s][l]=!1,e.emit("uploaded")},spinalQueue:r,maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!1,isPaused:!1,filo:!1});c.taskHandler=i,c.errorHandler=u,a.files[s]=a.files[s]||{},a.files[s][l]=!0;var f=n.HTTP.uploadUrl+"/"+s;l&&(f+="/"+l);var p="";if("undefined"!=typeof Accounts){var d={authToken:Accounts._storedLoginToken()||""},h=JSON.stringify(d);p=n.Utility.btoa(h)}var y={filename:e.name()};""!==p&&(y.token=p);for(var g=0,m;g<e.chunkSum;g++)m=g*e.chunkSize,c.add({chunk:g,name:e.name(),url:f,urlParams:y,fileObj:e,start:m,end:(g+1)*e.chunkSize});a.add(c)}},a},n.HTTP.uploadQueue=new c,n.File.prototype.resume=function(e){var t=this;n.uploadQueue.resumeUploadingFile(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:upload-http"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package["cfs:base-package"].FS,t=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package.check.check,r=Package.check.Match,l=Package.ddp.DDP,a=Package["raix:eventemitter"].EventEmitter,s=Package.mongo.Mongo;(function(){o.Collection=function(t,n){var i=this;if(i.storesLookup={},i.primaryStore={},i.options={filter:null,stores:[],chunkSize:null},o.HTTP&&o.HTTP.uploadQueue?i.options.uploader=o.HTTP.uploadQueue.uploadFile:o.DDP&&o.DDP.uploadQueue&&(i.options.uploader=o.DDP.uploadQueue.uploadFile),o.Utility.extend(i.options,n||{}),i.name=t,o.Utility.isEmpty(i.options.stores))throw new Error("You must specify at least one store. Please consult the documentation.");o.Utility.each(i.options.stores,function(n,r){if(0===r&&(i.primaryStore=n),"undefined"!=typeof i.storesLookup[n.name])throw new Error("FS.Collection store names must be uniq, duplicate found: "+n.name);i.storesLookup[n.name]=n,e.isServer&&(n.on("stored",function(e,r){if(e===n.name){if(r.collectionName===t){var l=i.emit("stored",r,n.name);o.debug&&!l&&console.log(r.name({store:n.name})+" was successfully saved to the "+n.name+' store. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "stored" event on the '+t+" collection.")}r.emit("stored",n.name)}}),n.on("error",function(e,r,l){if(e===n.name){if(l.collectionName===t){r=new Error("Error storing file to the "+n.name+" store: "+r.message);var a=i.emit("error",r,l,n.name);o.debug&&!a&&console.log(r.message)}l.emit("error",n.name)}}))});var r={transform:function(e){var n=new o.File(e,!0);return n.collectionName=t,n}},l="cfs."+t+".filerecord";if(i.files=new s.Collection(l,r),i._validators={download:{allow:[],deny:[]}},i.filters&&i.filters(i.options.filter),o._collections[t]=this,e.isServer&&o.FileWorker&&o.FileWorker.observe(this),i.files.find().observe({removed:function(e){i.emit("removed",e)}}),o.TempStore)o.TempStore.on("stored",function(e,n){if(e.collectionName===t){var r=i.emit("uploaded",e);o.debug&&!r&&console.log(e.name()+' was successfully uploaded. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "uploaded" event on the '+t+" collection.")}}),o.TempStore.on("error",function(e,o){o.collectionName===t&&i.emit("error",new Error("Error storing uploaded file to TempStore: "+e.message),o)});else if(e.isServer)throw new Error("FS.Collection constructor: FS.TempStore must be defined before constructing any FS.Collections.")},o.Collection.prototype=new a}).call(this),function(){o.Collection.prototype.insert=function(t,n){function i(t){e.isClient?l.options.uploader&&l.options.uploader(t):e.isServer&&t.createReadStream().pipe(o.TempStore.createWriteStream(t))}function r(e){return l.allowsFile(e)?(e.collectionName=l.name,n?e._id=l.files.insert(o.Utility.cloneFileRecord(e),function(o,t){o?e._id&&delete e._id:(e._id=t,i(e)),n(o,o?void 0:e)}):(e._id=l.files.insert(o.Utility.cloneFileRecord(e)),i(e)),e):o.Utility.handleError(n,"FS.Collection insert: file does not pass collection filters")}var l=this;if(e.isClient&&!n&&(n=o.Utility.defaultCallback),t instanceof o.File)return r(t);var a=new o.File(t);return n?a.attachData(t,function s(e){e?n(e):r(a)}):(a.attachData(t),r(a)),a},o.Collection.prototype.update=function(e,t,n,i){var r=this;if(e instanceof o.File){if(e.collectionName===r.files._name)return e.update(t,n,i);throw new Error('FS.Collection cannot update file belongs to: "'+e.collectionName+'" not: "'+r.files._name+'"')}return r.files.update(e,t,n,i)},o.Collection.prototype.remove=function(e,t){var n=this;if(e instanceof o.File){if(e.collectionName===n.files._name)return e.remove(t);throw new Error('FS.Collection cannot remove file belongs to: "'+e.collectionName+'" not: "'+n.files._name+'"')}return t=t||o.Utility.defaultCallback,n.files.remove(e,t)},o.Collection.prototype.findOne=function(e){var o=this;return o.files.findOne.apply(o.files,arguments)},o.Collection.prototype.find=function(e){var o=this;return o.files.find.apply(o.files,arguments)},o.Collection.prototype.allow=function(e){var o=this;if(e.download){if(!(e.download instanceof Function))throw new Error("allow: Value for `download` must be a function");o._validators.download.allow.push(e.download),delete e.download}return o.files.allow.call(o.files,e)},o.Collection.prototype.deny=function(e){var o=this;if(e.download){if(!(e.download instanceof Function))throw new Error("deny: Value for `download` must be a function");o._validators.download.deny.push(e.download),delete e.download}return o.files.deny.call(o.files,e)},o.Collection.prototype.allowsFile=function t(e){return!0}}.call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package["cfs:base-package"].FS;(function(){function e(e,n){for(var t,i=!1,o=0,a=e.length;a>o;o++){if(t=e[o],t===n){i=!0;break}if("image/*"===t&&0===n.indexOf("image/")){i=!0;break}if("audio/*"===t&&0===n.indexOf("audio/")){i=!0;break}if("video/*"===t&&0===n.indexOf("video/")){i=!0;break}}return i}n.Collection.prototype.filters=function t(e){var t=this;if(e){if(n.Utility.each(["allow","deny"],function(n){if(e[n]){if("object"!=typeof e[n])throw new Error(n+" filter must be an object")}else e[n]={}}),"undefined"==typeof e.maxSize)e.maxSize=null;else if(e.maxSize&&"number"!=typeof e.maxSize)throw new Error("maxSize filter must be an number");n.Utility.each(["allow","deny"],function(t){if(e[t].extensions){if(!n.Utility.isArray(e[t].extensions))throw new Error(t+".extensions filter must be an array of extensions");for(var i=0,o=e[t].extensions.length;o>i;i++)e[t].extensions[i]=e[t].extensions[i].toLowerCase()}else e[t].extensions=[]}),n.Utility.each(["allow","deny"],function(t){if(e[t].contentTypes){if(!n.Utility.isArray(e[t].contentTypes))throw new Error(t+".contentTypes filter must be an array of content types")}else e[t].contentTypes=[]}),t.options.filter=e}t.files.deny({insert:function(e,n){return!t.allowsFile(n)},update:function(e,n,i,o){return!t.allowsFile(n)},fetch:[]}),Package&&Package.insecure&&t.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},download:function(){return!0},fetch:[],transform:null})},n.Collection.prototype.allowsFile=function i(t){var i=this,o=i.options.filter;if(!o)return!0;var a=0===o.allow.extensions.length,r=0===o.allow.contentTypes.length,l=t.name(),s=t.type();if(!r&&!s)return o.onInvalid&&o.onInvalid(l+" has an unknown content type"),!1;var f=t.size();if(!f||isNaN(f))return o.onInvalid&&o.onInvalid(l+" has an unknown file size"),!1;if(l){var c=t.getExtension();if(!a&&-1===n.Utility.indexOf(o.allow.extensions,c)||-1!==n.Utility.indexOf(o.deny.extensions,c))return o.onInvalid&&o.onInvalid(l+' has the extension "'+c+'", which is not allowed'),!1}return!r&&!e(o.allow.contentTypes,s)||e(o.deny.contentTypes,s)?(o.onInvalid&&o.onInvalid(l+' is of the type "'+s+'", which is not allowed'),!1):"number"==typeof o.maxSize&&f>o.maxSize?(o.onInvalid&&o.onInvalid(l+" is too big"),!1):!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection-filters"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package["cfs:base-package"].FS,c=Package.ddp.DDP,g=Package["cfs:power-queue"].PowerQueue,o=Package.mongo.Mongo;"undefined"==typeof Package&&(Package={}),Package["cfs:worker"]={}}();

!function(){var e=Package.meteor.Meteor,a;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:async"]={Async:a}}();

Router=Package["martino:iron-router-i18n"].Router,RouteController=Package["iron:router"].RouteController,TAPi18next=Package["tap:i18n"].TAPi18next,TAPi18n=Package["tap:i18n"].TAPi18n,ReactiveVar=Package["reactive-var"].ReactiveVar,HTTP=Package["cfs:http-methods"].HTTP,ViewModel=Package["manuel:viewmodel"].ViewModel,check=Package.check.check,Match=Package.check.Match,lodash=Package["stevezhu:lodash"].lodash,_=Package.underscore._,moment=Package["momentjs:moment"].moment,GoogleMaps=Package["dburles:google-maps"].GoogleMaps,Spiderable=Package.spiderable.Spiderable,Kadira=Package["meteorhacks:kadira"].Kadira,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,Iron=Package["iron:core"].Iron,SimpleSchema=Package["aldeed:simple-schema"].SimpleSchema,MongoObject=Package["aldeed:simple-schema"].MongoObject,FS=Package["cfs:base-package"].FS,Async=Package["meteorhacks:async"].Async,HTML=Package.htmljs.HTML;

!function(){Template.__checkName("_vmBaseStructure"),Template._vmBaseStructure=new Template("Template._vmBaseStructure",function(){var e=this;return HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"group"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]},"data-bind":function(){return Blaze.If(function(){return Spacebars.call(e.lookup("rule"))},function(){return["class: {error: ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"Invalid}"]})}},"\n    ",HTML.LABEL({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"label")),Spacebars.mustache(e.lookup("vmRequiredClass"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("label"))}),Blaze.View("lookup:vmRequiredLabel",function(){return Spacebars.mustache(e.lookup("vmRequiredLabel"))})),"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("rule"))},function(){return["\n      ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"error"))]},"data-bind":function(){return["text: ",Spacebars.mustache(e.lookup("name")),"Message, class: {hidden: ",Spacebars.mustache(e.lookup("name")),"Hidden}"]}}),"\n    "]}),"\n  ")}),Template.__checkName("_vmOptionsHelper"),Template._vmOptionsHelper=new Template("Template._vmOptionsHelper",function(){var e=this;return[HTML.Raw("<option></option>\n  "),Blaze.Each(function(){return Spacebars.call(e.lookup("values"))},function(){return["\n    ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("."))}},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n  "]})]})}();

!function(){Template.__checkName("vmKaptcha"),Template.vmKaptcha=new Template("Template.vmKaptcha",function(){var a=this;return HTML.DIV({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"group")),"-captcha"]}},HTML.Raw('\n    <div id="recaptcha_widget"></div>\n    '),HTML.SCRIPT({type:"text/javascript",src:function(){return["https://www.google.com/recaptcha/api/challenge?k=",Spacebars.mustache(a.lookup("sitekey"))]}},"\n    "),"\n  ")})}();

!function(){Template.__checkName("vmDate"),Template.vmDate=new Template("Template.vmDate",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-d"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_d"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("d")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-m"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_m"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("m")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-y"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_y"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("y")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmEmail"),Template.vmEmail=new Template("Template.vmEmail",function(){var a=this;return Spacebars.include(a.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.INPUT(HTML.Attrs({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"tag"))," ",Spacebars.mustache(a.lookup("_vmAlign"))]},type:"email","data-bind":function(){return["value: ",Spacebars.mustache(a.lookup("name"))]}},function(){return Spacebars.attrMustache(a.lookup("attrs"))})),"\n  "]})})}();

!function(){Template.__checkName("vmFile"),Template.vmFile=new Template("Template.vmFile",function(){var e=this;return[Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("hideButton"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n      ",HTML.LABEL({"for":function(){return Spacebars.mustache(e.lookup("rId"))},"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-btn"]}},"\n        ",HTML.IMG({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-icn"]},src:"/img/attach.png"}),"\n        ",Blaze.View("lookup:i18nFieldValue",function(){return Spacebars.mustache(e.lookup("i18nFieldValue"),"data.name")}),"\n        ",HTML.INPUT({id:function(){return Spacebars.mustache(e.lookup("rId"))},type:"file","class":"hidden",accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document","data-bind":function(){return["file: ",Spacebars.mustache(e.lookup("name"))]}}),"\n      "),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("getPreview"),"name"))},function(){return["\n      ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-preview-name"]}},"\n        ",HTML.SPAN({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-preview-ic"]}}),"\n        ",Blaze.View("lookup:getPreview.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("getPreview"),"name"))}),"\n        ",HTML.DIV({title:function(){return Spacebars.mustache(e.lookup("_"),"form.removeFile")},"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-reset t-reset"]}},HTML.CharRef({html:"&times;",str:"×"})),"\n      "),"\n    "]}),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("getPreview"),"img"))},function(){return["\n    ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-preview"]},style:function(){return["background-image:url('",Spacebars.mustache(Spacebars.dot(e.lookup("getPreview"),"img")),"')"]}},"\n      ",HTML.DIV({title:function(){return Spacebars.mustache(e.lookup("_"),"form.removeImage")},"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-reset t-reset"]}},HTML.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})]})}();

!function(){Template.__checkName("vmListCheckbox"),Template.vmListCheckbox=new Template("Template.vmListCheckbox",function(){var a=this;return Spacebars.include(a.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-list ",Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"tag"))," ",Spacebars.mustache(a.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(a.lookup("attrs"))}),"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"blocks"))},function(){return["\n        ",HTML.DIV({"class":function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"pre")),"-list-itm"]}},"\n          ",HTML.INPUT({id:function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"name")),Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")]},"class":function(){return["ui-checkbox ",Spacebars.mustache(Spacebars.dot(a.lookup(".."),"pre")),"-list-inp"]},type:"checkbox","data-bind":function(){return["checked: ",Spacebars.mustache(Spacebars.dot(a.lookup(".."),"name"))]},value:function(){return Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")}}),"\n          ",HTML.LABEL({"class":function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"pre")),"-list-lbl"]},"for":function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"name")),Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")]}},"\n            ",HTML.SPAN({"class":function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"pre")),"-list-sp"]}},Blaze.View("lookup:i18nFieldValue",function(){return Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")})),"\n          "),"\n        "),"\n      "]}),"\n      ",Spacebars.include(a.lookupTemplate("vmListMore")),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmListRadio"),Template.vmListRadio=new Template("Template.vmListRadio",function(){var a=this;return Spacebars.include(a.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-list ",Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"tag"))," ",Spacebars.mustache(a.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(a.lookup("attrs"))}),"\n      ",Spacebars.With(function(){return{inputName:Spacebars.call(a.lookup("getRandomId")),data:Spacebars.call(a.lookup("data")),pre:Spacebars.call(a.lookup("pre")),name:Spacebars.call(a.lookup("name"))}},function(){return["\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"blocks"))},function(){return["\n          ",HTML.DIV({"class":function(){return[Spacebars.mustache(Spacebars.dot(a.lookup(".."),"pre")),"-list-itm"]}},"\n            ",Spacebars.With(function(){return{data:Spacebars.call(a.lookup("data")),id:Spacebars.call(a.lookup("getRandomId")),inputName:Spacebars.call(Spacebars.dot(a.lookup(".."),"inputName")),pre:Spacebars.call(Spacebars.dot(a.lookup(".."),"pre")),name:Spacebars.call(Spacebars.dot(a.lookup(".."),"name"))}},function(){return["\n              ",HTML.INPUT({id:function(){return Spacebars.mustache(a.lookup("id"))},"class":function(){return["ui-radio ",Spacebars.mustache(a.lookup("pre")),"-list-inp"]},type:"radio",name:function(){return Spacebars.mustache(a.lookup("inputName"))},value:function(){return Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")},"data-bind":function(){return["checked: ",Spacebars.mustache(a.lookup("name"))]}}),"\n              ",HTML.LABEL({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-list-lbl"]},"for":function(){return Spacebars.mustache(a.lookup("id"))}},"\n                ",HTML.SPAN({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-list-sp"]}},Blaze.View("lookup:i18nFieldValue",function(){return Spacebars.mustache(a.lookup("i18nFieldValue"),"data.name")})),"\n              "),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n      ",Spacebars.include(a.lookupTemplate("vmListMore")),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmListSelect"),Template.vmListSelect=new Template("Template.vmListSelect",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-list ",Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-list-sl"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name"))]}},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("data"),"blocks"))},function(){return["\n          ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("i18nFieldValue"),"data.name")}},Blaze.View("lookup:i18nFieldValue",function(){return Spacebars.mustache(e.lookup("i18nFieldValue"),"data.name")})),"\n        "]}),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmListMore"),Template.vmListMore=new Template("Template.vmListMore",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("data"),"other"))},function(){return["\n    ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-list-yr"]}},"\n      ",HTML.INPUT({type:"text","class":function(){return[Spacebars.mustache(e.lookup("pre")),"-list-oth"]},placeholder:function(){return Spacebars.mustache(e.lookup("_"),"form.yourVariant")},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_other"]}}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmParagraph"),Template.vmParagraph=new Template("Template.vmParagraph",function(){var a=this;return Spacebars.include(a.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"tag")),"-wrap"]}},"\n      ",HTML.TEXTAREA(HTML.Attrs({"class":function(){return[Spacebars.mustache(a.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(a.lookup("post"),"tag"))," ",Spacebars.mustache(a.lookup("_vmAlign"))]},"data-bind":function(){return["value: ",Spacebars.mustache(a.lookup("name"))]}},function(){return Spacebars.attrMustache(a.lookup("attrs"))})),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmPeriod"),Template.vmPeriod=new Template("Template.vmPeriod",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.DIV(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-m"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_m0"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("mm")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-y"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_y0"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("yy")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n      ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-p"]}},"—"),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-m"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_m1"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("mm")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n      ",HTML.SELECT({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag")),"-y"]},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name")),"_y1"]}},"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("yy")}},function(){return Spacebars.include(e.lookupTemplate("_vmOptionsHelper"))}),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmPhone"),Template.vmPhone=new Template("Template.vmPhone",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.INPUT(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]},type:"tel","data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))})),"\n  "]})})}();

!function(){Template.__checkName("vmSelect"),Template.vmSelect=new Template("Template.vmSelect",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.SELECT(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]},"data-bind":function(){return Spacebars.mustache(e.lookup("generateDataBind"))}},function(){return Spacebars.attrMustache(e.lookup("attrs"))}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("vmText"),Template.vmText=new Template("Template.vmText",function(){var e=this;return Spacebars.include(e.lookupTemplate("_vmBaseStructure"),function(){return["\n    ",HTML.INPUT(HTML.Attrs({"class":function(){return[Spacebars.mustache(e.lookup("pre")),"-",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"tag"))," ",Spacebars.mustache(e.lookup("_vmAlign"))]},type:function(){return Spacebars.mustache(e.lookup("type"))},"data-bind":function(){return["value: ",Spacebars.mustache(e.lookup("name"))]}},function(){return Spacebars.attrMustache(e.lookup("attrs"))})),"\n  "]})})}();

!function(){Template.__checkName("vmForm"),Template.vmForm=new Template("Template.vmForm",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("data"),"fields"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("tagTemplateName")),data:Spacebars.call(e.lookup("setContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  "]})})}();

!function(){Template.__checkName("modalWindow"),Template.modalWindow=new Template("Template.modalWindow",function(){var a=this;return HTML.DIV({"class":function(){return["mw ",Spacebars.mustache(a.lookup("className"),"wrap")]}},"\n\n    ",HTML.DIV({"class":function(){return Spacebars.mustache(a.lookup("className"),"panel")}},"\n      ",HTML.DIV({"class":function(){return[Spacebars.mustache(a.lookup("className"),"close")," t-close"]}}),"\n\n      ",HTML.DIV({"class":function(){return Spacebars.mustache(a.lookup("className"),"content")}},"\n        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(a.lookup("name"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("newsItemGalleryItem"),Template.newsItemGalleryItem=new Template("Template.newsItemGalleryItem",function(){var e=this;return[HTML.DIV({"class":"ni-gallery"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("gallery"),"items","length"))},function(){return["\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("$map"),Spacebars.dot(e.lookup("gallery"),"items"))},function(){return["\n        ",HTML.DIV({"class":function(){return["ni-slide",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$eq"),e.lookup("$index"),0)},function(){return" active"})]}},"\n\n          ",HTML.DIV({"class":"ni-slide-img",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image"))}),"') no-repeat center / cover;"]})}}),"\n\n          ",HTML.DIV({"class":"ni-slide-info"},"\n\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("moreThanOneSlide"),Spacebars.dot(e.lookup(".."),"gallery"))},function(){return["\n              ",HTML.DIV({"class":"ni-slide-counter"},"\n                ",Blaze.View("lookup:$num",function(){return Spacebars.mustache(e.lookup("$num"))})," ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"newsItem.of")})," ",Blaze.View("lookup:...gallery.items.length",function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"gallery","items","length"))}),"\n              "),"\n            "]}),"\n\n            ",HTML.DIV({"class":"ni-slide-desc"},"\n              ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),e.lookup("note"))}),"\n            "),"\n\n          "),"\n\n        "),"\n      "]}),"\n    "]}),"\n  "),"\n\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("moreThanOneSlide"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("ni-gallery-ars")}},function(){return Spacebars.include(e.lookupTemplate("btnPaginationArrows"))}),"\n  "]})]})}();

!function(){Template.__checkName("purDatePicker"),Template.purDatePicker=new Template("Template.purDatePicker",function(){var e=this;return HTML.DIV({"class":"pus-date-picker clearfix",id:function(){return["pus-dp-",Spacebars.mustache(e.lookup("type"))]}},"\n    ",HTML.DIV({"class":"pus-year-wrap"},"\n      ",HTML.Raw('<div class="pus-prev-year t-prev-year"></div>'),"\n      ",HTML.Raw('<div class="pus-next-year t-next-year"></div>'),"\n      ",HTML.DIV({"class":"pus-year"},Blaze.View("lookup:getYear",function(){return Spacebars.mustache(e.lookup("getYear"))})),"\n    "),"\n    ",HTML.DIV({"class":"pus-month-wrap"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("$map"),e.lookup("month"))},function(){return["\n        ",HTML.DIV({"class":function(){return["pus-month-itm t-month ",Blaze.If(function(){return Spacebars.call(e.lookup("activeMonth"))},function(){return"active"})]}},"\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n        "),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("coachItemInside"),Template.coachItemInside=new Template("Template.coachItemInside",function(){var a=this;return HTML.DIV({"class":"pur-author pur-content c-md-coach"},"\n\n    ",HTML.DIV({"class":"pur-author-img",style:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("getImage"))},function(){return["background: #f4f4f4 url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("getImage"))}),"') no-repeat left top / cover;"]})}}),"\n\n    ",HTML.DIV({"class":"pur-author-content"},"\n\n      ",HTML.DIV({"class":"pur-author-teacher"},"\n        ",Blaze.View("lookup:data.label",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"label"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"md-coach-scrollable"},"\n\n        ",HTML.DIV({"class":"pur-author-name"},"\n          ",Blaze.View("lookup:data.coach.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"coach","firstName"))})," ",Blaze.View("lookup:data.coach.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"coach","lastName"))}),"\n        "),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("$str"),Spacebars.dot(a.lookup("data"),"coach","desc"))},function(){return["\n          ",HTML.DIV({"class":"pur-author-desc"},"\n            ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(a.lookup("$str"),Spacebars.dot(a.lookup("data"),"coach","desc"))}),"\n          "),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach","articles","length"))},function(){return["\n\n          ",HTML.DIV({"class":"md-coach-alabel"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pur.articles")}),"\n          "),"\n\n          ",HTML.DIV({"class":"md-coach-articles"},"\n            ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach","articles"))},function(){return["\n              ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("url"))},target:"_blank"},"\n                ",HTML.DIV({"class":"md-coach-article"},"\n\n                  ",HTML.DIV({"class":"md-coach-aname"},"\n                    ",Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n                  "),"\n\n                  ",HTML.DIV({"class":"md-coach-adomain"},"\n                    ",Blaze.View("lookup:getDomain",function(){return Spacebars.mustache(a.lookup("getDomain"),a.lookup("url"))}),"\n                  "),"\n\n                  ",HTML.DIV({"class":"md-coach-adate"},"\n                    ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(a.lookup("parseDate"),a.lookup("data"),"DD/MM/YYYY")}),"\n                  "),"\n\n                "),"\n              "),"\n            "]}),"\n          "),"\n\n        "]}),"\n\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("aboutKMBSAlumni"),Template.aboutKMBSAlumni=new Template("Template.aboutKMBSAlumni",function(){var a=this;return HTML.DIV({"class":"ak-alumni-wrap"},"\n    ",Blaze.If(function(){return!1},function(){return["\n      ",HTML.DIV({"class":"ak-alumni-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.alumni")}),"\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{alumnies:Spacebars.call(Spacebars.dot(a.lookup("about"),"alumni")),className:Spacebars.call("ak-alumni-list")}},function(){return Spacebars.include(a.lookupTemplate("alSlider"))}),"\n    "]}),"\n\n    ",HTML.DIV({"class":"ak-alumni-share"},"\n      ",HTML.SPAN({"class":"ak-share-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.share")})),Blaze._TemplateWith(function(){return{className:Spacebars.call("ak-alumni-shr-btns"),shareData:Spacebars.call(Spacebars.dot(a.lookup("about"),"shareData"))}},function(){return Spacebars.include(a.lookupTemplate("btnsShare"))}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("aboutKMBSApproach"),Template.aboutKMBSApproach=new Template("Template.aboutKMBSApproach",function(){var a=this;return HTML.DIV({"class":"ak-approach-wrap"},"\n    ",HTML.DIV({"class":"ak-approach-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.approachTitle")}),"\n    "),"\n\n    ",HTML.DIV({"class":"ak-approach-cards clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("about"),"approach"))},function(){return["\n        ",HTML.DIV({"class":"ak-approach-card"},"\n          ",HTML.DIV({"class":"ak-approach-ic"},"\n            ",HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("image"))},alt:function(){return Spacebars.mustache(a.lookup("name"))}}),"\n          "),"\n          ",HTML.DIV({"class":"ak-approach-name"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n          "),"\n          ",HTML.DIV({"class":"ak-approach-desc"},"\n            ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(a.lookup("desc"))}),"\n          "),"\n        "),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("aboutKMBSInfo"),Template.aboutKMBSInfo=new Template("Template.aboutKMBSInfo",function(){var n=this;return HTML.DIV({"class":"ak-info-wrap"},"\n    ",HTML.DIV({"class":"ak-info-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"about.infoTitle")}),"\n    "),"\n\n    ",HTML.DIV({"class":"ak-info-cards clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(n.lookup("about"),"about"))},function(){return["\n        ",HTML.DIV({"class":"ak-info-card"},"\n          ",HTML.DIV({"class":"ak-info-ic"},"\n            ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))},alt:function(){return Spacebars.mustache(n.lookup("name"))}}),"\n          "),"\n          ",HTML.DIV({"class":"ak-info-name"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n          "),"\n\n          ",HTML.DIV({"class":"ak-info-hd"},"\n            ",HTML.DIV({"class":"ak-info-name"},"\n              ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n            "),"\n            ",HTML.DIV({"class":"ak-info-desc"},"\n              ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(n.lookup("desc"))}),"\n            "),"\n          "),"\n        "),"\n      "]}),"\n    "),"\n\n    ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"timeline")},"class":"ak-info-w-btn"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"about.infoWatch")}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("aboutKMBSIntro"),Template.aboutKMBSIntro=new Template("Template.aboutKMBSIntro",function(){var a=this;return[HTML.DIV({"class":"ak-intro-wrap",style:function(){return["background-image: url(",Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("about"),"image")),");"]}},"\n    ",HTML.DIV({"class":"ak-intro-t"},"\n      ",Blaze.View("lookup:about.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("about"),"name"))}),"\n    "),"\n    ",HTML.DIV({"class":"ak-intro-sub-t"},"\n      ",Blaze.View("lookup:about.sign",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("about"),"sign"))}),"\n    "),"\n  "),"\n\n  ",HTML.DIV({"class":"ak-intro-info"},"\n    ",HTML.DIV({"class":"ak-intro-text"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("about"),"desc"))},function(){return["\n        ",HTML.P(Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup(".")))})),"\n      "]}),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("aboutKMBSPrograms"),Template.aboutKMBSPrograms=new Template("Template.aboutKMBSPrograms",function(){var a=this;return HTML.DIV({"class":"ak-programs-wrap"},"\n    ",HTML.DIV({"class":"ak-programs-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.programsTitle")}),"\n    "),"\n\n    ",HTML.DIV({"class":"ak-programs-cards clearfix"},"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"purList")},"class":"ak-program-card -pur t-scl"},"\n        ",HTML.DIV({"class":"ak-program-count"},"\n          ",Blaze.View("lookup:countPUR",function(){return Spacebars.mustache(a.lookup("countPUR"))})," ",HTML.Raw("<br>"),"\n          ",Blaze.View("lookup:programsLbl",function(){return Spacebars.mustache(a.lookup("programsLbl"),a.lookup("countPUR"))}),"\n        "),"\n        ",HTML.DIV({"class":"ak-program-name"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.pur")}),"\n        "),"\n        ",HTML.Raw('<div class="ak-program-image t-img"></div>'),"\n      "),"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"mbaList")},"class":"ak-program-card -mba t-vid"},"\n        ",HTML.DIV({"class":"ak-program-count"},"\n          ",Blaze.View("lookup:countMBA",function(){return Spacebars.mustache(a.lookup("countMBA"))})," ",HTML.Raw("<br>"),"\n          ",Blaze.View("lookup:programsLbl",function(){return Spacebars.mustache(a.lookup("programsLbl"),a.lookup("countMBA"))}),"\n        "),"\n        ",HTML.DIV({"class":"ak-program-name"},"\n          ",HTML.DIV({"class":"ak-program-name-bg"},Spacebars.include(a.lookupTemplate("mbaBgVideo"))),"\n          ",HTML.DIV({"class":"ak-program-name-mask"},"\n            ",HTML.Raw('<img src="/img/mba-mask-f2-small.svg" alt="MBA">'),"\n            ",Blaze._TemplateWith(function(){return{bgColor:Spacebars.call("#f2f2f2")}},function(){return Spacebars.include(a.lookupTemplate("cMaskBlocker"))}),"\n          "),"\n        "),"\n      "),"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"corProgram")},"class":"ak-program-card -corp t-scl"},"\n        ",HTML.DIV({"class":"ak-program-name"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"about.corp")}),"\n        "),"\n        ",HTML.Raw('<div class="ak-program-image t-img"></div>'),"\n      "),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("alumniEvents"),Template.alumniEvents=new Template("Template.alumniEvents",function(){var e=this;return HTML.DIV({"class":"me"},"\n    ",HTML.DIV({"class":"me-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"alumni.events")})),"\n    ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(320),container:Spacebars.call(".me-wrap"),inner:Spacebars.call(".me-cont"),paginationClassName:Spacebars.call("me-wrap-pgn")}},function(){return Spacebars.include(e.lookupTemplate("scrHorizontal"),function(){return["\n      ",HTML.DIV({"class":"me-wrap"},"\n        ",HTML.DIV({"class":"me-cont",style:function(){return Spacebars.mustache(e.lookup("eventsWidth"))}},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("events"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("alumniEventsItem")),"\n          "]}),"\n        "),"\n      "),"\n    "]})}),"\n  ")}),Template.__checkName("alumniEventsItem"),Template.alumniEventsItem=new Template("Template.alumniEventsItem",function(){var e=this;return HTML.DIV({"class":"me-itm"},"\n    ",HTML.DIV({"class":"me-date"},"\n      ",HTML.SPAN({"class":"big"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"D")})),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM")}),"\n    "),"\n    ",HTML.DIV({"class":"me-dlbl"},Blaze.View("lookup:dateVerbal",function(){return Spacebars.mustache(e.lookup("dateVerbal"))})),"\n\n    ",HTML.DIV({"class":"me-info"},"\n\n      ",HTML.DIV({"class":"me-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n\n      ",HTML.DIV({"class":"me-desc"},Blaze.View("lookup:desc",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("desc")))})),"\n\n    "),"\n\n    ",HTML.A({href:"#"},"\n      ",Blaze._TemplateWith(function(){return{className:Spacebars.call("me-dtls")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n    "),"\n    ",HTML.DIV({"class":"me-etp"},"\n      ",HTML.IMG({"class":"me-etp-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("getEventTypeImageFiles"))}}),"\n      ",HTML.DIV({"class":"me-etp-lbl"},Blaze.View("lookup:getEventTypeProp",function(){return Spacebars.mustache(e.lookup("getEventTypeProp"),"name")})),"\n    "),"\n  ")})}();

!function(){Template.__checkName("alumniInterview"),Template.alumniInterview=new Template("Template.alumniInterview",function(){var e=this;return HTML.DIV({"class":"al-interview-wrap"},"\n    ",HTML.DIV({"class":"al-interview-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"alumni.interview")}),"\n      ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsAlumniList",Spacebars.kw({query:"type=1"}))}},"\n        ",Blaze._TemplateWith(function(){return{className:Spacebars.call("al-interview-toh"),caption:Spacebars.call("alumni.toHistory")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n      "),"\n    "),"\n\n    ",Blaze._TemplateWith(function(){return{alumnies:Spacebars.call(Spacebars.dot(e.lookup("alumni"),"alumnies")),className:Spacebars.call("al-interview-slider")}},function(){return Spacebars.include(e.lookupTemplate("alSlider"))}),"\n  ")})}();

!function(){Template.__checkName("alumniIntro"),Template.alumniIntro=new Template("Template.alumniIntro",function(){var n=this;return[HTML.DIV({"class":"al-intro-wrap"},"\n    ",HTML.DIV({"class":"al-intro-t"},"\n      ",Blaze.View("lookup:alumni.name",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("alumni"),"name"))}),"\n    "),"\n    ",HTML.DIV({"class":"al-intro-sub-t"},"\n      ",Blaze.View("lookup:alumni.sign",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("alumni"),"sign"))}),"\n    "),"\n  "),"\n\n  ",HTML.DIV({"class":"al-intro-text"},"\n    ",Blaze.View("lookup:alumni.desc",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("alumni"),"desc"))}),"\n  ")]})}();

!function(){Template.__checkName("alumniProjects"),Template.alumniProjects=new Template("Template.alumniProjects",function(){var e=this;return HTML.DIV({"class":"al-projects-wrap"},"\n    ",HTML.DIV({"class":"al-projects-t"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"alumni.projects")})),"\n\n    ",HTML.DIV({"class":"al-projects-list"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("alumni"),"projects"))},function(){return["\n        ",HTML.DIV({"class":function(){return["al-project-card",Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return" -has-image"})]},style:function(){return["background-image: url(",Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image")),");"]}},"\n          ",HTML.DIV({"class":"al-project-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n          ",HTML.DIV({"class":"al-project-desc"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))})),"\n        "),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("corProgramClients"),Template.corProgramClients=new Template("Template.corProgramClients",function(){var n=this;return HTML.DIV({"class":"cp-clients-wrap"},"\n    ",HTML.DIV({"class":"cp-clients-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"corProg.client")}),"\n    "),"\n\n    ",HTML.DIV({"class":"cp-clients-cards"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(n.lookup("program"),"clientTypes"))},function(){return["\n        ",HTML.DIV({"class":"cp-client-card"},"\n          ",HTML.DIV({"class":"cp-client-ic"},"\n            ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))},alt:function(){return Spacebars.mustache(n.lookup("name"))}}),"\n          "),"\n          ",HTML.DIV({"class":"cp-client-name"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n          "),"\n          ",HTML.DIV({"class":"cp-client-desc"},"\n            ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(n.lookup("desc"))}),"\n          "),"\n        "),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("corProgramContacts"),Template.corProgramContacts=new Template("Template.corProgramContacts",function(){var a=this;return[HTML.DIV({"class":"cp-cs-wrap"},"\n    ",HTML.DIV({"class":"cp-cs-inner"},"\n      ",HTML.DIV({"class":"cp-cs-person"},"\n        ",HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("program"),"contactsItem","own","image"))},alt:function(){return[Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","firstName"))," ",Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","lastName"))]}}),"\n      "),"\n      ",HTML.DIV({"class":"cp-cs-info"},"\n        ",HTML.DIV({"class":"cp-cs-desc"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.contactsDesc")}),"\n        "),"\n        ",HTML.DIV({"class":"cp-cs-person-dt clearfix"},"\n          ",HTML.DIV({"class":"cp-cs-name-job"},"\n            ",HTML.DIV({"class":"cp-cs-person-name"},"\n              ",Blaze.View("lookup:program.contactsItem.own.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","firstName"))})," ",Blaze.View("lookup:program.contactsItem.own.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","lastName"))}),"\n            "),"\n            ",HTML.DIV({"class":"cp-cs-person-job"},"\n              ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem","own","spec"))},function(){return["\n                ",Blaze.View("lookup:program.contactsItem.own.spec",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","spec"))}),"\n              "]}),"\n              ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem","own","occupation"))},function(){return["\n                ",Blaze.View("lookup:program.contactsItem.own.occupation",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","occupation"))}),"\n              "]}),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"cp-cs-person-contacts"},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem","own","phone","length"))},function(){return["\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.contactsTel")}),":\n              ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem","own","phone"))},function(){return["\n                ",Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})," ",HTML.BR(),"\n              "]}),"\n            "]}),"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.contactsEmail")}),": ",Blaze.View("lookup:program.contactsItem.own.email",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"contactsItem","own","email"))}),"\n          "),"\n        "),"\n        ",Blaze.If(function(){return Spacebars.call(a.lookup("hasDesc"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{className:Spacebars.call("t-cts-modal"),data:Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem"))}},function(){return Spacebars.include(a.lookupTemplate("btnDetails"))}),"\n        "]}),"\n      "),"\n    "),"\n  "),"\n\n  ",HTML.DIV({"class":"cp-to-form"},"\n    ",HTML.DIV({"class":"cp-to-form-lbl"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"corProg.formLbl"))}),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"applicationForm",Spacebars.kw({type:"corporate-program"}))},"class":"cp-to-form-btn"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.formBtn")}),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("corProgramFormats"),Template.corProgramFormats=new Template("Template.corProgramFormats",function(){var a=this;return HTML.DIV({"class":"cp-formats-wrap"},"\n    ",HTML.DIV({"class":"cp-formats-t"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.format")})),"\n    ",HTML.DIV({"class":"cp-formats-sub-t"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.formatSub")})),"\n    ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(490),container:Spacebars.call(".cp-formats-list"),inner:Spacebars.call(".cp-formats-pane"),move:Spacebars.call(!1)}},function(){return Spacebars.include(a.lookupTemplate("scrHorizontal"),function(){return["\n      ",HTML.DIV({"class":"cp-formats-list"},"\n        ",HTML.DIV({"class":"cp-formats-pane",style:function(){return Spacebars.mustache(a.lookup("paneWidth"))}},"\n          ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"formats"))},function(){return["\n            ",HTML.DIV({"class":"cp-format"},"\n              ",HTML.DIV({"class":"cp-format-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})),"\n              ",HTML.DIV({"class":"cp-format-desc"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(a.lookup("desc"))})),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n    "]})}),"\n  ")})}();

!function(){Template.__checkName("corProgramIntro"),Template.corProgramIntro=new Template("Template.corProgramIntro",function(){var a=this;return[HTML.DIV({"class":"cp-intro-wrap"},"\n\n    ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"purList")},"class":"cp-intro-to-p"},"\n      ",HTML.Raw('<span class="c-pgnarr-arr -l"></span>'),"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"corProg.toPrograms")}),"\n    "),"\n\n    ",HTML.DIV({"class":"cp-intro-t"},"\n      ",Blaze.View("lookup:program.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"name"))}),"\n    "),"\n    ",HTML.DIV({"class":"cp-intro-sub-t"},"\n      ",Blaze.View("lookup:program.desc",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"desc"))}),"\n    "),"\n\n  "),"\n\n  ",HTML.DIV({"class":"cp-princ-prod"},"\n    ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"infoBlocks"))},function(){return["\n      ",HTML.DIV({"class":"cp-intro-card"},"\n        ",HTML.I({"class":"cp-intro-ic",style:function(){return["background-image: url('",Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("image")),"');"]}}),"\n        ",HTML.DIV({"class":"cp-card-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))})),"\n        ",HTML.DIV({"class":"cp-card-desc"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(a.lookup("desc"))})),"\n      "),"\n    "]}),"\n  ")]})}();

!function(){Template.__checkName("corProgramProjects"),Template.corProgramProjects=new Template("Template.corProgramProjects",function(){var e=this;return HTML.DIV({"class":"cp-projects-wrap"},"\n    ",HTML.DIV({"class":"cp-projects-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"corProg.projects")}),"\n    "),"\n\n    ",HTML.DIV({"class":"cp-projects-list"},"\n      ",HTML.DIV({"class":"cp-projects-pane",style:function(){return Spacebars.mustache(e.lookup("paneWidth"))}},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"projects"))},function(){return["\n          ",HTML.DIV({"class":"cp-project"},"\n            ",HTML.DIV({"class":"cp-project-ic"},"\n              ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image"))},alt:function(){return Spacebars.mustache(e.lookup("name"))}}),"\n            "),"\n            ",HTML.DIV({"class":"cp-project-info"},"\n              ",HTML.DIV({"class":"cp-project-name"},"\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n              "),"\n              ",HTML.DIV({"class":"cp-project-date"},"\n                ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"YYYY")}),"\n              "),"\n              ",HTML.DIV({"class":"cp-project-desc"},"\n                ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))}),"\n              "),"\n              ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("coaches"),"length"))},function(){return["\n                ",HTML.DIV({"class":"cp-project-coaches"},"\n                  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$lte"),Spacebars.dot(e.lookup("coaches"),"length"),1)},function(){return["\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"corProg.coach")}),HTML.BR(),"\n                  "]},function(){return["\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"corProg.coaches")}),HTML.BR(),"\n                  "]}),"\n                  ",Blaze.Each(function(){return Spacebars.call(e.lookup("coaches"))},function(){return["\n                    ",Blaze.View("lookup:coach",function(){return Spacebars.mustache(e.lookup("coach"),e.lookup("."))}),HTML.BR(),"\n                  "]}),"\n                "),"\n              "]}),"\n            "),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n\n    ",Spacebars.include(e.lookupTemplate("btnPaginationArrows")),"\n\n  ")})}();

!function(){Template.__checkName("eventItemDetails"),Template.eventItemDetails=new Template("Template.eventItemDetails",function(){var e=this;return HTML.DIV({"class":"ev-details"},"\n\n    ",HTML.DIV({"class":"ev-detail ev-date"},"\n      ",HTML.DIV({"class":"ev-detail-name"},"\n        ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("event"),"startDate"),"DD MMMM YYYY")}),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"ev-detail ev-time"},"\n      ",HTML.DIV({"class":"ev-detail-time"},"\n        ",Blaze.View("lookup:event.time",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"time"))}),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"ev-detail ev-audience"},"\n\n      ",HTML.DIV({"class":"ev-detail-alabel"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.audience")}),":\n      "),"\n\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("getAudience"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("getAudience"))},function(){return["\n          ",HTML.DIV({"class":"ev-detail-audience"},"\n            ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("getAudiencesMinor"))},function(){return["\n        ",HTML.DIV({"class":"ev-detail-audience"},"\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n        "),"\n      "]}),"\n\n    "),"\n\n    ",HTML.DIV({"class":"ev-detail ev-cost"},"\n\n      ",HTML.DIV({"class":"ev-detail-plabel"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.price")}),":\n      "),"\n\n      ",HTML.DIV({"class":"ev-detail-price"},"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"price"))},function(){return["\n          ",Blaze.View("lookup:event.price",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"price"))})," ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.UAH")}),"\n        "]},function(){return["\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.free")}),"\n        "]}),"\n      "),"\n\n      ",HTML.DIV({"class":"ev-detail-req"},"\n        ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("event"),"requirements"))}),"\n      "),"\n\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"address"))},function(){return["\n      ",HTML.DIV({"class":"ev-detail ev-address"},"\n\n        ",HTML.DIV({"class":"ev-detail-plabel"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.address")}),":\n        "),"\n\n        ",HTML.DIV({"class":"ev-detail-audience"},"\n          ",Blaze.View("lookup:event.address.text",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"address","text"))}),"\n        "),"\n\n      "),"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"address","loc","length"))},function(){return["\n        ",HTML.DIV({"class":"ev-detail ev-address-map"},"\n          ",HTML.SPAN("\n\n            ",HTML.DIV({"class":"ev-address-show"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.map")}),"\n            "),"\n\n            ",HTML.DIV({"class":"ev-address-arrow"}),"\n\n          "),"\n        "),"\n      "]}),"\n\n    "]}),"\n\n    ",HTML.DIV({"class":"ev-actions"},"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"googleFormURL"))},function(){return["\n        ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isOld"))},function(){return["\n          ",HTML.A({"class":"ev-participate-link",href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"googleFormURL"))},target:"_blank"},"\n            ",HTML.BUTTON({"class":"ev-participate"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"evs.participate")})),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"places"))},function(){return["\n        ",HTML.DIV({"class":"ev-places"},"\n\n          ",HTML.DIV({"class":"ev-places-icon"}),"\n\n          ",HTML.DIV({"class":"ev-places-label"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.left")}),"\n\n            ",HTML.SPAN({"class":"bold"},"\n              ",Blaze.View("lookup:event.places",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"places"))}),"\n            "),"\n\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.places")}),Blaze.View("lookup:cEnd",function(){return Spacebars.mustache(e.lookup("cEnd"),Spacebars.dot(e.lookup("event"),"places"))}),"\n          "),"\n\n        "),"\n      "]}),"\n\n      ",HTML.Raw('<!-- <div class="ev-plan">\n\n        <div class="ev-plan-icon"></div>\n\n        <div class="ev-plan-label">\n          {{_ "evs.plan"}}\n        </div>\n\n      </div> -->'),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("eventItemInfo"),Template.eventItemInfo=new Template("Template.eventItemInfo",function(){var e=this;return HTML.DIV({"class":"ev-info"},"\n\n    ",HTML.DIV({"class":"tln-back ev-back"},"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventList")}},"\n        ",HTML.Raw('<div class="pur-all-arrow"></div>'),"\n\n        ",HTML.DIV({"class":"tln-back-label"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.back")}),"\n        "),"\n      "),"\n\n    "),"\n\n    ",HTML.DIV({"class":"ev-name"},"\n      ",Blaze.View("lookup:event.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("event"),"name"))}),"\n    "),"\n\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("getType"))},function(){return["\n      ",HTML.DIV({"class":"ev-type"},"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return["\n          ",HTML.IMG({"class":"ev-type-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image"))}}),"\n        "]}),"\n\n        ",HTML.DIV({"class":"ev-type-name"},"\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n        "),"\n\n      "),"\n    "]}),"\n\n    ",HTML.DIV({"class":"ev-desc"},"\n      ",Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("event"),"desc")))}),"\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("hasCoachesOrSpeakers"))},function(){return["\n      ",HTML.DIV({"class":"ev-coaches"},"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("getCoaches"))},function(){return["\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("getCoaches"))},function(){return["\n            ",HTML.A({"class":"ev-coach",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"coachItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n              ",Spacebars.include(e.lookupTemplate("eventItemInfoCoach")),"\n            "),"\n          "]}),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"speakers","length"))},function(){return["\n          ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("event"),"speakers"))},function(){return["\n            ",HTML.DIV({"class":"ev-coach"},"\n              ",Spacebars.include(e.lookupTemplate("eventItemInfoCoach")),"\n            "),"\n          "]}),"\n        "]}),"\n\n      "),"\n    "]}),"\n\n  ")}),Template.__checkName("eventItemInfoCoach"),Template.eventItemInfoCoach=new Template("Template.eventItemInfoCoach",function(){var e=this;return[HTML.DIV({"class":"ev-coach-img",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image"))}),"') no-repeat center top / cover;"]})}}),"\n\n  ",HTML.DIV({"class":"ev-coach-info"},"\n\n    ",HTML.DIV({"class":"ev-valign"},"\n\n      ",HTML.DIV({"class":"ev-coach-spec"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"ev.speaker")}),"\n      "),"\n\n      ",HTML.DIV({"class":"ev-coach-name"},"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("firstName"))},function(){return["\n          ",Blaze.View("lookup:firstName",function(){return Spacebars.mustache(e.lookup("firstName"))})," ",Blaze.View("lookup:lastName",function(){return Spacebars.mustache(e.lookup("lastName"))}),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return["\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n        "]}),"\n\n      "),"\n\n    "),"\n\n    ",HTML.DIV({"class":function(){return["ev-coach-desc",Blaze.If(function(){return Spacebars.call(e.lookup("firstName"))},function(){return" is-coach"})]}},"\n      ",HTML.DIV({"class":"ev-coach-idesc"},"\n        ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))}),"\n      "),"\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("firstName"))},function(){return["\n      ",HTML.DIV({"class":"ev-coach-more"},"\n        ",HTML.DIV({"class":"ev-valign"},"\n\n          ",HTML.SPAN("\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"slider.more")}),"\n          "),"\n\n          ",HTML.SPAN({"class":"ev-coach-plus"},"\n            +\n          "),"\n\n        "),"\n      "),"\n    "]}),"\n\n  ")]})}();

!function(){Template.__checkName("eventItemPagination"),Template.eventItemPagination=new Template("Template.eventItemPagination",function(){var e=this;return HTML.DIV({"class":"ni-pagination-wrap"},"\n    ",HTML.DIV({"class":"ni-pagination clearfix"},"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("getAdjacents"),"0"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("ev.prevEvent"),className:Spacebars.call("ni-prev")}},function(){return Spacebars.include(e.lookupTemplate("btnBack"))}),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("getAdjacents"),"1"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("ev.nextEvent"),className:Spacebars.call("ni-next")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n        "),"\n      "]}),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("eventListTopper"),Template.eventListTopper=new Template("Template.eventListTopper",function(){var e=this;return HTML.DIV({"class":"evs-topper"},"\n    ",HTML.DIV({"class":"evs-valign"},"\n\n      ",HTML.DIV({"class":"evs-topper-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.events")}),"\n      "),"\n\n      ",HTML.DIV({"class":"evs-topper-bl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"evs.bottomLabel")}),"\n      "),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("preloader"),Template.preloader=new Template("Template.preloader",function(){var e=this;return HTML.Raw('<div class="c-preloader">\n    <img src="/img/preloader.gif" alt="" class="c-preloader-anim">\n  </div>')}),Template.__checkName("preloaderCap"),Template.preloaderCap=new Template("Template.preloaderCap",function(){var e=this;return""})}();

!function(){Template.__checkName("mbaProgramContacts"),Template.mbaProgramContacts=new Template("Template.mbaProgramContacts",function(){var a=this;return HTML.DIV({"class":"mba-cts-wrap"},"\n    ",HTML.DIV({"class":"mba-cts"},"\n      ",HTML.DIV({"class":"mba-cts-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.contacts",Spacebars.kw({count:Spacebars.dot(a.lookup("program"),"contactsItem","length")}))}),"\n      "),"\n      ",HTML.DIV({"class":"mba-cts-persons clearfix"},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"contactsItem"))},function(){return["\n          ",HTML.DIV({"class":"mba-cts-p"},"\n            ",HTML.DIV({"class":"mba-cts-p-photo -big"},"\n              ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("own"),"image"))},function(){return["\n                ",HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("own"),"image"))},alt:function(){return[Spacebars.mustache(Spacebars.dot(a.lookup("own"),"firstName"))," ",Spacebars.mustache(Spacebars.dot(a.lookup("own"),"lastName"))," ",Spacebars.mustache(Spacebars.dot(a.lookup("own"),"spec"))]}}),"\n              "]}),"\n            "),"\n            ",HTML.DIV({"class":"mba-cts-p-photo -small",style:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("own"),"smallImage"))},function(){return["background-image: url(",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("own"),"smallImage"))}),");"]})}}),"\n            ",HTML.DIV({"class":"mba-cts-p-info"},"\n              ",HTML.DIV({"class":"mba-cts-p-name"},Blaze.View("lookup:own.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("own"),"firstName"))})," ",Blaze.View("lookup:own.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("own"),"lastName"))})),"\n              ",HTML.DIV({"class":"mba-cts-p-position"},Blaze.View("lookup:own.spec",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("own"),"spec"))})),"\n              ",HTML.DIV({"class":"mba-cts-p-cts"},"\n\n                ",Blaze.If(function(){return Spacebars.call(a.lookup("hasPhones"))},function(){return["\n                  ",HTML.DIV("\n\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.contactsTel")}),":\n\n                    ",Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("getContactField"),"phones","phone")},function(){return["\n                      ",Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})," ",HTML.BR(),"\n                    "]}),"\n\n                  "),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.call(a.lookup("hasEmail"))},function(){return["\n                  ",HTML.DIV("\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.contactsEmail")}),": ",Blaze.View("lookup:getContactField",function(){return Spacebars.mustache(a.lookup("getContactField"),"email")}),"\n                  "),"\n                "]}),"\n\n              "),"\n\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("answersQuestions"))},function(){return["\n                ",Blaze._TemplateWith(function(){return{className:Spacebars.call("mba-cts-cb t-open-mba-cont-form")}},function(){return Spacebars.include(a.lookupTemplate("btnCallback"))}),"\n              "]}),"\n\n              ",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("getContactField"),"desc")},function(){return["\n                ",Spacebars.With(function(){return Spacebars.call(a.lookup("getContact"))},function(){return["\n                  ",Blaze.If(function(){return Spacebars.call(a.lookup("isTeammate"))},function(){return["\n                    ",HTML.A({"class":"cos-coach-link",href:function(){return Spacebars.mustache(a.lookup("pathFor"),"teamItem",Spacebars.kw({_id:a.lookup("getHrlOrId")}))}},"\n                      ",HTML.SPAN({"class":"pur-cts-modal"},"\n                        ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("pur.details")}},function(){return Spacebars.include(a.lookupTemplate("btnDetails"))}),"\n                      "),"\n                    "),"\n                  "]},function(){return["\n                    ",HTML.SPAN({"class":"pur-cts-modal pur-cts-fake"},"\n                      ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("pur.details")}},function(){return Spacebars.include(a.lookupTemplate("btnDetails"))}),"\n                    "),"\n                  "]}),"\n                "]}),"\n              "]}),"\n\n            "),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"mba-cts-form"},"\n      ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("formCbData"))},function(){return Spacebars.include(a.lookupTemplate("cFormCallback"))}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaProgramEntrance"),Template.mbaProgramEntrance=new Template("Template.mbaProgramEntrance",function(){var n=this;return[HTML.DIV({"class":function(){return["mba-ent-wrap",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("program"),"requirements","length"))},function(){return" -white"})]}},"\n    ",HTML.DIV({"class":"mba-ent-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.entrance")}),"\n    "),"\n\n    ",HTML.DIV({"class":"mba-ent-steps clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(n.lookup("$map"),Spacebars.dot(n.lookup("program"),"enterReqs"))},function(){return["\n        ",HTML.DIV({"class":"mba-ent-step"},"\n\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("icon"))},function(){return["\n            ",HTML.IMG({"class":"mba-ent-ic",src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"Icon",n.lookup("icon"))},alt:function(){return Spacebars.mustache(n.lookup("desc"))}}),"\n          "]}),"\n\n          ",HTML.DIV({"class":"mba-ent-step-n"},Blaze.View("lookup:$num",function(){return Spacebars.mustache(n.lookup("$num"))})),"\n\n          ",HTML.DIV({"class":"mba-ent-step-l"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(n.lookup("desc"))})),"\n\n        "),"\n      "]}),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":function(){return["mba-ent-action",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("program"),"requirements"))},function(){return" -brdr"})]}},"\n    ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"applicationForm",Spacebars.kw({type:n.lookup("getMbaType"),id:Spacebars.dot(n.lookup("program"),"_id")}))},"class":"mba-ent-btn"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.toForm")}),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("mbaProgramEvents"),Template.mbaProgramEvents=new Template("Template.mbaProgramEvents",function(){var e=this;return HTML.DIV({"class":"mba-evs-wrap"},"\n    ",HTML.DIV({"class":"mba-evs-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.events")}),"\n    "),"\n\n    ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(1200),container:Spacebars.call(".t-evs-list"),inner:Spacebars.call(".t-evs-pane"),move:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("scrHorizontal"),function(){return["\n      ",HTML.DIV({"class":"mba-evs-list t-evs-list"},"\n        ",HTML.DIV({"class":"mba-evs-pane t-evs-pane",style:function(){return Spacebars.mustache(e.lookup("paneWidth"))}},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("events"))},function(){return["\n            ",HTML.A({"class":"mba-ev-item",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n              ",HTML.DIV({"class":"mba-ev-bg",style:function(){return["background-image: url('",Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image")),"');"]}}),"\n              ",HTML.DIV({"class":"mba-ev-info"},"\n                ",HTML.DIV({"class":"mba-ev-label"},"\n                  ",Blaze.View("lookup:getTypeLbl",function(){return Spacebars.mustache(e.lookup("getTypeLbl"))}),"\n                "),"\n                ",HTML.DIV({"class":"mba-ev-t"},"\n                  ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n                "),"\n                ",HTML.Comment(' {{#if startDate}}\n                  <div class="mba-ev-date">\n                    {{getDate}}, {{time}}\n                  </div>\n                {{/if}} '),"\n              "),"\n              ",HTML.DIV({"class":"mba-ev-i-dtls"},"\n                ",HTML.DIV({"class":"mba-ev-dtlscont"},"\n                  ",HTML.DIV({"class":"mba-ev-sdsc"},"\n                    ",Blaze.View("lookup:desc",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("desc")))}),"\n                  "),"\n                  ",Blaze.If(function(){return Spacebars.call(e.lookup("startDate"))},function(){return["\n                    ",HTML.DIV({"class":"mba-ev-date"},"\n                      ",Blaze.View("lookup:getDate",function(){return Spacebars.mustache(e.lookup("getDate"))}),", ",Blaze.View("lookup:time",function(){return Spacebars.mustache(e.lookup("time"))}),"\n                    "),"\n                  "]}),"\n                "),"\n                ",HTML.SPAN({"class":"mba-ev-details"},"\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.evDetails")})," +\n                "),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n    "]})}),"\n  ")})}();

!function(){Template.__checkName("mbaProgramFacilities"),Template.mbaProgramFacilities=new Template("Template.mbaProgramFacilities",function(){var a=this;return HTML.DIV({"class":"mba-vista-wrap"},"\n    ",HTML.DIV({"class":"mba-vista"},"\n      ",HTML.DIV({"class":"mba-vista-title"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.vistaTitle")}),"\n      "),"\n\n      ",HTML.DIV({"class":function(){return["mba-vista-list ",Spacebars.mustache(a.lookup("getClassSize"))]}},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"opportunityBlocks"))},function(){return["\n          ",HTML.DIV({"class":"mba-vista-item"},"\n\n            ",HTML.DIV({"class":"mba-vista-ic-block"},"\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("image"))},function(){return["\n                ",HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("image"))},alt:function(){return Spacebars.mustache(a.lookup("text"))}}),"\n              "]}),"\n            "),"\n\n            ",HTML.DIV({"class":"mba-vista-desc"},Blaze.View("lookup:text",function(){return Spacebars.mustache(a.lookup("text"))})),"\n\n          "),"\n        "]}),"\n        ",HTML.Raw('<div class="clearfix"></div>'),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaProgramFormats"),Template.mbaProgramFormats=new Template("Template.mbaProgramFormats",function(){var a=this;return HTML.DIV({"class":"mba-formats-wrap"},"\n    ",HTML.DIV({"class":"mba-formats"},"\n      ",HTML.DIV({"class":"mba-formats-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.formats")}),"\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(".t-mba-f-i"),container:Spacebars.call(".t-mba-f-l"),inner:Spacebars.call(".t-mba-f-p"),move:Spacebars.call(!1)}},function(){return Spacebars.include(a.lookupTemplate("scrHorizontal"),function(){return["\n        ",HTML.DIV({"class":function(){return["mba-formats-list t-mba-f-l",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"opened"))},function(){return" invisible"})]}},"\n          ",HTML.DIV({"class":"mba-formats-inner t-mba-f-p",style:function(){return Spacebars.mustache(a.lookup("paneWidth"))}},"\n            ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"formatBlocks"))},function(){return["\n              ",HTML.DIV({"class":"mba-format-item t-mba-f-i t-open-modal"},"\n\n                ",HTML.DIV({"class":"mba-format-t"},"\n                  ",Blaze.View("lookup:name",function(){return Spacebars.mustache(a.lookup("name"))}),"\n                "),"\n\n                ",HTML.DIV({"class":"mba-format-bg",style:function(){return["background-image: url('",Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("image")),"');"]}}),"\n\n                ",HTML.DIV({"class":"mba-format-dtls"},"\n                  ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("mba.details")}},function(){return Spacebars.include(a.lookupTemplate("btnDetails"))}),"\n                "),"\n\n              "),"\n            "]}),"\n          "),"\n        "),"\n      "]})}),"\n    "),"\n\n    ",HTML.DIV({"class":function(){return["mba-formats-modal",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"opened"))},function(){return" -open"})]}},"\n      ",HTML.Raw('<div class="mba-ste-close t-close-modal"></div>'),"\n      ",HTML.DIV({"class":"mba-formats-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.formats")}),"\n      "),"\n      ",HTML.DIV({"class":"mba-formats-list t-mba-f-l"},"\n        ",HTML.DIV({"class":"mba-format-item t-mba-f-i"},"\n          ",HTML.DIV({"class":"mba-format-bg",style:function(){return["background-image: url('",Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("modalBlock"),"image")),"');"]}}),"\n          ",HTML.DIV({"class":"mba-format-t"},"\n            ",Blaze.View("lookup:modalBlock.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("modalBlock"),"name"))}),"\n          "),"\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"video"))},function(){return["\n            ",HTML.DIV({"class":"mba-format-play t-open-vimodal"},"\n              ",HTML.DIV({"class":"mba-format-play-itm"},"\n                ",Spacebars.include(a.lookupTemplate("btnPlay")),"\n                ",HTML.DIV({"class":"mba-format-play-lbl"},"\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.formatsPlay")}),"\n                "),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n        ",HTML.DIV({"class":"mba-format-desc"},"\n          ",Blaze.View("lookup:modalBlock.desc",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("modalBlock"),"desc"))}),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":function(){return["mba-formats-vimodal",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("videoBlock"),"opened"))},function(){return" -open"})]}},"\n      ",HTML.DIV({"class":"mba-fs-video"},"\n        ",HTML.Raw('<div class="mba-ste-close t-close-vimodal"></div>'),"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("videoBlock"),"opened"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{template:Spacebars.call(Spacebars.dot(a.lookup("videoBlock"),"tpl")),data:Spacebars.call(a.lookup("videoBlock"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "]}),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaProgramIntro"),Template.mbaProgramIntro=new Template("Template.mbaProgramIntro",function(){var a=this;return[HTML.DIV({"class":"mba-intro clearfix"},"\n    ",HTML.DIV({"class":"mba-name"},"\n      ",HTML.DIV({"class":"mba-name-wrap"},"\n        ",HTML.DIV({"class":"mba-name-mask"},"\n          ",Blaze._TemplateWith(function(){return{template:Spacebars.call(Spacebars.dot(a.lookup("program"),"mask"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          ",Blaze._TemplateWith(function(){return{bgColor:Spacebars.call("#ffffff")}},function(){return Spacebars.include(a.lookupTemplate("cMaskBlocker"))}),"\n        "),"\n        ",HTML.Raw('<div class="mba-name-bg"></div>'),"\n\n        ",HTML.DIV({"class":"mba-quote"},"\n          «",Blaze.View("lookup:program.message",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"message"))}),"»\n        "),"\n      "),"\n      ",HTML.DIV({"class":"mba-intro-desc"},"\n        ",HTML.DIV({"class":"mba-name-lbl"},"\n          ",Blaze.View("lookup:program.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"name"))}),"\n        "),"\n        ",HTML.DIV({"class":"mba-quote"},"\n          «",Blaze.View("lookup:program.message",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"message"))}),"»\n        "),"\n        ",HTML.DIV({"class":"mba-name-desc"},"\n          ",Blaze.View("lookup:program.shortDesc",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(a.lookup("program"),"shortDesc")))}),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"mba-principal-info"},"\n      ",HTML.DIV({"class":"mba-next-start"},"\n        ",HTML.Raw('<div class="mba-start-ic mba-info-ic"></div>'),"\n        ",HTML.DIV({"class":"mba-info-label mba-info-st"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.start")}),":"),"\n        ",HTML.DIV({"class":"mba-info-data"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"start"))},function(){return Blaze.View("lookup:program.start",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"start"))})},function(){return Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.specifying")})})),"\n      "),"\n\n      ",HTML.DIV({"class":"mba-next-duration"},"\n        ",HTML.Raw('<div class="mba-duration-ic mba-info-ic"></div>'),"\n        ",HTML.DIV({"class":"mba-info-label"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.duration")}),":"),"\n        ",HTML.DIV({"class":"mba-info-data"},Blaze.View("lookup:program.duration",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"duration"))})),"\n      "),"\n\n      ",HTML.DIV({"class":"mba-cost"},"\n        ",HTML.Raw('<div class="mba-cost-ic mba-info-ic"></div>'),"\n        ",HTML.DIV({"class":"mba-info-label"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.cost")}),":"),"\n        ",HTML.DIV({"class":"mba-info-data"},Blaze.View("lookup:program.cost",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(a.lookup("program"),"cost")))}),Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.UAH")}),Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"costUSD"))},function(){return[" + $",HTML.CharRef({html:"&nbsp;",str:" "}),Blaze.View("lookup:program.costUSD",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(a.lookup("program"),"costUSD")))})]})),"\n        ",HTML.DIV({"class":"mba-info-vat"},"\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"priceNote"))},function(){return["\n            ",Blaze.View("lookup:program.priceNote",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"priceNote"))}),"\n          "]}),"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.VAT")}),"\n        "),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"partners","length"))},function(){return["\n          ",HTML.DIV({"class":"mba-info-partner"},"\n\n            ",HTML.DIV({"class":"mba-info-ic mba-partner-ic"}),"\n\n            ",HTML.DIV({"class":"mba-info-label mba-info-plabel"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pur.partners")}),":\n            "),"\n\n            ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"partners"))},function(){return["\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("image"))},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(a.lookup("url"))},function(){return["\n                  ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("url"))},target:"_blank"},"\n                    ",Spacebars.include(a.lookupTemplate("purProgramTopperPartner")),"\n                  "),"\n                "]},function(){return["\n                  ",Spacebars.include(a.lookupTemplate("purProgramTopperPartner")),"\n                "]}),"\n              "]}),"\n            "]}),"\n\n          "),"\n        "]}),"\n\n      "),"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"pdfPresentation","length"))},function(){return["\n        ",HTML.A({"class":"pur-dl-pdf",href:function(){return Spacebars.mustache(a.lookup("assetUrl"),"PDF",Spacebars.dot(a.lookup("program"),"pdfPresentation"))},target:"_blank"},"\n\n          ",HTML.DIV({"class":"pus-icon-dl"}),"\n\n          ",HTML.DIV({"class":"pur-dl-label"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pur.downloadPDF")}),"\n          "),"\n\n        "),"\n      "]}),"\n\n    "),"\n  "),"\n\n  ",HTML.TABLE({"class":"mba-actions"},"\n    ",HTML.TR("\n      ",HTML.TD({"class":"mba-cb t-open-fm-cb","data-form":"cb"},"\n        ",HTML.SPAN({"class":"mba-cb-ic mba-action-ic"}),"\n        ",HTML.SPAN({"class":"mba-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.callback")})),"\n      "),"\n      ",HTML.TD({"class":"mba-meeting t-open-fm-meet","data-form":"meeting"},"\n        ",HTML.SPAN({"class":"mba-meeting-ic mba-action-ic"}),"\n        ",HTML.SPAN({"class":"mba-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"mba.meeting"))})),"\n      "),"\n      ",HTML.TD({"class":"mba-to-form"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"applicationForm",Spacebars.kw({type:a.lookup("getMbaType")}))}},"\n          ",HTML.DIV("\n            ",HTML.SPAN({"class":"mba-form-ic mba-action-ic"}),"\n            ",HTML.SPAN({"class":"mba-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"mba.toForm"))})),"\n          "),"\n        "),"\n      "),"\n    "),"\n  "),"\n\n  ",HTML.DIV({"class":"mba-intro-forms"},"\n    ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("formCallbackData"))},function(){return Spacebars.include(a.lookupTemplate("cFormCallback"))}),"\n    ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("formMeetData"))},function(){return Spacebars.include(a.lookupTemplate("cFormMeeting"))}),"\n  ")]})}();

!function(){Template.__checkName("mbaProgramIntroVideoBg"),Template.mbaProgramIntroVideoBg=new Template("Template.mbaProgramIntroVideoBg",function(){var e=this;return HTML.VIDEO({"class":"mba-video",loop:"loop",preload:"auto",poster:function(){return["/img/mba/",Spacebars.mustache(e.lookup("videoName")),".jpg"]},muted:"",autoplay:""},"\n    ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("videoName")),".mp4"]},type:"video/mp4"}),"\n    ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("videoName")),".webm"]},type:"video/webm"}),"\n    ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("videoName")),".ogv"]},type:"video/ogg"}),"\n    ",HTML.IMG({src:function(){return["/img/mba/",Spacebars.mustache(e.lookup("videoName")),".jpg"]},alt:""}),"\n  ")})}();

!function(){Template.__checkName("mbaProgramNews"),Template.mbaProgramNews=new Template("Template.mbaProgramNews",function(){var e=this;return HTML.DIV({"class":"mba-news-wrap"},"\n    ",HTML.DIV({"class":"mba-news-t"},"\n      ",Blaze.View("lookup:getNewsBlockTitle",function(){return Spacebars.mustache(e.lookup("getNewsBlockTitle"))}),"\n    "),"\n\n    ",HTML.DIV({"class":"mba-news-list clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n        ",HTML.DIV({"class":function(){return["mba-news-itm",Blaze.If(function(){return Spacebars.call(e.lookup("video"))},function(){return" -video"})]}},"\n          ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n            ",HTML.DIV({"class":"mba-news-lt"},"\n              ",HTML.DIV({"class":"mba-news-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n              ",HTML.SPAN({"class":"mba-news-dtls"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.details")})," +"),"\n            "),"\n            ",Spacebars.include(e.lookupTemplate("mbaProgramNewsVideo")),"\n          "),"\n        "),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("mbaProgramNewsVideo"),Template.mbaProgramNewsVideo=new Template("Template.mbaProgramNewsVideo",function(){var e=this;return HTML.DIV({"class":"mba-news-rt",style:function(){return["background-image: url('",Spacebars.mustache(e.lookup("getImageUrl")),"');"]}},"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("video"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("btnPlay")),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("mbaProgramRquirements"),Template.mbaProgramRquirements=new Template("Template.mbaProgramRquirements",function(){var e=this;return[HTML.DIV({"class":"mba-req-wrap"},"\n    ",HTML.DIV({"class":"mba-req-t"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.requirements")}),"\n    "),"\n\n    ",HTML.DIV({"class":"mba-req-list clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"requirements"))},function(){return["\n        ",HTML.DIV({"class":"mba-req-item"},"\n\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("icon"))},function(){return["\n            ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"Icon",e.lookup("icon"))},alt:function(){return Spacebars.mustache(e.lookup("desc"))}}),"\n          "]}),"\n\n          ",HTML.DIV({"class":"mba-req-i-t"},"\n            ",Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))}),"\n          "),"\n\n        "),"\n      "]}),"\n    "),"\n  "),"\n  ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"enterReqs","length"))},function(){return["\n    ",HTML.DIV({"class":"mba-req-act"},"\n      ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"applicationForm",Spacebars.kw({type:e.lookup("getMbaType"),id:Spacebars.dot(e.lookup("program"),"_id")}))},"class":"mba-req-btn"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.reqBtn")}),"\n      "),"\n    "),"\n  "]})]})}();

!function(){Template.__checkName("mbaProgramShare"),Template.mbaProgramShare=new Template("Template.mbaProgramShare",function(){var a=this;return HTML.DIV({"class":"mba-share"},"\n    ",HTML.SPAN({"class":"mba-share-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.share")})),"\n    ",Blaze._TemplateWith(function(){return{shareData:Spacebars.call(Spacebars.dot(a.lookup("program"),"shareData"))}},function(){return Spacebars.include(a.lookupTemplate("btnsShare"))}),"\n  ")})}();

!function(){Template.__checkName("mbaProgramStructure"),Template.mbaProgramStructure=new Template("Template.mbaProgramStructure",function(){var a=this;return HTML.DIV({"class":"mba-ste-wrap"},"\n    ",HTML.DIV({"class":"mba-ste"},"\n      ",HTML.DIV({"class":"mba-ste-title"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.structure")}),"\n      "),"\n      ",HTML.DIV({"class":"mba-ste-modules"},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"structureModules"))},function(){return["\n          ",HTML.P(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})),"\n        "]}),"\n      "),"\n      ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(300),container:Spacebars.call(".t-ste-list"),inner:Spacebars.call(".t-ste-pane"),move:Spacebars.call(!1)}},function(){return Spacebars.include(a.lookupTemplate("scrHorizontal"),function(){return["\n        ",HTML.DIV({"class":"mba-ste-list t-ste-list"},"\n          ",HTML.DIV({"class":"mba-ste-pane t-ste-pane",style:function(){return Spacebars.mustache(a.lookup("paneWidth"))}},"\n            ",Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("$map"),Spacebars.dot(a.lookup("program"),"structureBlocks"))},function(){return["\n              ",HTML.DIV({"class":"mba-ste-item"},"\n                ",HTML.DIV({"class":"mba-ste-num"},Blaze.View("lookup:$num",function(){return Spacebars.mustache(a.lookup("$num"))})),"\n                ",HTML.DIV({"class":"mba-ste-name"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(a.lookup("$str"),a.lookup("name"))})),"\n                ",HTML.DIV({"class":"mba-ste-label"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(a.lookup("desc"))})),"\n                ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("courses"),"length"))},function(){return["\n                  ",Blaze.Unless(function(){return Spacebars.call(a.lookup("hideDetails"))},function(){return["\n                    ",HTML.DIV({"class":"mba-ste-details"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.details")})," +"),"\n                  "]}),"\n                  ",HTML.DIV({"class":"mba-ste-item-hovered"},"\n                    ",HTML.DIV({"class":"mba-ste-course-cap"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.someCourses")})),"\n                    ",Blaze.Each(function(){return Spacebars.call(a.lookup("courses"))},function(){return["\n                      ",HTML.DIV({"class":"mba-ste-course"},Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})),"\n                    "]}),"\n                    ",Blaze.Unless(function(){return Spacebars.call(a.lookup("hideDetails"))},function(){return["\n                      ",HTML.DIV({"class":"mba-ste-details t-open-modal"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.details")})," +"),"\n                    "]}),"\n                  "),"\n                "]}),"\n              "),"\n            "]}),"\n          "),"\n        "),"\n      "]})}),"\n    "),"\n\n    ",HTML.DIV({"class":function(){return["mba-ste-modal",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"opened"))},function(){return" -open"})]}},"\n      ",HTML.Raw('<div class="mba-ste-close t-close-modal"></div>'),"\n      ",HTML.DIV({"class":"mba-ste-title"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.structure")}),"\n      "),"\n      ",HTML.DIV({"class":"mba-ste-modules"},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"structureModules"))},function(){return["\n          ",HTML.P(Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"mba-ste-card"},"\n        ",HTML.DIV({"class":"mba-ste-item"},"\n          ",HTML.DIV({"class":"mba-ste-num"},Blaze.View("lookup:modalBlock.$num",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("modalBlock"),"$num"))})),"\n          ",HTML.DIV({"class":"mba-ste-name"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(a.lookup("$str"),Spacebars.dot(a.lookup("modalBlock"),"name"))})),"\n          ",HTML.DIV({"class":"mba-ste-label"},Blaze.View("lookup:modalBlock.label",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("modalBlock"),"label"))})),"\n        "),"\n        ",HTML.DIV({"class":"mba-ste-courses-wrap"},"\n          ",HTML.DIV({"class":"mba-ste-courses"},"\n            ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"courses"))},function(){return["\n              ",HTML.DIV({"class":"mba-ste-course"},Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("modalBlock"),"isText"))},function(){return"- "}),Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup(".")))})),"\n            "]}),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("newsAlumniItemNews"),Template.newsAlumniItemNews=new Template("Template.newsAlumniItemNews",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("otherNews"),"length"))},function(){return["\n    ",HTML.DIV({"class":"ni-news-wrap"},"\n      ",HTML.DIV({"class":"ni-news-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"newsItem.newsTitle")}),"\n      "),"\n\n      ",HTML.DIV({"class":"ni-news-list clearfix"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("otherNews"))},function(){return["\n          ",HTML.A({"class":function(){return["ni-news-card",Blaze.If(function(){return Spacebars.call(e.lookup("coverImage"))},function(){return" has-image"})]},href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsAlumniItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n            ",HTML.DIV({"class":"nws-img",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("coverImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("coverImage"))}),"') no-repeat center / cover;"]})}}),"\n\n            ",HTML.DIV({"class":"nws-mask"}),"\n\n            ",HTML.DIV({"class":"ni-news-content"},"\n              ",HTML.DIV({"class":"ni-news-date"},"\n                ",HTML.SPAN({"class":"ni-news-day"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"DD")})),HTML.SPAN("/")," ",HTML.SPAN(Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"MM")})),"\n              "),"\n\n              ",HTML.DIV({"class":"ni-news-name"},"\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n              "),"\n\n              ",Blaze._TemplateWith(function(){return{className:Spacebars.call("ni-news-dtls")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n\n            "),"\n\n          "),"\n        "]}),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("newsAlumniItemPagination"),Template.newsAlumniItemPagination=new Template("Template.newsAlumniItemPagination",function(){var n=this;return HTML.DIV({"class":"ni-pagination-wrap"},"\n    ",HTML.DIV({"class":"ni-pagination clearfix"},"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(n.lookup("getAdjacents"),"0"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"newsAlumniItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("newsItem.prevNews"),className:Spacebars.call("ni-prev")}},function(){return Spacebars.include(n.lookupTemplate("btnBack"))}),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(n.lookup("getAdjacents"),"1"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"newsAlumniItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("newsItem.nextNews"),className:Spacebars.call("ni-next")}},function(){return Spacebars.include(n.lookupTemplate("btnSimple"))}),"\n        "),"\n      "]}),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("newsItemCover"),Template.newsItemCover=new Template("Template.newsItemCover",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("hasImageOrVideo"))},function(){return["\n    ",HTML.DIV({"class":"ni-cover",style:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("news"),"coverImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",Spacebars.dot(e.lookup("news"),"coverImage"))}),"') no-repeat center / cover;"]})}},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("news"),"video"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$isYoutube"),Spacebars.dot(e.lookup("news"),"video"))},function(){return["\n          ",HTML.IFRAME({"class":function(){return Spacebars.mustache(e.lookup("className"))},src:function(){return["https://www.youtube.com/v/",Spacebars.mustache(Spacebars.dot(e.lookup("news"),"video")),"?version=3&rel=0&wmode=opaque&enablejsapi=1&loop=1&modestbranding=1&iv_load_policy=3",Spacebars.mustache(e.lookup("shouldAutoplay"))]},frameborder:"0",type:"text/html",wmode:"opaque"}),"\n        "]},function(){return["\n          ",HTML.IFRAME({"class":function(){return Spacebars.mustache(e.lookup("className"))},src:function(){return["//player.vimeo.com/video/",Spacebars.mustache(Spacebars.dot(e.lookup("news"),"video")),"?badge=0&byline=0&loop=1&title=0",Spacebars.mustache(e.lookup("shouldAutoplay"))]},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"}),"\n        "]}),"\n      "]}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("newsItemGallery"),Template.newsItemGallery=new Template("Template.newsItemGallery",function(){var e=this;return HTML.DIV({"class":"ni-gallery-wrap"},"\n\n    ",HTML.DIV({"class":"ni-gallery-desc"},"\n      ",Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("news"),"text")))}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("newsItemHeader"),Template.newsItemHeader=new Template("Template.newsItemHeader",function(){var n=this;return HTML.DIV({"class":"ni-header-wrap"},"\n\n    ",HTML.DIV({"class":"ni-to-list"},"\n      ",HTML.A({href:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("news"),"subject"))},function(){return Blaze.View("lookup:pathFor",function(){return Spacebars.mustache(n.lookup("pathFor"),"newsAlumniList")})},function(){return Blaze.View("lookup:pathFor",function(){return Spacebars.mustache(n.lookup("pathFor"),"newsList")})})}},"\n\n        ",HTML.Raw('<span class="c-pgnarr-arr -l"></span>'),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("news"),"subject"))},function(){return["\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"newsItem.toAlumniList")}),"\n        "]},function(){return["\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"newsItem.toList")}),"\n        "]}),"\n\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"ni-header"},"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("news"),"subject"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(n.lookup("getSubject"))},function(){return["\n          ",HTML.DIV({"class":"ni-type"},"\n\n            ",HTML.SPAN({"class":"ni-type-ic"},"\n              ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))},alt:function(){return Spacebars.mustache(n.lookup("name"))}}),"\n            "),"\n\n            ",HTML.SPAN(Blaze.View("lookup:$str",function(){return Spacebars.mustache(n.lookup("$str"),n.lookup("name"))})),"\n\n          "),"\n        "]}),"\n      "]}),"\n\n      ",HTML.DIV({"class":"ni-name"},"\n        ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(n.lookup("$str"),Spacebars.dot(n.lookup("news"),"name"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"ni-date-wrap"},"\n\n        ",HTML.DIV({"class":"ni-date"},"\n          ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),Spacebars.dot(n.lookup("news"),"date"),"D MMMM")}),"\n        "),"\n\n        ",HTML.Raw('<div class="ni-date-line"></div>'),"\n\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("newsItemNews"),Template.newsItemNews=new Template("Template.newsItemNews",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("otherNews"),"length"))},function(){return["\n    ",HTML.DIV({"class":"ni-news-wrap"},"\n      ",HTML.DIV({"class":"ni-news-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"newsItem.newsTitle")}),"\n      "),"\n\n      ",HTML.DIV({"class":"ni-news-list clearfix"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("otherNews"))},function(){return["\n          ",HTML.A({"class":function(){return["ni-news-card",Blaze.If(function(){return Spacebars.call(e.lookup("coverImage"))},function(){return" has-image"})]},href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n\n            ",HTML.DIV({"class":"nws-img",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("coverImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("coverImage"))}),"') no-repeat center / cover;"]})}}),"\n\n            ",HTML.DIV({"class":"nws-mask"}),"\n\n            ",HTML.DIV({"class":"ni-news-content"},"\n\n              ",HTML.DIV({"class":"ni-news-date"},"\n                ",HTML.SPAN({"class":"ni-news-day"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"DD")})),HTML.SPAN("/")," ",HTML.SPAN(Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"MM")})),"\n              "),"\n\n              ",HTML.DIV({"class":"ni-news-name"},"\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n              "),"\n\n              ",Blaze._TemplateWith(function(){return{className:Spacebars.call("ni-news-dtls")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n\n            "),"\n\n          "),"\n        "]}),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("newsItemPagination"),Template.newsItemPagination=new Template("Template.newsItemPagination",function(){var e=this;return HTML.DIV({"class":"ni-pagination-wrap"},"\n    ",HTML.DIV({"class":"ni-pagination clearfix"},"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("getAdjacents"),"0"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("newsItem.prevNews"),className:Spacebars.call("ni-prev")}},function(){return Spacebars.include(e.lookupTemplate("btnBack"))}),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("getAdjacents"),"1"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("newsItem.nextNews"),className:Spacebars.call("ni-next")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n        "),"\n      "]}),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("newsItemShare"),Template.newsItemShare=new Template("Template.newsItemShare",function(){var e=this;return HTML.DIV({"class":"ni-share"},"\n\n    ",HTML.SPAN({"class":"ni-share-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"newsItem.share")})),"\n\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("ni-share-btns"),shareData:Spacebars.call(e.lookup("shareData"))}},function(){return Spacebars.include(e.lookupTemplate("btnsShare"))}),"\n\n  ")})}();

!function(){Template.__checkName("newsListItem"),Template.newsListItem=new Template("Template.newsListItem",function(){var n=this;return HTML.A({"class":function(){return["nws-news",Blaze.If(function(){return Spacebars.call(n.lookup("coverImage"))},function(){return" has-image"})]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"newsItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n    ",HTML.DIV({"class":"nws-img",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("coverImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("coverImage"))}),"') no-repeat center / cover;"]})}}),HTML.Raw('\n\n    <div class="nws-mask"></div>\n\n    '),HTML.DIV({"class":"nws-news-content"},"\n      ",HTML.DIV({"class":"nws-date"},"\n\n        ",HTML.DIV({"class":"nws-day"},"\n          ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("date"),"DD")}),"\n        "),"\n\n        ",HTML.DIV({"class":"nws-month"},"\n          / ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("date"),"MM")}),"\n        "),"\n\n      "),"\n\n      ",HTML.DIV({"class":"nws-info"},"\n\n        ",HTML.DIV({"class":"nws-name"},"\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n        "),"\n\n        ",HTML.DIV({"class":"nws-dtls"},"\n\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.details")}),"\n            "),"\n\n            ",HTML.Raw('<span class="nws-plus">\n              +\n            </span>'),"\n\n        "),"\n\n      "),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("purListLeftSide"),Template.purListLeftSide=new Template("Template.purListLeftSide",function(){var e=this;return HTML.DIV({"class":"pus-left-side"},"\n    ",HTML.DIV({"class":"pus-left-tl"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.leftTl")}),"\n    "),"\n\n    ",HTML.DIV({"class":"pus-fltr"},"\n      ",HTML.DIV({"class":function(){return["pus-slctds ",Spacebars.mustache(e.lookup("showFilter"))]}},"\n\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("pur.directions")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilteredBlock"))}),"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("pur.coaches")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilteredBlock"))}),"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("pur.audiences")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilteredBlock"))}),"\n        ",Blaze._TemplateWith(function(){return{type:Spacebars.call("pur.regions")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilteredBlock"))}),"\n\n        ",HTML.DIV({"class":function(){return["pus-slctds-block",Blaze.Unless(function(){return Spacebars.call(e.lookup("existDateFilter"))},function(){return" hidden"})]}},"\n          ",HTML.DIV({"class":"pus-slctd"},"\n            ",HTML.SPAN(Blaze.View("lookup:getMonthLbl",function(){return Spacebars.mustache(e.lookup("getMonthLbl"),"pur.month-from","MMMM")})," ",Blaze.View("lookup:$.Session.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.year-from")})),"\n            ",HTML.Raw("<span>-</span>"),"\n            ",HTML.SPAN(Blaze.View("lookup:getMonthLbl",function(){return Spacebars.mustache(e.lookup("getMonthLbl"),"pur.month-to","MMMM")})," ",Blaze.View("lookup:$.Session.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.year-to")})),"\n            ",HTML.Raw('<div class="pus-slctd-close t-fltr-rm-date">&times;</div>'),"\n          "),"\n        "),"\n\n      "),"\n\n      ",HTML.DIV({"class":function(){return["pus-fltr-clear ",Spacebars.mustache(e.lookup("showFilter"))," t-fltr-clear"]}},"\n        ",HTML.DIV({"class":"pus-clear-slctr"},"\n          ",HTML.Raw('<div class="pus-clear-icon"></div>'),"\n\n          ",HTML.DIV({"class":"pus-clear-fltr"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.clearFltr")}),"\n          "),"\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":"pus-fltr-blocks"},"\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("pur.areas"),data:Spacebars.call(e.lookup("directions")),type:Spacebars.call("pur.directions")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilterBlock"))}),"\n\n        ",HTML.DIV({"class":"pus-fltr-block"},"\n\n          ",HTML.DIV({"class":"pus-fltr-topper"},"\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.coaches")}),"\n            "),"\n            ",HTML.Raw('<div class="pus-fltr-ctrl">\n              <div class="pus-ctrl-plus">+</div>\n              <div class="pus-ctrl-minus">-</div>\n            </div>'),"\n          "),"\n\n          ",HTML.DIV({"class":"pus-fltr-content"},"\n            ",HTML.Raw('<div class="pus-fltr-search">\n              <div class="pus-search-icon">\n                <i class="fa fa-search pus-fa-search"></i>\n              </div>\n              <input type="text" class="pus-coach-search">\n            </div>'),"\n\n            ",HTML.DIV({"class":"pus-fltr-scroll"},"\n              ",Blaze.Each(function(){return Spacebars.call(e.lookup("coaches"))},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("coachHasPrograms"))},function(){return["\n                  ",HTML.DIV({"data-type":"pur.coaches","class":function(){return["pus-fltr-option pus-fltr-o-coach t-fltr ",Spacebars.mustache(e.lookup("coachActive"))," ",Spacebars.mustache(e.lookup("findCoach"))]}},"\n                    ",HTML.DIV({"class":"pus-coach-avtr"},"\n                      ",Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return["\n                        ",HTML.IMG({"class":"pus-coach-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("image"))}}),"\n                      "]}),"\n                    "),"\n\n                    ",HTML.DIV({"class":"pus-coach-name"},"\n                      ",HTML.SPAN("\n                        ",Blaze.View("lookup:lastName",function(){return Spacebars.mustache(e.lookup("lastName"))})," ",Blaze.View("lookup:firstName",function(){return Spacebars.mustache(e.lookup("firstName"))}),"\n                      "),"\n                    "),"\n\n                    ",HTML.DIV({"class":"pus-coach-num"},"\n                      ",HTML.SPAN("\n                        ",Blaze.View("lookup:getProgramCounter",function(){return Spacebars.mustache(e.lookup("getProgramCounter"),"coaches")}),"\n                      "),"\n                    "),"\n                  "),"\n                "]}),"\n              "]}),"\n            "),"\n\n          "),"\n        "),"\n\n        ",HTML.DIV({"class":"pus-fltr-block"},"\n          ",HTML.DIV({"class":"pus-fltr-topper"},"\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.dates")}),"\n            "),"\n\n            ",HTML.Raw('<div class="pus-fltr-ctrl">\n              <div class="pus-ctrl-plus">+</div>\n              <div class="pus-ctrl-minus">-</div>\n            </div>'),"\n          "),"\n\n          ",HTML.DIV({"class":"pus-fltr-content"},"\n            ",HTML.DIV({"class":"pus-fltr-date"},"\n              ",HTML.DIV({"class":"pus-date-block t-show-dp left","data-href":"pus-dp-from"},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.month-from")},function(){return["\n                  ",HTML.DIV({"class":"pus-date-month"},"\n                    ",Blaze.View("lookup:getMonthLbl",function(){return Spacebars.mustache(e.lookup("getMonthLbl"),"pur.month-from","MMM")}),"\n                  "),"\n                  ",HTML.DIV({"class":"pus-date-year"},"\n                    ",Blaze.View("lookup:$.Session.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.year-from")}),"\n                  "),"\n                "]},function(){return["\n                  ",HTML.DIV({"class":"pus-arrow-bottom"}),"\n                "]}),"\n              "),"\n\n              ",HTML.Raw('<div class="pus-date-line"></div>'),"\n\n              ",HTML.DIV({"class":"pus-date-block t-show-dp right","data-href":"pus-dp-to"},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.month-to")},function(){return["\n                  ",HTML.DIV({"class":"pus-date-month"},"\n                    ",Blaze.View("lookup:getMonthLbl",function(){return Spacebars.mustache(e.lookup("getMonthLbl"),"pur.month-to","MMM")}),"\n                  "),"\n                  ",HTML.DIV({"class":"pus-date-year"},"\n                    ",Blaze.View("lookup:$.Session.get",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("$"),"Session","get"),"pur.year-to")}),"\n                  "),"\n                "]},function(){return["\n                  ",HTML.DIV({"class":"pus-arrow-bottom"}),"\n                "]}),"\n              "),"\n            "),"\n\n            ",Blaze._TemplateWith(function(){return{type:Spacebars.call("from")}},function(){return Spacebars.include(e.lookupTemplate("purDatePicker"))}),"\n            ",Blaze._TemplateWith(function(){return{type:Spacebars.call("to")}},function(){return Spacebars.include(e.lookupTemplate("purDatePicker"))}),"\n          "),"\n        "),"\n\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("pur.audience"),data:Spacebars.call(e.lookup("audiences")),type:Spacebars.call("pur.audiences")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilterBlock"))}),"\n        ",Blaze._TemplateWith(function(){return{label:Spacebars.call("pur.region"),data:Spacebars.call(e.lookup("regions")),type:Spacebars.call("pur.regions")}},function(){return Spacebars.include(e.lookupTemplate("purListLeftSideFilterBlock"))}),"\n\n\n      "),"\n    "),"\n  ")}),Template.__checkName("purListLeftSideFilteredBlock"),Template.purListLeftSideFilteredBlock=new Template("Template.purListLeftSideFilteredBlock",function(){var e=this;return HTML.DIV({"class":function(){return["pus-slctds-block",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("existFilterType"),e.lookup("type"))},function(){return" hidden"})]}},"\n    ",Blaze.Each(function(){return Spacebars.dataMustache(Spacebars.dot(e.lookup("$"),"Session","get"),e.lookup("type"))},function(){return["\n      ",HTML.DIV({"class":"pus-slctd"},"\n        ",HTML.SPAN("\n          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n        "),"\n        ",HTML.DIV({"data-type":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"type"))},"class":"pus-slctd-close t-fltr-rm"},HTML.CharRef({html:"&times;",str:"×"})),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("purListLeftSideFilterBlock"),Template.purListLeftSideFilterBlock=new Template("Template.purListLeftSideFilterBlock",function(){var e=this;return HTML.DIV({"class":"pus-fltr-block"},"\n    ",HTML.DIV({"class":"pus-fltr-topper"},"\n      ",HTML.SPAN("\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("label"))}),"\n      "),"\n\n      ",HTML.Raw('<div class="pus-fltr-ctrl">\n        <div class="pus-ctrl-plus">\n          +\n        </div>\n\n        <div class="pus-ctrl-minus">\n          -\n        </div>\n      </div>'),"\n    "),"\n\n    ",HTML.DIV({"class":"pus-fltr-content"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("data"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getProgramCounter"),Spacebars.dot(e.lookup(".."),"type"))},function(){return["\n          ",HTML.DIV({"class":function(){return["pus-fltr-option t-fltr ",Spacebars.mustache(e.lookup("checkActive"),Spacebars.dot(e.lookup(".."),"type"))]},"data-type":function(){return Spacebars.mustache(Spacebars.dot(e.lookup(".."),"type"))}},"\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," (",Blaze.View("lookup:getProgramCounter",function(){return Spacebars.mustache(e.lookup("getProgramCounter"),Spacebars.dot(e.lookup(".."),"type"))}),")\n            "),"\n          "),"\n        "]}),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("purListRightSide"),Template.purListRightSide=new Template("Template.purListRightSide",function(){var e=this;return HTML.DIV({"class":"pus-right-side"},"\n    ",HTML.DIV({"class":"pus-right-topper"},"\n      ",HTML.A({target:"_blank","class":"pus-topper-link",href:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("calendar"))},function(){return Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(e.lookup("assetUrl"),"PDF",Spacebars.dot(e.lookup("calendar"),"pdf"))})})},download:"Календар. ПУР.pdf"},"\n        ",HTML.Raw('<div class="pus-icon-dl"></div>'),"\n\n        ",HTML.DIV({"class":"pus-right-tl"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.rightTl")}),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"pus-items"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("$map"),e.lookup("programs"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purProgram",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n          ",HTML.DIV({"class":function(){return["pus-month-topper",Blaze.If(function(){return Spacebars.call(e.lookup("$showMonth"))},function(){return" -show"}),Blaze.If(function(){return Spacebars.call(e.lookup("newMonth"))},function(){return" new-month"})]}},"\n            ",HTML.DIV({"class":"pus-month-name"},"\n              ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MMMM")})," ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"YYYY")}),"\n            "),"\n          "),"\n\n          ",HTML.DIV({"class":"pus-item"},"\n            ",HTML.DIV({"class":"pus-item-date"},"\n              ",Blaze.If(function(){return Spacebars.call(e.lookup("hideDay"))},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("hideDayNote"))},function(){return["\n                  ",Blaze.View("lookup:hideDayNote",function(){return Spacebars.mustache(e.lookup("hideDayNote"))}),"\n                "]}),"\n              "]},function(){return["\n                ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"0"),"DD")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"0"),"MM")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"0"),"YYYY")})," -\n                ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"1"),"DD")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"1"),"MM")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),Spacebars.dot(e.lookup("period"),"1"),"YYYY")}),"\n              "]}),"\n            "),"\n\n            ",HTML.DIV({"class":"pus-item-lng"},"\n              ",Blaze.View("lookup:duration",function(){return Spacebars.mustache(e.lookup("duration"))}),"\n            "),"\n\n            ",HTML.DIV({"class":"pus-btn-clrd",style:function(){return["background: ",Spacebars.mustache(e.lookup("directionColor")),";"]}},"\n              ",HTML.BUTTON({"class":"pus-btn"},"\n                ",Blaze.View("lookup:directionLbl",function(){return Spacebars.mustache(e.lookup("directionLbl"))}),"\n              "),"\n            "),"\n\n            ",HTML.DIV({"class":"pus-item-name"},"\n              ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n            "),"\n\n            ",HTML.DIV({"class":"pus-item-desc"},"\n              ",Blaze.View("lookup:shortDesc",function(){return Spacebars.mustache(e.lookup("shortDesc"))}),"\n            "),"\n          "),"\n        "),"\n      "]}),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("purProgramActions"),Template.purProgramActions=new Template("Template.purProgramActions",function(){var a=this;return[HTML.TABLE({"class":"pur-actions"},"\n    ",HTML.TR("\n\n      ",HTML.TD({"class":"pur-cb t-opn-pur-cb","data-form":"cb"},"\n        ",HTML.SPAN({"class":"pur-cb-ic pur-action-ic"}),"\n        ",HTML.SPAN({"class":"pur-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pur.talkToManager")})),"\n      "),"\n\n      ",HTML.TD({"class":"pur-meeting"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),a.lookup("getActionPath"),Spacebars.kw({_id:Spacebars.dot(a.lookup("program"),"masterClass")}))}},"\n          ",HTML.TABLE({"class":"pur-actions"},"\n            ",HTML.TR("\n              ",HTML.TD("\n                ",HTML.SPAN({"class":"pur-meeting-ic pur-action-ic"}),"\n                ",HTML.SPAN({"class":"pur-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"pur.regMasterClass"))})),"\n              "),"\n            "),"\n          "),"\n        "),"\n      "),"\n\n      ",HTML.TD({"class":"pur-to-form"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"applicationForm",Spacebars.kw({type:"pur",id:a.lookup("getProgramHrlOrId")}))}},"\n          ",HTML.TABLE({"class":"pur-actions"},"\n            ",HTML.TR("\n              ",HTML.TD("\n                ",HTML.SPAN({"class":"pur-form-ic pur-action-ic"}),"\n                ",HTML.SPAN({"class":"pur-action-lbl"},Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"mba.toForm"))})),"\n              "),"\n            "),"\n          "),"\n        "),"\n      "),"\n\n    "),"\n  "),"\n\n  ",HTML.DIV({"class":"pur-actions-forms"},"\n    ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("callbackFormData"))},function(){return Spacebars.include(a.lookupTemplate("cFormCallback"))}),"\n    ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("meetFormData"))},function(){return Spacebars.include(a.lookupTemplate("cFormMeeting"))}),"\n  ")]})}();

!function(){Template.__checkName("purProgramAudience"),Template.purProgramAudience=new Template("Template.purProgramAudience",function(){var e=this;return HTML.DIV({"class":"pur-audience"},"\n\n    ",HTML.DIV({"class":"pur-audience-tl"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.programAudience")}),"\n    "),"\n\n    ",HTML.DIV({"class":"pur-audience-bl"},"\n      ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("program"),"audienceTitle"))}),"\n    "),"\n\n    ",HTML.DIV({"class":"pur-audience-items"},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"audience","length"))},function(){return["\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"audience"))},function(){return["\n          ",HTML.DIV({"class":"pur-audience-item"},"\n            ",HTML.DIV({"class":"pur-audience-line",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("getDirectionColor"))},function(){return["background: ",Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(e.lookup("getDirectionColor"))}),";"]})}}),"\n\n            ",HTML.DIV({"class":"pur-audience-il"},"\n              ",Blaze.View("lookup:..desc",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"desc"))}),"\n            "),"\n          "),"\n        "]}),"\n      "]}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("purProgramCoaches"),Template.purProgramCoaches=new Template("Template.purProgramCoaches",function(){var a=this;return HTML.DIV({"class":"pur-coaches"},"\n    ",HTML.DIV({"class":"pur-coaches-topper"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pur.coachesAndExperts")}),"\n    "),"\n\n    ",HTML.DIV({"class":function(){return["pur-author pur-content",Blaze.Unless(function(){return Spacebars.call(a.lookup("hasCoaches"))},function(){return" one-coach"}),Blaze.If(function(){return Spacebars.call(a.lookup("hasOneCoachAndOneAuthor"))},function(){return" one-coach"})]}},"\n      ",Blaze.If(function(){return Spacebars.call(a.lookup("hasOneCoachAndOneAuthor"))},function(){return["\n\n        ",Blaze.Each(function(){return Spacebars.call(a.lookup("getMainAuthors"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup(".")),count:Spacebars.call(2)}},function(){return Spacebars.include(a.lookupTemplate("purProgramAuthorItem"))}),"\n        "]}),"\n\n        ",Blaze.Each(function(){return Spacebars.call(a.lookup("getCoaches"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup(".")),count:Spacebars.call(2)}},function(){return Spacebars.include(a.lookupTemplate("purProgramAuthorItem"))}),"\n        "]}),"\n\n      "]},function(){return["\n\n        ",Blaze.If(function(){return Spacebars.call(a.lookup("hasOneAuthor"))},function(){return["\n          ",Blaze.Each(function(){return Spacebars.call(a.lookup("getMainAuthors"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup(".")),count:Spacebars.call(1)}},function(){return Spacebars.include(a.lookupTemplate("purProgramAuthorItem"))}),"\n          "]}),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(a.lookup("hasTwoAuthors"))},function(){return["\n          ",Blaze.Each(function(){return Spacebars.call(a.lookup("getMainAuthors"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup(".")),count:Spacebars.call(2)}},function(){return Spacebars.include(a.lookupTemplate("purProgramAuthorItem"))}),"\n          "]}),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(a.lookup("hasThreeAuthors"))},function(){return["\n          ",Blaze.Each(function(){return Spacebars.call(a.lookup("getMainAuthors"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup(".")),count:Spacebars.call(3)}},function(){return Spacebars.include(a.lookupTemplate("purProgramAuthorItem"))}),"\n          "]}),"\n        "]}),"\n\n      "]}),"\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(a.lookup("hasCoaches"))},function(){return["\n      ",Blaze.Unless(function(){return Spacebars.call(a.lookup("hasOneCoachAndOneAuthor"))},function(){return["\n        ",HTML.DIV({"class":"pur-coach-items pur-content"},"\n\n          ",Blaze.Each(function(){return Spacebars.call(a.lookup("getCoaches"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{coach:Spacebars.call(a.lookup("."))}},function(){return Spacebars.include(a.lookupTemplate("purProgramCoachItem"))}),"\n          "]}),"\n\n        "),"\n      "]}),"\n    "]}),"\n  ")}),Template.__checkName("purProgramAuthorItem"),Template.purProgramAuthorItem=new Template("Template.purProgramAuthorItem",function(){var a=this;return HTML.DIV({"class":function(){return["pur-author-item pur-author-",Spacebars.mustache(a.lookup("count"))]}},"\n    ",HTML.DIV({"class":"pur-author-inside"},"\n\n      ",HTML.DIV({"class":"pur-author-img",style:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("getCoachImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("getCoachImage"))}),"') no-repeat left top / cover;"]})}}),"\n\n      ",HTML.DIV({"class":"pur-author-content"},"\n        ",HTML.DIV({"class":"pur-author-teacher"},"\n          ",Blaze.View("lookup:getCoachField",function(){return Spacebars.mustache(a.lookup("getCoachField"),a.lookup("coach"),"role")}),"\n        "),"\n\n        ",HTML.DIV({"class":"pur-author-name"},"\n          ",Blaze.View("lookup:coach.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("coach"),"firstName"))})," ",Blaze.View("lookup:coach.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("coach"),"lastName"))}),"\n        "),"\n\n        ",HTML.DIV({"class":"pur-author-desc"},"\n\n          ",Blaze.View("lookup:getCoachField",function(){return Spacebars.mustache(a.lookup("getCoachField"),a.lookup("coach"),"desc")}),"\n\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("coach"),"articles","length"))},function(){return["\n            ",HTML.A({"class":"cos-coach-link",href:function(){return Spacebars.mustache(a.lookup("pathFor"),"coachItem",Spacebars.kw({_id:a.lookup("getCoachHrlOrId")}))}},"\n              ",HTML.DIV({"class":"pur-author-articles"},"\n\n                ",HTML.SPAN("\n                  Статті автора\n                "),"\n\n                ",HTML.SPAN({"class":"pur-author-plus"},"\n                  +\n                "),"\n\n              "),"\n            "),"\n          "]}),"\n\n        "),"\n\n      "),"\n\n      ",Spacebars.With(function(){return Spacebars.call(a.lookup("."))},function(){return["\n        ",Spacebars.include(a.lookupTemplate("purProgramCoachSquare")),"\n      "]}),"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("coach"),"desc","length"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(a.lookup("coach"))},function(){return["\n          ",Spacebars.include(a.lookupTemplate("purProgramCoachButton")),"\n        "]}),"\n      "]}),"\n\n    "),"\n  ")}),Template.__checkName("purProgramCoachItem"),Template.purProgramCoachItem=new Template("Template.purProgramCoachItem",function(){var a=this;return HTML.DIV({"class":"pur-coach",style:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("getCoachImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("getCoachImage"))}),"') no-repeat center top / cover;"]})}},"\n\n    ",Spacebars.With(function(){return Spacebars.call(a.lookup("."))},function(){return["\n      ",Spacebars.include(a.lookupTemplate("purProgramCoachSquare")),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("coach"),"desc","length"))},function(){return["\n      ",Spacebars.With(function(){return Spacebars.call(a.lookup("coach"))},function(){return["\n        ",Spacebars.include(a.lookupTemplate("purProgramCoachButton")),"\n      "]}),"\n    "]}),"\n\n  ")}),Template.__checkName("purProgramCoachSquare"),Template.purProgramCoachSquare=new Template("Template.purProgramCoachSquare",function(){var a=this;return HTML.DIV({"class":"pur-coach-square"},"\n    ",HTML.DIV({"class":"pur-coach-mask",style:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("getDirectionColor"))},function(){return["background: ",Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(a.lookup("getDirectionColor"))}),";"]})}}),"\n\n    ",HTML.DIV({"class":"pur-coach-info"},"\n      ",HTML.DIV({"class":"pur-coach-status"},"\n        ",Blaze.View("lookup:getCoachField",function(){return Spacebars.mustache(a.lookup("getCoachField"),a.lookup("coach"),"role")}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-coach-name"},"\n        ",Blaze.View("lookup:coach.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("coach"),"firstName"))})," ",Blaze.View("lookup:coach.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("coach"),"lastName"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-coach-desc"},"\n        ",Blaze.View("lookup:getCoachField",function(){return Spacebars.mustache(a.lookup("getCoachField"),a.lookup("coach"),"desc")}),"\n      "),"\n    "),"\n  ")}),Template.__checkName("purProgramCoachButton"),Template.purProgramCoachButton=new Template("Template.purProgramCoachButton",function(){var a=this;return HTML.A({"class":"pur-coach-link",href:function(){return Spacebars.mustache(a.lookup("pathFor"),"coachItem",Spacebars.kw({_id:a.lookup("getHrlOrId")}))}},"\n    ",HTML.BUTTON({"class":"pur-coach-btn"},"\n\n      ",HTML.SPAN({"class":"pur-coach-details"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"slider.more")}),"\n      "),"\n\n      ",HTML.Raw('<span class="pur-coach-plus">\n        +\n      </span>'),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("purProgramContacts"),Template.purProgramContacts=new Template("Template.purProgramContacts",function(){var n=this;return HTML.DIV({"class":"pur-cts-wrap"},"\n    ",HTML.DIV({"class":"pur-cts"},"\n\n      ",HTML.DIV({"class":"pur-cts-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.contacts")}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-cts-persons"},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(n.lookup("program"),"contactsItem"))},function(){return["\n          ",HTML.DIV({"class":"pur-cts-p"},"\n\n            ",HTML.DIV({"class":"pur-cts-p-photo -big"},"\n              ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("getContactImage"))},alt:function(){return[Spacebars.mustache(n.lookup("getContactField"),"firstName")," ",Spacebars.mustache(n.lookup("getContactField"),"lastName")," ",Spacebars.mustache(n.lookup("getContactField"),"spec","occupation")]}}),"\n            "),"\n\n            ",HTML.DIV({"class":"pur-cts-p-photo -small",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("getContactSmallImage"))},function(){return["background-image: url(",Blaze.View("lookup:getContactSmallImage",function(){return Spacebars.mustache(n.lookup("getContactSmallImage"))}),");"]})}}),"\n\n            ",HTML.DIV({"class":"pur-cts-p-info"},"\n\n              ",HTML.DIV({"class":"pur-cts-p-name"},Blaze.View("lookup:getContactField",function(){return Spacebars.mustache(n.lookup("getContactField"),"firstName")})," ",Blaze.View("lookup:getContactField",function(){return Spacebars.mustache(n.lookup("getContactField"),"lastName")})),"\n\n              ",HTML.DIV({"class":"pur-cts-p-position"},Blaze.View("lookup:getContactField",function(){return Spacebars.mustache(n.lookup("getContactField"),"spec","occupation")})),"\n\n              ",HTML.DIV({"class":"pur-cts-p-cts"},"\n\n                ",Blaze.If(function(){return Spacebars.call(n.lookup("hasPhones"))},function(){return["\n                  ",HTML.DIV("\n\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.contactsTel")}),":\n\n                    ",Blaze.Each(function(){return Spacebars.dataMustache(n.lookup("getContactField"),"phones","phone")},function(){return["\n                      ",Blaze.View("lookup:.",function(){return Spacebars.mustache(n.lookup("."))})," ",HTML.BR(),"\n                    "]}),"\n\n                  "),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.call(n.lookup("hasEmail"))},function(){return["\n                  ",HTML.DIV("\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.contactsEmail")}),": ",Blaze.View("lookup:getContactField",function(){return Spacebars.mustache(n.lookup("getContactField"),"email")}),"\n                  "),"\n                "]}),"\n\n              "),"\n\n              ",Blaze.If(function(){return Spacebars.call(n.lookup("answersQuestions"))},function(){return["\n                ",Blaze._TemplateWith(function(){return{className:Spacebars.call("pur-cts-cb t-opn-pur-cts")}},function(){return Spacebars.include(n.lookupTemplate("btnCallback"))}),"\n              "]}),"\n\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("getContactField"),"desc")},function(){return["\n                ",Spacebars.With(function(){return Spacebars.call(n.lookup("getContact"))},function(){return["\n                  ",Blaze.If(function(){return Spacebars.call(n.lookup("isTeammate"))},function(){return["\n                    ",HTML.A({"class":"cos-coach-link",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"teamItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n                      ",HTML.SPAN({"class":"pur-cts-modal"},"\n                        ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("pur.details")}},function(){return Spacebars.include(n.lookupTemplate("btnDetails"))}),"\n                      "),"\n                    "),"\n                  "]},function(){return["\n                    ",HTML.SPAN({"class":"pur-cts-modal pur-cts-fake"},"\n                      ",Blaze._TemplateWith(function(){return{caption:Spacebars.call("pur.details")}},function(){return Spacebars.include(n.lookupTemplate("btnDetails"))}),"\n                    "),"\n                  "]}),"\n                "]}),"\n              "]}),"\n\n            "),"\n\n          "),"\n        "]}),"\n      "),"\n\n    "),"\n\n    ",HTML.DIV({"class":"pur-cts-form mba-cts-form"},"\n      ",Blaze._TemplateWith(function(){return Spacebars.call(n.lookup("callbackFormData"))},function(){return Spacebars.include(n.lookupTemplate("cFormCallback"))}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("purProgramEvents"),Template.purProgramEvents=new Template("Template.purProgramEvents",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"recommend","length"))},function(){return["\n    ",HTML.DIV({"class":"pur-evs-wrap"},"\n      ",HTML.DIV({"class":"pur-evs-t"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.events")}),"\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(1200),container:Spacebars.call(".t-evs-list"),inner:Spacebars.call(".t-evs-pane"),move:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("scrHorizontal"),function(){return["\n        ",HTML.DIV({"class":"pur-evs-list t-evs-list"},"\n          ",HTML.DIV({"class":"pur-evs-pane t-evs-pane",style:function(){return Spacebars.mustache(e.lookup("paneWidth"))}},"\n\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("recommend"))},function(){return["\n              ",HTML.DIV({"class":"pur-ev-item"},"\n\n                ",HTML.DIV({"class":"pur-ev-bg",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("getImage"))},function(){return["background: url('",Blaze.View("lookup:getImage",function(){return Spacebars.mustache(e.lookup("getImage"))}),"') no-repeat center / cover;"]})}}),"\n\n                ",HTML.DIV({"class":"pur-ev-info"},"\n\n                  ",HTML.DIV({"class":"pur-ev-label",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("getDirectionColor"))},function(){return["background: ",Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(e.lookup("getDirectionColor"))}),";"]})}},"\n                    ",Blaze.View("lookup:getDirectionName",function(){return Spacebars.mustache(e.lookup("getDirectionName"))}),"\n                  "),"\n\n                  ",HTML.DIV({"class":"pur-ev-t"},"\n                    ",Blaze.View("lookup:getField",function(){return Spacebars.mustache(e.lookup("getField"),"name")}),"\n                  "),"\n\n                "),"\n\n                ",HTML.DIV({"class":"pur-ev-i-dtls",style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("getDirectionColor"))},function(){return["background: ",Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(e.lookup("getDirectionColor"))}),";"]})}},"\n\n                  ",HTML.DIV({"class":"pur-ev-dtlscont"},"\n\n                    ",HTML.DIV({"class":"pur-ev-sdsc"},"\n                      ",Blaze.View("lookup:getField",function(){return Spacebars.mustache(e.lookup("getField"),"shortDesc")}),"\n                    "),"\n\n                    ",HTML.DIV({"class":"pur-ev-rblocks"},"\n                      ",HTML.DIV({"class":"pur-topper-rblock pur-topper-calendar"},"\n                        ",HTML.DIV({"class":"pur-topper-rtl"},"\n                          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.programStart")}),":\n                        "),"\n\n                        ",HTML.DIV({"class":"pur-topper-rbl"},"\n                          ",Blaze.View("lookup:getStartDate",function(){return Spacebars.mustache(e.lookup("getStartDate"))}),"\n                        "),"\n                      "),"\n\n                      ",HTML.DIV({"class":"pur-topper-rblock pur-topper-clock"},"\n                        ",HTML.DIV({"class":"pur-topper-rtl"},"\n                          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.duration")}),":\n                        "),"\n\n                        ",HTML.DIV({"class":"pur-topper-rbl"},"\n                          ",Blaze.View("lookup:getField",function(){return Spacebars.mustache(e.lookup("getField"),"duration")}),"\n                        "),"\n                      "),"\n                    "),"\n\n                  "),"\n\n                  ",HTML.A({"class":"pur-ev-details",href:function(){return["/pur/",Spacebars.mustache(e.lookup("getField"),"_id")]}},"\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.evDetails")})," +\n                  "),"\n\n                "),"\n\n              "),"\n            "]}),"\n\n          "),"\n        "),"\n      "]})}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("purProgramFacilities"),Template.purProgramFacilities=new Template("Template.purProgramFacilities",function(){var a=this;return HTML.DIV({"class":"mba-vista-wrap"},"\n    ",HTML.DIV({"class":"mba-vista"},"\n\n      ",HTML.DIV({"class":"mba-vista-title"},"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"benefitsTitle"))},function(){return["\n          ",Blaze.View("lookup:program.benefitsTitle",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("program"),"benefitsTitle"))}),"\n        "]},function(){return["\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.vistaTitle")}),"\n        "]}),"\n      "),"\n\n      ",HTML.DIV({"class":function(){return["mba-vista-list ",Spacebars.mustache(a.lookup("getClassSize"))]}},"\n\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"benefits","items"))},function(){return["\n          ",HTML.DIV({"class":"mba-vista-item"},"\n\n            ",HTML.DIV({"class":"mba-vista-ic-block"},"\n              ",HTML.Comment(' <img src="{{assetUrl \'ImageFiles\' logo}}" alt="{{text}}"/> '),"\n\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("logo"))},function(){return["\n                ",HTML.OBJECT({"class":"pur-fac-obj","data-color":function(){return Blaze.If(function(){return Spacebars.call(a.lookup("getDirectionColor"))},function(){return Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(a.lookup("getDirectionColor"))})})},type:"image/svg+xml",data:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("logo"))}}),"\n              "]}),"\n\n            "),"\n\n            ",HTML.DIV({"class":"mba-vista-desc"},"\n              ",Blaze.View("lookup:text",function(){return Spacebars.mustache(a.lookup("text"))}),"\n            "),"\n\n          "),"\n        "]}),"\n        ",HTML.Raw('<div class="clearfix"></div>'),"\n      "),"\n\n    "),"\n  ")})}();

!function(){Template.__checkName("purProgramInterviews"),Template.purProgramInterviews=new Template("Template.purProgramInterviews",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"reviews","length"))},function(){return["\n\n    ",HTML.DIV({"class":"mi-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"pur.graduatesSay")})),"\n\n    ",HTML.DIV({"class":function(){return["mi-wrap",Blaze.If(function(){return Spacebars.call(e.lookup("ownState"))},function(){return" -t"})]}},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachIndex"),Spacebars.dot(e.lookup("program"),"reviews"))},function(){return["\n        ",Blaze._TemplateWith(function(){return{state:Spacebars.call(e.lookup("ownState")),index:Spacebars.call(e.lookup("index")),value:Spacebars.call(e.lookup("value"))}},function(){return Spacebars.include(e.lookupTemplate("purInterviewsItem"))}),"\n      "]}),"\n      ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("gt"),Spacebars.dot(e.lookup("interviews"),"length"),1)},function(){return["\n        ",Blaze._TemplateWith(function(){return{className:Spacebars.call("mi-pgn")}},function(){return Spacebars.include(e.lookupTemplate("btnPaginationArrows"))}),"\n      "]}),"\n      ",Blaze._TemplateWith(function(){return{className:Spacebars.call("mi-play")}},function(){return Spacebars.include(e.lookupTemplate("btnPlayBig"))}),"\n    "),"\n\n  "]})}),Template.__checkName("purInterviewsItem"),Template.purInterviewsItem=new Template("Template.purInterviewsItem",function(){var e=this;return HTML.DIV({"class":function(){return["mi-itm ",Spacebars.mustache(e.lookup("isFirstItem"))," ",Spacebars.mustache(e.lookup("isClear"))]}},"\n    ",HTML.DIV({"class":"mi-nm"},Blaze.View("lookup:value.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("value"),"name"))})),"\n    ",HTML.DIV({"class":"mi-dsc"},Blaze.View("lookup:value.occupation",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("value"),"occupation"))})),"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("value"),"video"))},function(){return["\n      ",HTML.IFRAME({"class":"mi-img",src:function(){return["//player.vimeo.com/video/",Spacebars.mustache(Spacebars.dot(e.lookup("value"),"video")),"?badge=0&byline=0&loop=1&title=0"]},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"}),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("purProgramStructure"),Template.purProgramStructure=new Template("Template.purProgramStructure",function(){var e=this;return HTML.DIV({"class":"pur-ste-wrap"},"\n\n    ",HTML.DIV({"class":"pur-ste"},"\n      ",HTML.DIV({"class":"pur-ste-title"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.structure")}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-ste-length"},"\n        ",Blaze.View("lookup:program.duration",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("program"),"duration"))})," [",Blaze.View("lookup:program.time",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("program"),"time"))}),"]\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(300),container:Spacebars.call(".t-ste-list"),inner:Spacebars.call(".t-ste-pane"),move:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("scrHorizontal"),function(){return["\n        ",HTML.DIV({"class":"pur-ste-list t-ste-list"},"\n          ",HTML.DIV({"class":"pur-ste-pane t-ste-pane",style:function(){return Spacebars.mustache(e.lookup("paneWidth"))}},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("program"),"structureBlocks","length"))},function(){return["\n              ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("$map"),Spacebars.dot(e.lookup("program"),"structureBlocks"))},function(){return["\n                ",HTML.DIV({"class":"pur-ste-item"},"\n\n                  ",HTML.DIV({"class":"pur-ste-content"},"\n\n                    ",HTML.DIV({"class":"pur-ste-num"},"\n                      ",HTML.SPAN("\n                        ",Blaze.View("lookup:structureSingleName",function(){return Spacebars.mustache(e.lookup("structureSingleName"))})," ",Blaze.View("lookup:$num",function(){return Spacebars.mustache(e.lookup("$num"))}),"\n                      "),"\n                    "),"\n\n                    ",HTML.DIV({"class":"pur-ste-name"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),e.lookup("name"))})),"\n\n                    ",HTML.DIV({"class":"pur-ste-label"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),e.lookup("desc"))})),"\n\n                  "),"\n\n                  ",Blaze.If(function(){return Spacebars.call(e.lookup("courses"))},function(){return["\n\n                    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("text"),"length"))},function(){return["\n                      ",HTML.DIV({"class":"pur-ste-details"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.details")})," +"),"\n                    "]}),"\n\n                    ",HTML.DIV({"class":function(){return["pur-ste-item-hovered",Blaze.If(function(){return Spacebars.call(e.lookup("hasEmptyText"))},function(){return" empty-text"})]}},"\n\n                      ",HTML.DIV({"class":"pur-ste-course-cap"},Blaze.View("lookup:structureListName",function(){return Spacebars.mustache(e.lookup("structureListName"))})),"\n\n                      ",HTML.DIV({"class":"pur-ste-courses"},"\n\n                        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("courses"),"length"))},function(){return["\n                          ",HTML.DIV({"class":"pur-ste-course"},"\n                            ",Blaze.View("lookup:courses",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("courses")))}),"\n                          "),"\n                        "]}),"\n\n                      "),"\n\n                      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("text"),"length"))},function(){return["\n                        ",HTML.DIV({"class":"pur-ste-details"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.details")})," +"),"\n                      "]}),"\n\n                    "),"\n\n                  "]}),"\n\n                "),"\n              "]}),"\n            "]}),"\n          "),"\n        "),"\n      "]})}),"\n    "),"\n\n    ",HTML.DIV({"class":function(){return["pur-ste-modal",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("modalBlock"),"opened"))},function(){return" -open"})]}},"\n      ",HTML.Raw('<div class="pur-ste-close t-close-modal"></div>'),"\n\n      ",HTML.DIV({"class":"pur-ste-title"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.structure")}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-ste-length"},"\n        ",Blaze.View("lookup:program.duration",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("program"),"duration"))})," [",Blaze.View("lookup:program.time",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("program"),"time"))}),"]\n      "),"\n\n      ",HTML.DIV({"class":"pur-ste-card"},"\n        ",HTML.DIV({"class":"pur-ste-item"},"\n\n          ",HTML.DIV({"class":"pur-ste-num"},"\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:structureSingleName",function(){return Spacebars.mustache(e.lookup("structureSingleName"))})," ",Blaze.View("lookup:modalBlock.$num",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("modalBlock"),"$num"))}),"\n            "),"\n          "),"\n\n          ",HTML.DIV({"class":"pur-ste-name"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("modalBlock"),"name"))})),"\n\n          ",HTML.DIV({"class":"pur-ste-label"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("modalBlock"),"desc"))})),"\n\n        "),"\n\n        ",HTML.DIV({"class":"pur-ste-courses-wrap"},"\n\n          ",HTML.DIV({"class":"pur-course-text"},"\n            ",Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("modalBlock"),"text")))}),"\n          "),"\n\n        "),"\n      "),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("purProgramTopper"),Template.purProgramTopper=new Template("Template.purProgramTopper",function(){var r=this;return HTML.DIV({"class":function(){return["pur-topper",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"image"))},function(){return" has-image"})]},style:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"image"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(r.lookup("assetUrl"),"ImageFiles",Spacebars.dot(r.lookup("program"),"image"))}),"') no-repeat center / cover;"]})}},"\n    ",HTML.DIV({"class":"pur-content pur-topper-content"},"\n\n      ",HTML.DIV("\n        ",HTML.A({"class":"pur-all-link",href:function(){return Spacebars.mustache(r.lookup("pathFor"),"purList",Spacebars.kw({query:r.lookup("purListQuery")}))}},"\n\n          ",HTML.Raw('<div class="pur-all-arrow"></div>'),"\n\n          ",HTML.DIV({"class":"pur-all-label"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"pur.allPrograms")})," ",Blaze.View("lookup:getDirectionName",function(){return Spacebars.mustache(r.lookup("getDirectionName"))}),"\n          "),"\n\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":"pus-btn-clrd",style:function(){return Blaze.If(function(){return Spacebars.call(r.lookup("getDirectionColor"))},function(){return["background: ",Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(r.lookup("getDirectionColor"))}),";"]})}},"\n        ",HTML.BUTTON({"class":"pus-btn"},"\n          ",Blaze.View("lookup:getDirectionName",function(){return Spacebars.mustache(r.lookup("getDirectionName"))}),"\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-topper-name"},"\n        ",Blaze.View("lookup:program.name",function(){return Spacebars.mustache(Spacebars.dot(r.lookup("program"),"name"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-topper-desc"},"\n        ",Blaze.View("lookup:program.shortDesc",function(){return Spacebars.mustache(Spacebars.dot(r.lookup("program"),"shortDesc"))}),"\n      "),"\n\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"benefits","pdf","length"))},function(){return["\n        ",HTML.A({"class":"pur-dl-pdf",href:function(){return Spacebars.mustache(r.lookup("assetUrl"),"PDF",Spacebars.dot(r.lookup("program"),"benefits","pdf"))},target:"_blank"},"\n\n          ",HTML.DIV({"class":"pus-icon-dl"}),"\n\n          ",HTML.DIV({"class":"pur-dl-label"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"pur.downloadPDF")}),"\n          "),"\n\n        "),"\n      "]}),"\n\n    "),"\n\n    ",HTML.DIV({"class":"pur-topper-right"},"\n      ",HTML.DIV({"class":"pus-valign"},"\n\n        ",HTML.DIV({"class":"pur-topper-rblock pur-topper-rhalf pur-topper-calendar"},"\n\n          ",HTML.DIV({"class":"pur-topper-rtl"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"pur.programStart")}),":\n          "),"\n\n          ",HTML.DIV({"class":"pur-topper-rbl"},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"hideDay"))},function(){return["\n              ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(r.lookup("parseDate"),Spacebars.dot(r.lookup("program"),"startDate"),"MMMM YYYY")}),"\n            "]},function(){return["\n              ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(r.lookup("parseDate"),Spacebars.dot(r.lookup("program"),"startDate"),"D MMMM")}),"\n            "]}),"\n          "),"\n\n          ",HTML.Raw('<div class="pur-topper-icalendar"></div>'),"\n\n          ",HTML.OBJECT({"class":"pur-topper-icon pur-topper-icalendar","data-color":function(){return Blaze.If(function(){return Spacebars.call(r.lookup("getDirectionColor"))},function(){return Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(r.lookup("getDirectionColor"))})})},type:"image/svg+xml",data:"/img/pur/calendar.svg"}),"\n\n        "),"\n\n        ",HTML.DIV({"class":"pur-topper-rblock pur-topper-rhalf pur-topper-clock"},"\n\n          ",HTML.DIV({"class":"pur-topper-rtl"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"mba.duration")}),":\n          "),"\n\n          ",HTML.DIV({"class":"pur-topper-rbl"},"\n            ",Blaze.View("lookup:program.duration",function(){return Spacebars.mustache(Spacebars.dot(r.lookup("program"),"duration"))}),"\n          "),"\n\n          ",HTML.OBJECT({"class":"pur-topper-icon pur-topper-iclock","data-color":function(){return Blaze.If(function(){return Spacebars.call(r.lookup("getDirectionColor"))},function(){return Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(r.lookup("getDirectionColor"))})})},type:"image/svg+xml",data:"/img/pur/clock.svg"}),"\n\n        "),"\n\n        ",HTML.DIV({"class":"pur-topper-rblock pur-topper-list"},"\n\n          ",HTML.DIV({"class":"pur-topper-rtl"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"pur.entryRequirements")}),"\n          "),"\n\n          ",HTML.DIV({"class":"pur-topper-rbl"},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"enterReqs","length"))},function(){return["\n              ",Blaze.Each(function(){return Spacebars.dataMustache(r.lookup("split"),Spacebars.dot(r.lookup("program"),"enterReqs"),"\n")},function(){return["\n                ",HTML.DIV({"class":"pur-topper-rbl-indent"},"\n                  ",Blaze.View("lookup:.",function(){return Spacebars.mustache(r.lookup("."))}),"\n                "),"\n              "]}),"\n            "]}),"\n          "),"\n\n          ",HTML.OBJECT({"class":"pur-topper-icon pur-topper-ilist","data-color":function(){return Blaze.If(function(){return Spacebars.call(r.lookup("getDirectionColor"))},function(){return Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(r.lookup("getDirectionColor"))})})},type:"image/svg+xml",data:"/img/pur/list.svg"}),"\n\n        "),"\n\n        ",HTML.DIV({"class":"pur-topper-rblock pur-topper-cost"},"\n\n          ",HTML.DIV({"class":"pur-topper-rtl"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"mba.cost")}),":\n          "),"\n\n          ",HTML.DIV({"class":"pur-topper-rcl"},"\n            ",Blaze.View("lookup:program.price",function(){return Spacebars.mustache(Spacebars.dot(r.lookup("program"),"price"))})," грн\n          "),"\n\n          ",HTML.DIV({"class":"pur-topper-rdesc"},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"priceNote","length"))},function(){return["\n              ",Blaze.Each(function(){return Spacebars.dataMustache(r.lookup("split"),Spacebars.dot(r.lookup("program"),"priceNote"),"\n")},function(){return["\n                ",HTML.DIV("\n                  ",Blaze.View("lookup:.",function(){return Spacebars.mustache(r.lookup("."))}),"\n                "),"\n              "]}),"\n            "]}),"\n          "),"\n\n          ",HTML.OBJECT({"class":"pur-topper-icon pur-topper-icost","data-color":function(){return Blaze.If(function(){return Spacebars.call(r.lookup("getDirectionColor"))},function(){return Blaze.View("lookup:getDirectionColor",function(){return Spacebars.mustache(r.lookup("getDirectionColor"))})})},type:"image/svg+xml",data:"/img/pur/cost.svg"}),"\n\n        "),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"partners","length"))},function(){return["\n          ",HTML.DIV({"class":"pur-topper-rblock pur-topper-cost"},"\n\n            ",HTML.DIV({"class":"pur-topper-rtl"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"pur.partners")}),":\n            "),"\n\n            ",HTML.DIV({"class":"pur-topper-partners"},"\n              ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"partners"))},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(r.lookup("image"))},function(){return["\n                  ",Blaze.If(function(){return Spacebars.call(r.lookup("url"))},function(){return["\n                    ",HTML.A({href:function(){return Spacebars.mustache(r.lookup("url"))},target:"_blank"},"\n                      ",Spacebars.include(r.lookupTemplate("purProgramTopperPartner")),"\n                    "),"\n                  "]},function(){return["\n                    ",Spacebars.include(r.lookupTemplate("purProgramTopperPartner")),"\n                  "]}),"\n                "]}),"\n              "]}),"\n            "),"\n\n          "),"\n        "]}),"\n\n      "),"\n    "),"\n  ")}),Template.__checkName("purProgramTopperPartner"),Template.purProgramTopperPartner=new Template("Template.purProgramTopperPartner",function(){var r=this;return HTML.IMG({"class":"pur-topper-partner",alt:function(){return Spacebars.mustache(r.lookup("name"))},src:function(){return Spacebars.mustache(r.lookup("assetUrl"),"ImageFiles",r.lookup("image"))}})})}();

!function(){Template.__checkName("alSlider"),Template.alSlider=new Template("Template.alSlider",function(){var a=this;return HTML.DIV({"class":function(){return["al-slider ",Spacebars.mustache(a.lookup("className"))]}},"\n    ",HTML.DIV({"class":"al-sl-pane"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("$map"),a.lookup("alumnies"))},function(){return["\n        ",HTML.A({"class":function(){return["al-sl-itm",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("$eq"),a.lookup("$index"),0)},function(){return" -active"})," ",Spacebars.mustache(a.lookup("getHrlOrId"))]},href:function(){return Spacebars.mustache(a.lookup("pathFor"),"newsAlumniItem",Spacebars.kw({_id:a.lookup("getHrlOrId")}))}},"\n          ",Blaze._TemplateWith(function(){return{alumni:Spacebars.call(a.lookup("."))}},function(){return Spacebars.include(a.lookupTemplate("alItem"))}),"\n        "),"\n      "]}),"\n    "),"\n    ",HTML.DIV({"class":function(){return Blaze.If(function(){return Spacebars.dataMustache(a.lookup("$lt"),Spacebars.dot(a.lookup("alumnies"),"length"),2)},function(){return"hidden"})}},"\n      ",HTML.Raw('<div class="al-sl-pgntn">\n        <div class="ms-arr -l t-left"></div>\n        <div class="ms-arr -r t-right"></div>\n      </div>'),"\n    "),"\n  ")}),Template.__checkName("alItem"),Template.alItem=new Template("Template.alItem",function(){var a=this;return HTML.DIV({"class":"al-itm-wrap"},"\n    ",HTML.DIV({"class":"al-itm-bg",style:function(){return["background-image: url(",Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",Spacebars.dot(a.lookup("alumni"),"image")),");"]}},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("alumni"),"video"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("$isYoutube"),Spacebars.dot(a.lookup("alumni"),"video"))},function(){return["\n          ",HTML.IFRAME({"class":"mi-img",src:function(){return["https://www.youtube.com/v/",Spacebars.mustache(Spacebars.dot(a.lookup("alumni"),"video")),"?version=3&rel=0&wmode=opaque&modestbranding=1&iv_load_policy=3&showinfo=0"]},frameborder:"0",type:"text/html",wmode:"opaque"}),"\n        "]},function(){return["\n          ",HTML.IFRAME({"class":"mi-img",src:function(){return["//player.vimeo.com/video/",Spacebars.mustache(Spacebars.dot(a.lookup("alumni"),"video")),"?badge=0&byline=0&loop=1&title=0"]},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"}),"\n        "]}),"\n      "]}),"\n    "),"\n    ",HTML.DIV({"class":"al-itm-info"},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("alumni"),"citation"))},function(){return["\n        ",HTML.DIV({"class":"al-itm-citation"},"\n          ",Blaze.View("lookup:alumni.citation",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("alumni"),"citation"))}),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"al-itm-name"},"\n        ",Blaze.View("lookup:alumni.name",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("alumni"),"name"))}),"\n      "),"\n      ",HTML.DIV({"class":"al-itm-job"},"\n        ",Blaze.View("lookup:alumni.job",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("alumni"),"job"))}),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("cMaskBlocker"),Template.cMaskBlocker=new Template("Template.cMaskBlocker",function(){var e=this;return[HTML.DIV({"class":"c-msb -t",style:function(){return Spacebars.mustache(e.lookup("getBgColor"))}}),"\n  ",HTML.DIV({"class":"c-msb -r",style:function(){return Spacebars.mustache(e.lookup("getBgColor"))}}),"\n  ",HTML.DIV({"class":"c-msb -b",style:function(){return Spacebars.mustache(e.lookup("getBgColor"))}}),"\n  ",HTML.DIV({"class":"c-msb -l",style:function(){return Spacebars.mustache(e.lookup("getBgColor"))}})]})}();

!function(){Template.__checkName("btnBack"),Template.btnBack=new Template("Template.btnBack",function(){var a=this;return HTML.DIV({"class":function(){return["c-btn-b ",Spacebars.mustache(a.lookup("className"))]}},HTML.Raw('\n    <div class="ui-back"></div>'),Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),a.lookup("caption"))}),"\n  ")})}();

!function(){Template.__checkName("btnSimple"),Template.btnSimple=new Template("Template.btnSimple",function(){var e=this;return HTML.DIV({"class":function(){return["c-btn-s ",Spacebars.mustache(e.lookup("className"))]}},"\n    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("caption"))}),HTML.Raw('<div class="ui-next"></div>\n  '))})}();

!function(){Template.__checkName("btnCallback"),Template.btnCallback=new Template("Template.btnCallback",function(){var a=this;return HTML.DIV({"class":function(){return["c-btn-cb ",Spacebars.mustache(a.lookup("className"))]}},"\n    ",HTML.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"41px",height:"40px",viewBox:"0 0 41 40"},"\n      ",HTML.USE({"xlink:href":"#svg-callback-ic"}),"\n    "),"\n    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.callback")}),"\n  ")})}();

!function(){Template.__checkName("btnCallbackSvg"),Template.btnCallbackSvg=new Template("Template.btnCallbackSvg",function(){var l=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:"display: none",width:"41px",height:"40px",viewBox:"0 0 41 40"},"\n    ",HTML.PATH({id:"svg-callback-ic",fillrule:"evenodd",d:"M 20.5 39.56C 9.72 39.56 0.94 30.78 0.94 20 0.94 9.22 9.72 0.44 20.5 0.44 31.28 0.44 40.06 9.22 40.06 20 40.06 30.78 31.28 39.56 20.5 39.56ZM 20.5 2.44C 10.82 2.44 2.94 10.32 2.94 20 2.94 29.68 10.82 37.56 20.5 37.56 30.18 37.56 38.06 29.68 38.06 20 38.06 10.32 30.18 2.44 20.5 2.44ZM 25.38 31.01C 25.38 31.01 15.62 31.01 15.62 31.01 14.73 31.01 14 30.24 14 29.31 14 29.31 14 10.7 14 10.7 14 9.76 14.73 8.99 15.62 8.99 15.62 8.99 25.38 8.99 25.38 8.99 26.27 8.99 27 9.76 27 10.7 27 10.7 27 29.31 27 29.31 27 30.24 26.27 31.01 25.38 31.01ZM 16 29.01C 16 29.01 18.95 29.01 18.95 29.01 18.69 28.67 18.54 28.26 18.54 27.82 18.54 27.5 18.62 27.24 18.75 27.02 18.75 27.02 16 27.02 16 27.02 16 27.02 16 29.01 16 29.01ZM 25 10.99C 25 10.99 16 10.99 16 10.99 16 10.99 16 11.97 16 11.97 16 11.97 25 11.97 25 11.97 25 11.97 25 10.99 25 10.99ZM 25 13.97C 25 13.97 16 13.97 16 13.97 16 13.97 16 25.02 16 25.02 16 25.02 25 25.02 25 25.02 25 25.02 25 13.97 25 13.97ZM 25 27.02C 25 27.02 22.25 27.02 22.25 27.02 22.38 27.24 22.46 27.5 22.46 27.82 22.46 28.26 22.31 28.67 22.05 29.01 22.05 29.01 25 29.01 25 29.01 25 29.01 25 27.02 25 27.02Z"}),"\n  ")})}();

!function(){Template.__checkName("btnDetails"),Template.btnDetails=new Template("Template.btnDetails",function(){var e=this;return HTML.DIV({"class":function(){return["c-dtls ",Spacebars.mustache(e.lookup("className"))]}},Blaze.View("lookup:getCaption",function(){return Spacebars.mustache(e.lookup("getCaption"))}),HTML.Raw('<i class="fa fa-plus"></i>'))})}();

!function(){Template.__checkName("btnPaginationArrows"),Template.btnPaginationArrows=new Template("Template.btnPaginationArrows",function(){var a=this;return HTML.DIV({"class":function(){return["c-pgnarr ",Spacebars.mustache(a.lookup("className"))]}},HTML.Raw('\n    <div class="c-pgnarr-arr -l t-p-p"></div>\n    <div class="c-pgnarr-arr -r t-p-n"></div>\n  '))})}();

!function(){Template.__checkName("btnPlayBig"),Template.btnPlayBig=new Template("Template.btnPlayBig",function(){var a=this;return HTML.DIV({"class":function(){return["c-play-b ",Spacebars.mustache(a.lookup("className"))]}})})}();

!function(){Template.__checkName("btnPlay"),Template.btnPlay=new Template("Template.btnPlay",function(){var a=this;return HTML.DIV({"class":function(){return["c-play ",Spacebars.mustache(a.lookup("className"))]}},HTML.Raw('\n    <div class="c-play-trn"></div>\n  '))})}();

!function(){Template.__checkName("btnsFullWidth"),Template.btnsFullWidth=new Template("Template.btnsFullWidth",function(){var n=this;return HTML.DIV({"class":function(){return["c-btnfw ",Spacebars.mustache(n.lookup("className"))]}},"\n    ",Blaze.Each(function(){return Spacebars.call(n.lookup("buttons"))},function(){return["\n      ",HTML.DIV({"class":function(){return["c-btnfw-it ",Spacebars.mustache(n.lookup("className"))]}},"\n        ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("icon"))},alt:function(){return Spacebars.mustache(n.lookup("name"))}}),"\n        ",HTML.SPAN({"class":"c-btnfw-lbl"},Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))})),"\n      "),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("btnsShareSVGFB"),Template.btnsShareSVGFB=new Template("Template.btnsShareSVGFB",function(){var e=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"11px",height:"19px",viewBox:"0 0 11 19",style:"display: none;"},"\n  ",HTML.PATH({id:"svg-soc-fb",d:"M 10.01 0.47C 10.01 0.47 7.31 0.47 7.31 0.47 7.31 0.47 2.89 0.02 2.89 4.44 2.89 5.38 2.89 6.27 2.89 6.27 2.89 6.27 0.91 6.27 0.91 6.27 0.91 6.27 0.88 9.19 0.88 9.19 0.88 9.19 2.89 9.19 2.89 9.19 2.89 9.19 2.89 18.99 2.89 18.99 2.89 18.99 6.96 18.99 6.96 18.99 6.96 18.99 6.96 9.19 6.96 9.19 6.96 9.19 9.5 9.19 9.5 9.19 9.5 9.19 10.09 6.27 10.09 6.27 10.09 6.27 7.08 6.27 7.08 6.27 7.08 6.27 7.08 4.85 7.08 4.85 7.08 4.85 6.83 3.66 8.32 3.66 8.32 3.66 9.98 3.66 9.98 3.66 9.98 3.66 10.01 0.47 10.01 0.47Z"}))})}();

!function(){Template.__checkName("btnsShareSVGGG"),Template.btnsShareSVGGG=new Template("Template.btnsShareSVGGG",function(){var e=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"23px",height:"19px",viewBox:"0 0 23 19",style:"display: none;"},"\n  ",HTML.PATH({id:"svg-soc-gg",d:"M 18.88 4.88C 18.88 6.05 18.86 7.13 18.86 8.31 18.49 8.31 17.92 8.31 17.55 8.31 17.55 7.14 17.53 6.04 17.53 4.88 16.4 4.83 15.26 4.89 14.09 4.88 14.09 4.51 14.09 3.89 14.09 3.51 15.26 3.51 16.33 3.51 17.51 3.51 17.51 2.38 17.53 1.3 17.53 0.17 17.53 0.14 17.5 0.11 17.53 0.11 17.89 0.11 18.5 0.11 18.86 0.11 18.86 1.25 18.83 2.37 18.83 3.51 19.96 3.56 21.13 3.5 22.29 3.51 22.29 3.89 22.29 4.51 22.29 4.88 21.12 4.88 20.04 4.88 18.88 4.88ZM 9.99 0.96C 10.97 1.78 11.84 2.82 11.77 4.51 11.7 6.22 10.61 6.9 9.62 7.71 9.4 7.89 9.05 8.27 8.96 8.5 8.6 9.45 9.56 9.98 10.05 10.35 10.5 10.68 10.89 10.97 11.23 11.27 11.96 11.9 12.66 12.7 12.65 14.08 12.65 15.6 11.78 16.65 10.8 17.35 9.83 18.04 8.43 18.52 7.01 18.66 5.34 18.81 3.77 18.61 2.56 18.08 1.47 17.59 0.35 16.69 0.35 15.2 0.35 14.43 0.68 13.67 1.1 13.2 3.13 10.94 4.57 11.3 7.22 11.1 7.08 10.82 6.69 10.49 6.55 10.07 6.38 9.53 6.49 8.93 6.73 8.5 5.03 8.72 3.67 8.23 2.78 7.36 2.01 6.63 1.42 5.37 1.72 3.93 1.99 2.69 2.72 1.8 3.63 1.18 4.59 0.53 5.76 0.09 7.28 0.09 9.16 0.09 11.17 0.09 13.17 0.09 13.17 0.09 11.53 0.96 11.53 0.96 11.05 0.96 10.58 0.96 9.99 0.96ZM 3.87 12.6C 3.48 12.84 3.01 13.2 2.75 13.89 2.58 14.35 2.58 14.95 2.71 15.41 3.08 16.73 4.64 17.48 6.28 17.62 8.04 17.78 9.82 17.5 10.59 16.25 11.01 15.57 11.02 14.58 10.61 13.91 10.13 13.12 9.47 12.77 8.77 12.28 8.55 12.13 8.34 11.88 8.06 11.81 7.86 11.76 7.46 11.8 7.24 11.81 5.84 11.87 4.72 12.08 3.87 12.6ZM 7.43 1.18C 7.08 0.98 6.52 0.87 6 0.92 4.97 1.03 4.3 1.68 4.06 2.38 3.72 3.38 3.99 4.71 4.34 5.58 4.73 6.52 5.33 7.29 6.06 7.64 7.24 8.2 8.8 7.64 9.28 6.63 9.41 6.36 9.48 5.95 9.5 5.65 9.62 3.71 8.59 1.84 7.43 1.18Z"}))})}();

!function(){Template.__checkName("btnsShareSVGTW"),Template.btnsShareSVGTW=new Template("Template.btnsShareSVGTW",function(){var e=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"22px",height:"18px",viewBox:"0 0 22 18",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-soc-tw",d:"M 19.44 4.79C 19.45 4.97 19.46 5.16 19.46 5.35 19.46 11.13 15.06 17.78 7.03 17.78 4.56 17.78 2.27 17.06 0.33 15.82 0.67 15.86 1.02 15.88 1.37 15.88 3.42 15.88 5.3 15.18 6.8 14.01 4.89 13.98 3.27 12.71 2.72 10.98 2.99 11.03 3.26 11.06 3.54 11.06 3.94 11.06 4.32 11 4.69 10.9 2.69 10.5 1.19 8.73 1.19 6.62 1.19 6.6 1.19 6.58 1.19 6.56 1.78 6.89 2.45 7.09 3.17 7.11 1.99 6.33 1.22 4.99 1.22 3.47 1.22 2.67 1.44 1.92 1.81 1.28 3.97 3.92 7.19 5.66 10.82 5.84 10.74 5.52 10.71 5.19 10.71 4.85 10.71 2.43 12.66 0.48 15.07 0.48 16.33 0.48 17.47 1.01 18.26 1.86 19.26 1.66 20.19 1.3 21.04 0.8 20.71 1.82 20.02 2.67 19.12 3.21 20 3.11 20.84 2.88 21.62 2.53 21.04 3.4 20.3 4.17 19.44 4.79Z"}),"\n  ")})}();

!function(){Template.__checkName("btnsShare"),Template.btnsShare=new Template("Template.btnsShare",function(){var t=this;return HTML.DIV({"class":function(){return["c-btns-shr ",Spacebars.mustache(t.lookup("className"))]}},"\n    ",HTML.SPAN({"class":"c-btns-shr-nw -fb"},"\n      ",HTML.SPAN({"class":"c-btns-shr-i -f"},"\n        ",HTML.SVG("\n          ",HTML.USE({"xlink:href":"#svg-soc-fb"}),"\n        "),"\n      "),"\n      ",HTML.SPAN({"class":"c-btns-shr-c"},Blaze.View("lookup:fbCount",function(){return Spacebars.mustache(t.lookup("fbCount"))})),"\n    "),"\n\n    ",HTML.SPAN({"class":"c-btns-shr-nw -tw"},"\n      ",HTML.SPAN({"class":"c-btns-shr-i -t"},"\n        ",HTML.SVG("\n          ",HTML.USE({"xlink:href":"#svg-soc-tw"}),"\n        "),"\n      "),"\n      ",HTML.SPAN({"class":"c-btns-shr-c"},Blaze.View("lookup:twCount",function(){return Spacebars.mustache(t.lookup("twCount"))})),"\n    "),"\n\n    ",HTML.SPAN({"class":"c-btns-shr-nw -gg"},"\n      ",HTML.SPAN({"class":"c-btns-shr-i -g"},"\n        ",HTML.SVG("\n          ",HTML.USE({"xlink:href":"#svg-soc-gg"}),"\n        "),"\n      "),"\n      ",HTML.SPAN({"class":"c-btns-shr-c"},Blaze.View("lookup:ggCount",function(){return Spacebars.mustache(t.lookup("ggCount"))})),"\n    "),"\n\n    ",HTML.DIV({"class":"hidden"},"\n      ",HTML.Raw('<meta property="og:type" content="article">'),"\n      ",HTML.META({property:"og:site_name",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"siteName"))}}),"\n      ",HTML.META({property:"og:url",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"url"))}}),"\n      ",HTML.META({property:"og:title",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("shareData"),"title"))}}),"\n      ",HTML.META({property:"og:description",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("shareData"),"description"))}}),"\n      ",HTML.META({property:"og:image",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"img"))}}),"\n\n      ",HTML.Raw('<meta property="twitter:card" content="summary">'),"\n      ",HTML.META({property:"twitter:url",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"url"))}}),"\n      ",HTML.META({property:"twitter:title",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("shareData"),"title"))}}),"\n      ",HTML.META({property:"twitter:description",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("shareData"),"description"))}}),"\n      ",HTML.META({property:"twitter:image",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"img"))}}),"\n      ",HTML.META({property:"twitter:image:src",content:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("metaData"),"img"))}}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("cFormCallback"),Template.cFormCallback=new Template("Template.cFormCallback",function(){var e=this;return HTML.FORM({"class":"c-fm-form -cb","data-trigger":function(){return Spacebars.mustache(e.lookup("trigger"))}},HTML.Raw('\n    <div class="c-fm-close-form t-close-form"></div>\n    '),HTML.DIV({"class":function(){return Blaze.If(function(){return Spacebars.call(e.lookup("submited"))},function(){return"hidden"})}},"\n      ",Blaze._TemplateWith(function(){return{title:Spacebars.call(e.lookup("title"))}},function(){return Spacebars.include(e.lookupTemplate("cFormHeader"))}),"\n      ",Spacebars.include(e.lookupTemplate("cInputName")),"\n      ",Spacebars.include(e.lookupTemplate("cInputTel")),"\n      ",Spacebars.include(e.lookupTemplate("cInputTime")),"\n      ",Spacebars.include(e.lookupTemplate("cInputSubmit")),"\n    "),"\n    ",HTML.DIV({"class":function(){return["c-fm-submited-wrp ",Blaze.Unless(function(){return Spacebars.call(e.lookup("submited"))},function(){return"hidden"})]}},"\n      ",Spacebars.include(e.lookupTemplate("cFormSubmited")),"\n    "),"\n  ")}),Template.__checkName("cFormMeeting"),Template.cFormMeeting=new Template("Template.cFormMeeting",function(){var e=this;return HTML.FORM({"class":"c-fm-form -meeting","data-trigger":function(){return Spacebars.mustache(e.lookup("trigger"))}},HTML.Raw('\n    <div class="c-fm-close-form t-close-form"></div>\n    '),HTML.DIV({"class":function(){return Blaze.If(function(){return Spacebars.call(e.lookup("submited"))},function(){return"hidden"})}},"\n      ",Blaze._TemplateWith(function(){return{title:Spacebars.call(e.lookup("title"))}},function(){return Spacebars.include(e.lookupTemplate("cFormHeader"))}),"\n      ",Spacebars.include(e.lookupTemplate("cInputName")),"\n      ",Spacebars.include(e.lookupTemplate("cInputTel")),"\n      ",Spacebars.include(e.lookupTemplate("cInputSubmit")),"\n    "),"\n    ",HTML.DIV({"class":function(){return["c-fm-submited-wrp ",Blaze.Unless(function(){return Spacebars.call(e.lookup("submited"))},function(){return"hidden"})]}},"\n      ",Spacebars.include(e.lookupTemplate("cFormSubmited")),"\n    "),"\n  ")}),Template.__checkName("cFormHeader"),Template.cFormHeader=new Template("Template.cFormHeader",function(){var e=this;return HTML.DIV({"class":"c-fm-form-title"},"\n    ",Blaze.View("lookup:title",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("title")))}),"\n  ")}),Template.__checkName("cFormSubmited"),Template.cFormSubmited=new Template("Template.cFormSubmited",function(){var e=this;return HTML.DIV({"class":"c-fm-submited"},"\n    ",HTML.DIV({"class":"c-fm-form-title"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.formSubmitedTitle")}),"\n    "),"\n    ",HTML.DIV({"class":"c-fm-form-submited"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"mba.formSubmitedDesc"))}),"\n    "),"\n  ")}),Template.__checkName("cInputName"),Template.cInputName=new Template("Template.cInputName",function(){var e=this;return HTML.DIV({"class":"c-fm-form-input"},"\n    ",HTML.DIV({"class":"c-fm-form-label -valign"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.inputName")}),"\n    "),HTML.Raw('\n    <div class="c-fm-input-field">\n      <input type="text" name="name">\n    </div>\n    <div class="c-fm-form-error"></div>\n  '))}),Template.__checkName("cInputTel"),Template.cInputTel=new Template("Template.cInputTel",function(){var e=this;return HTML.DIV({"class":"c-fm-form-input"},"\n    ",HTML.DIV({"class":"c-fm-form-label -valign"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.inputTel")}),"\n    "),HTML.Raw('\n    <div class="c-fm-input-field">\n      <div class="c-fm-masked-field">\n        <span>+38 (</span><input type="text" class="t-code" name="code"><span>)</span><input type="text" class="t-tel" name="tel">\n      </div>\n    </div>\n    <div class="c-fm-form-error"></div>\n  '))}),Template.__checkName("cInputTime"),Template.cInputTime=new Template("Template.cInputTime",function(){var e=this;return HTML.DIV({"class":"c-fm-form-input"},"\n    ",HTML.DIV({"class":"c-fm-form-label"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.inputTime")}),"\n    "),HTML.Raw('\n    <div class="c-fm-input-field">\n      <input type="text" name="time">\n    </div>\n  '))}),Template.__checkName("cInputSubmit"),Template.cInputSubmit=new Template("Template.cInputSubmit",function(){var e=this;return HTML.DIV({"class":"c-fm-form-input"},"\n    ",HTML.DIV({"class":"c-fm-input-field"},"\n      ",HTML.BUTTON({type:"sumbit"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mba.formSubmit")})),"\n    "),"\n  ")})}();

!function(){Template.__checkName("formInput"),Template.formInput=new Template("Template.formInput",function(){var e=this;return HTML.DIV({"class":"c-fi-input"},"\n    ",HTML.DIV({"class":"c-fi-label"},"\n      ",HTML.DIV({"class":"c-fi-label-inner"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("label"))}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"c-fi-field"},"\n      ",HTML.INPUT({type:function(){return Spacebars.mustache(e.lookup("type"))},name:function(){return Spacebars.mustache(e.lookup("name"))}}),"\n    "),HTML.Raw('\n    <div class="c-fi-error"></div>\n  '))})}();

!function(){Template.__checkName("formSubmit"),Template.formSubmit=new Template("Template.formSubmit",function(){var e=this;return HTML.DIV({"class":"c-fi-input"},"\n    ",HTML.DIV({"class":"c-fi-field"},"\n      ",HTML.BUTTON({"class":"c-fi-submit",type:"sumbit"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("label"))})),"\n    "),"\n  ")})}();

!function(){Template.__checkName("formTextarea"),Template.formTextarea=new Template("Template.formTextarea",function(){var e=this;return HTML.DIV({"class":"c-fi-input"},"\n    ",HTML.DIV({"class":"c-fi-label"},"\n      ",HTML.DIV({"class":"c-fi-label-inner"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),e.lookup("label"))}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"c-fi-field"},"\n      ",HTML.TEXTAREA({"class":"c-fi-textarea",name:function(){return Spacebars.mustache(e.lookup("name"))}}),"\n    "),HTML.Raw('\n    <div class="c-fi-error"></div>\n  '))})}();

!function(){Template.__checkName("mbaBgVideoMain"),Template.mbaBgVideoMain=new Template("Template.mbaBgVideoMain",function(){var e=this;return HTML.DIV({"class":"c-mba-bg-video-main-wrap"},"\n    ",HTML.VIDEO({"class":function(){return["c-mba-bg-video-main ",Spacebars.mustache(e.lookup("className"))]},loop:"loop",preload:"auto",muted:""},"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".webm"]},type:"video/webm"}),"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".mp4"]},type:"video/mp4"}),"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".ogv"]},type:"video/ogg"}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaBgVideo"),Template.mbaBgVideo=new Template("Template.mbaBgVideo",function(){var e=this;return HTML.DIV({"class":"c-mba-bg-video-wrap"},"\n    ",HTML.VIDEO({"class":function(){return["c-mba-bg-video ",Spacebars.mustache(e.lookup("className"))]},loop:"loop",preload:"auto",muted:""},"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".mp4"]},type:"video/mp4"}),"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".webm"]},type:"video/webm"}),"\n      ",HTML.SOURCE({src:function(){return["/video/mba/",Blaze.If(function(){return Spacebars.call(e.lookup("videoName"))},function(){return Blaze.View("lookup:videoName",function(){return Spacebars.mustache(e.lookup("videoName"))})},function(){return"1"}),".ogv"]},type:"video/ogg"}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaSVGFilter"),Template.mbaSVGFilter=new Template("Template.mbaSVGFilter",function(){var e=this;return[HTML.DEFS("\n    ",HTML.FILTER({id:"a",filterUnits:"userSpaceOnUse",x:"0",y:"0",width:"356",height:"167"},"\n      ",HTML.FECOLORMATRIX({values:"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0","color-interpolation-filters":"sRGB",result:"source"}),"\n      ",HTML.FEFLOOD({result:"back","flood-color":"#fff","flood-opacity":"1"}),"\n      ",HTML.FEBLEND({"in":"source",in2:"back"}),"\n    "),"\n  "),"\n  ",HTML.MASK({maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"356",height:"167",id:function(){return Spacebars.mustache(e.lookup("id"))}},"\n    ",HTML.G({fill:"#FFF",filter:"url(#a)"},"\n      ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("svgMbaFilter"),Template.svgMbaFilter=new Template("Template.svgMbaFilter",function(){var e=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",style:"display: none;"},"\n    ",HTML.DEFS("\n      ",HTML.FILTER({id:"a",filterUnits:"userSpaceOnUse",x:"0",y:"0",width:"356",height:"167"},"\n        ",HTML.FECOLORMATRIX({values:"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0","color-interpolation-filters":"sRGB",result:"source"}),"\n        ",HTML.FEFLOOD({result:"back","flood-color":"#fff","flood-opacity":"1"}),"\n        ",HTML.FEBLEND({"in":"source",in2:"back"}),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaSVG"),Template.mbaSVG=new Template("Template.mbaSVG",function(){var e=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167","class":function(){return[Spacebars.mustache(e.lookup("className"))," c-svg"]}},"\n    ",Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n    ",HTML.PATH({mask:function(){return["url(#",Spacebars.mustache(e.lookup("id")),")"]},fill:"#ffffff",d:"M0 0h520v244H0z"}),"\n  ")})}();

!function(){Template.__checkName("svgMbaMaskAgro"),Template.svgMbaMaskAgro=new Template("Template.svgMbaMaskAgro",function(){var n=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-mba-agro",xmlns:"http://www.w3.org/2000/svg",d:"M35.33,13.128h16.056l25.589,60.535h-17.86L54.735,62.93H31.552l-4.294,10.733H9.742L35.33,13.128z\n			 M49.926,49.964l-6.697-17.087l-6.784,17.087H49.926z M76.883,43.61c0-17.517,13.739-31.255,32.371-31.255\n			c10.562,0,18.031,3.263,24.386,8.759l-9.788,11.763c-4.294-3.606-8.588-5.667-14.511-5.667c-8.673,0-15.369,7.298-15.369,16.657\n			c0,9.703,6.781,16.658,16.313,16.658c4.037,0,7.128-0.859,9.618-2.49v-7.299h-11.851V38.545h27.649v27.047\n			c-6.354,5.238-15.199,9.273-26.103,9.273C90.88,74.865,76.883,61.985,76.883,43.61z M144.969,13.558h28.421\n			c9.188,0,15.541,2.404,19.577,6.44c3.521,3.521,5.323,8.157,5.323,14.253c0,9.188-4.895,15.284-12.364,18.46l14.339,20.951\n			h-19.233L168.925,55.46h-7.298v18.203h-16.658V13.558z M172.618,42.408c5.666,0,8.931-2.748,8.931-7.299\n			c0-4.722-3.437-7.126-9.017-7.126h-10.905v14.425H172.618z M207.045,13.558h16.743v60.105h-16.743V13.558z M11.299,85.082h20.957\n			l17.073,27.705l17.073-27.705h20.958v71.563H67.628v-41.097l-18.299,28.011h-0.41l-18.198-27.807v40.893H11.299V85.082z\n			 M100.03,85.082h36.699c8.998,0,15.336,2.248,19.527,6.441c2.863,2.86,4.601,6.646,4.601,11.755\n			c0,8.281-4.702,13.189-11.041,15.949c8.69,2.862,14.212,7.77,14.212,17.685c0,12.27-10.021,19.732-27.093,19.732H100.03V85.082z\n			 M131.823,113.605c6.033,0,9.406-2.046,9.406-6.442c0-3.885-3.068-6.133-8.997-6.133h-12.88v12.575H131.823z M134.685,140.696\n			c6.032,0,9.508-2.353,9.508-6.749c0-3.885-3.067-6.439-9.712-6.439h-15.129v13.188H134.685z M197.859,84.57h19.118l30.464,72.074\n			h-21.264l-5.214-12.779h-27.603l-5.111,12.779h-20.855L197.859,84.57z M215.239,128.428l-7.974-20.344l-8.076,20.344H215.239z"}),"\n  ")})}();

!function(){Template.__checkName("svgMbaMaskBanking"),Template.svgMbaMaskBanking=new Template("Template.svgMbaMaskBanking",function(){var h=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-mba-bank",xmlns:"http://www.w3.org/2000/svg",d:"M14.235,14.772h14.907l12.144,19.705l12.142-19.705h14.908v50.899H54.301v-29.23L41.285,56.365\n			h-0.291L28.052,36.586v29.085H14.235V14.772z M73.28,65.671h14.833l3.636-9.089h19.633l3.709,9.089h15.124l-21.669-51.262H94.948\n			L73.28,65.671z M95.893,45.603l5.745-14.469l5.671,14.469H95.893z M154.428,66.543c12.361,0,20.578-6.179,20.578-16.578\n			c0-9.671-7.272-13.453-18.979-15.998c-7.054-1.599-8.799-2.616-8.799-4.943c0-1.964,1.673-3.418,5.091-3.418\n			c4.508,0,9.597,1.746,14.251,5.018l7.053-9.961c-5.525-4.435-12.289-6.762-20.942-6.762c-12.215,0-19.705,6.834-19.705,16.288\n			c0,10.615,8.361,13.669,19.196,16.142c6.908,1.599,8.581,2.764,8.581,4.871c0,2.328-2.036,3.637-5.818,3.637\n			c-5.889,0-11.487-2.108-16.505-6.107l-7.852,9.379C136.831,63.708,145.412,66.543,154.428,66.543z M192.821,27.133v38.539h14.107\n			V27.134h15.269V14.772h-44.646v12.36H192.821L192.821,27.133z M228.377,14.772v50.899h41.302V53.673h-27.34v-8.071h24.431V34.478\n			h-24.431v-7.707h26.976V14.772H228.377L228.377,14.772z M276.877,65.671h14.105V50.256h6.182l10.254,15.415h16.285l-12.143-17.743\n			c6.326-2.689,10.472-7.852,10.472-15.631c0-5.164-1.526-9.09-4.508-12.071c-3.417-3.417-8.799-5.453-16.579-5.453h-24.068V65.671z\n			 M300.29,39.202h-9.309V26.987h9.236c4.726,0,7.636,2.037,7.636,6.036c0,3.853-2.765,6.181-7.563,6.181V39.202z M27.424,110.421\n			c9.232,0,16.156-6.965,16.156-15.557c0-8.678-6.839-15.56-16.071-15.56s-16.156,6.967-16.156,15.56\n			C11.353,103.539,18.191,110.421,27.424,110.421z M27.509,102.942c-4.53,0-7.65-3.762-7.65-8.078c0-4.402,3.035-8.081,7.565-8.081\n			c4.573,0,7.694,3.763,7.694,8.081C35.118,99.266,32.083,102.941,27.509,102.942z M47.898,109.823h8.293V99.138h14.147v-6.881\n			H56.191V87.17h15.643v-7.266H47.898V109.823z M87.438,79.904v29.919h15.431c7.136,0,11.327-3.122,11.327-8.25\n			c0-4.146-2.309-6.196-5.942-7.394c2.65-1.154,4.616-3.206,4.616-6.668c0-2.138-0.728-3.719-1.923-4.915\n			c-1.751-1.753-4.402-2.692-8.164-2.692H87.438L87.438,79.904z M95.516,91.829v-5.258h5.386c2.478,0,3.76,0.94,3.76,2.564\n			c0,1.838-1.41,2.693-3.932,2.693H95.516z M101.926,103.156h-6.41v-5.515h6.327c2.777,0,4.06,1.067,4.06,2.692\n			C105.902,102.172,104.449,103.156,101.926,103.156L101.926,103.156z M115.606,109.823h8.72l2.136-5.342h11.541l2.18,5.342h8.891\n			L136.335,79.69h-7.993L115.606,109.823z M128.898,98.026l3.376-8.505l3.333,8.505H128.898z M151.982,79.904v29.919h8.206V93.41\n			l12.78,16.413h7.266V79.904h-8.207v15.814l-12.311-15.814H151.982L151.982,79.904z M185.534,109.823h8.292v-7.736l3.035-3.378\n			l7.523,11.114h9.958l-11.71-17.053l11.326-12.866h-9.83l-10.303,12.137V79.904h-8.292V109.823z M216.91,109.823h8.333V79.904\n			h-8.333V109.823z M230.716,109.823h8.206V93.41l12.78,16.413h7.266V79.904h-8.207v15.814l-12.309-15.814h-7.736V109.823z\n			 M279.527,110.421c5.428,0,9.831-2.007,12.993-4.615V92.342h-13.764v6.069h5.901v3.634c-1.242,0.811-2.779,1.239-4.788,1.239\n			c-4.745,0-8.122-3.463-8.122-8.292c0-4.658,3.335-8.292,7.652-8.292c2.948,0,5.086,1.024,7.224,2.821l4.872-5.856\n			c-3.162-2.736-6.881-4.36-12.138-4.36c-9.276,0-16.114,6.84-16.114,15.56C263.244,104.01,270.21,110.421,279.527,110.421z\n			 M9.985,152.977h8.719l2.138-5.344h11.539l2.18,5.344h8.89l-12.737-30.134h-7.993L9.985,152.977z M23.277,141.179l3.375-8.506\n			l3.334,8.506H23.277z M46.36,152.976h8.207v-16.413l12.78,16.413h7.266v-29.921h-8.207v15.816l-12.31-15.816H46.36V152.976z\n			 M79.914,123.055v29.921h11.37c10.772,0,17.053-6.411,17.053-15.046c0-8.719-6.198-14.875-16.883-14.875H79.914L79.914,123.055z\n			 M88.206,145.624v-15.302h3.377c4.958,0,8.249,2.864,8.249,7.651c0,4.914-3.291,7.65-8.249,7.65H88.206z M124.453,152.976h8.292\n			V142.29h14.148v-6.882h-14.148v-5.087h15.645v-7.267h-23.937V152.976z M152.323,152.976h8.334v-29.921h-8.334V152.976z\n			 M166.128,123.055v29.921h8.208v-16.413l12.779,16.413h7.268v-29.921h-8.209v15.816l-12.309-15.816H166.128L166.128,123.055z\n			 M197.29,152.977h8.72l2.138-5.344h11.54l2.181,5.344h8.89l-12.738-30.134h-7.993L197.29,152.977z M210.584,141.179l3.374-8.506\n			l3.335,8.506H210.584z M233.664,152.976h8.208v-16.413l12.779,16.413h7.268v-29.921h-8.208v15.816L241.4,123.055h-7.736V152.976z\n			 M281.624,153.573c6.624,0,10.43-2.863,13.25-6.753l-6.242-4.443c-1.793,2.18-3.632,3.633-6.751,3.633\n			c-4.189,0-7.139-3.505-7.139-7.993c0-4.446,2.949-7.992,7.139-7.992c2.862,0,4.872,1.324,6.581,3.461l6.071-4.701\n			c-2.65-3.676-6.455-6.327-12.568-6.327c-9.061,0-15.771,6.839-15.771,15.56C266.194,147.034,273.074,153.573,281.624,153.573z\n			 M298.423,123.055v29.921H322.7v-7.054h-16.072v-4.744h14.362v-6.539h-14.362v-4.532h15.858v-7.052H298.423L298.423,123.055z"}),"\n  ")})}();

!function(){Template.__checkName("svgMbaMaskExecutive"),Template.svgMbaMaskExecutive=new Template("Template.svgMbaMaskExecutive",function(){var h=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-mba-executive",xmlns:"http://www.w3.org/2000/svg",d:"M10.118,11.884h31.865v9.05H20.985v5.817h19.018v8.391H20.985v6.09h21.281v9.053H10.118V11.884z\n			 M44.986,50.284h12.337l7.641-11.575l7.584,11.575H85.17L71.585,30.645l13.019-18.761H72.266L65.191,22.69l-7.019-10.806H45.55\n			l13.019,18.87L44.986,50.284z M89.303,11.884v38.4h32.149v-9.053H100.17v-6.09h19.017v-8.391H100.17v-5.817h20.999v-9.05H89.303\n			L89.303,11.884z M146.132,51.052c8.772,0,13.81-3.675,17.545-8.666l-8.264-5.705c-2.377,2.797-4.809,4.664-8.943,4.664\n			c-5.546,0-9.452-4.499-9.452-10.26c0-5.706,3.906-10.259,9.452-10.259c3.793,0,6.454,1.702,8.718,4.445l8.038-6.035\n			c-3.51-4.718-8.547-8.119-16.643-8.119c-11.999,0-20.884,8.777-20.884,19.968C125.699,42.658,134.812,51.052,146.132,51.052z\n			 M186.205,50.997c11.265,0,18.565-5.43,18.565-17.828V11.884h-11.15v21.613c0,5.375-2.888,7.898-7.301,7.898\n			c-4.414,0-7.303-2.632-7.303-8.173V11.884h-11.149v21.559C167.868,45.457,174.941,50.997,186.205,50.997z M220.959,21.209v29.075\n			h10.981V21.209h11.887v-9.325h-34.754v9.325H220.959L220.959,21.209z M248.866,50.284h11.037v-38.4h-11.037V50.284z\n			 M280.054,50.558h10.189l16.073-38.674h-12.055l-9.001,24.301l-8.999-24.301h-12.283L280.054,50.558z M310.167,50.284h32.148\n			v-9.053h-21.283v-6.09h19.018v-8.391h-19.018v-5.817h21.001v-9.05h-31.866V50.284z M11.5,160.004h27.287v-57.215l25.563,38.906\n			h0.575l25.707-39.189v57.498h27.717V59.884H88.909L64.926,98.645L40.941,59.884H11.5V160.004z M136.162,59.884V160h51.846\n			c23.983,0,38.057-10.44,38.057-27.604c0-13.871-7.757-20.74-19.963-24.742c8.905-3.86,15.511-10.726,15.511-22.311\n			c0-7.151-2.441-12.444-6.463-16.447c-5.888-5.864-14.793-9.012-27.43-9.012H136.162L136.162,59.884z M163.306,99.79V82.197h18.093\n			c8.33,0,12.639,3.148,12.639,8.583c0,6.149-4.739,9.01-13.212,9.01H163.306z M184.849,137.69h-21.542v-18.447h21.253\n			c9.336,0,13.644,3.574,13.644,9.01C198.203,134.402,193.32,137.69,184.849,137.69L184.849,137.69z M230.808,160.004h29.296\n			l7.184-17.88h38.774l7.325,17.88h29.87L300.462,59.168h-26.856L230.808,160.004z M275.473,120.526l11.345-28.461l11.201,28.461\n			H275.473z"}),"\n  ")})}();

!function(){Template.__checkName("svgMbaMaskLeadership"),Template.svgMbaMaskLeadership=new Template("Template.svgMbaMaskLeadership",function(){var h=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-mba-leadership",xmlns:"http://www.w3.org/2000/svg",d:"M11.416,11.659H40.72l23.875,38.739l23.873-38.739h29.304v100.066h-27.59V54.259L64.596,93.426\n			h-0.573L38.577,54.543v57.181H11.416V11.659z M135.505,11.659v100.066h51.605c23.872,0,37.882-10.436,37.882-27.59\n			c0-13.867-7.722-20.728-19.87-24.73c8.864-3.861,15.438-10.722,15.438-22.302c0-7.147-2.431-12.437-6.433-16.439\n			c-5.86-5.86-14.726-9.005-27.303-9.005H135.505L135.505,11.659z M179.962,51.542h-17.438V33.96h18.011\n			c8.291,0,12.579,3.143,12.579,8.576C193.113,48.683,188.396,51.542,179.962,51.542L179.962,51.542z M162.523,89.424v-18.44h21.155\n			c9.291,0,13.58,3.574,13.58,9.006c0,6.147-4.859,9.434-13.293,9.434H162.523z M229.714,111.725h29.162l7.147-17.869h38.598\n			l7.292,17.869h29.732L299.047,10.943h-26.732L229.714,111.725z M274.172,72.271l11.294-28.449l11.149,28.449H274.172z\n			 M10.536,151.314h8.152v-29.271h-8.152V151.314z M24.042,122.043v29.271h8.027v-16.057l12.503,16.057h7.108v-29.271h-8.029v15.471\n			l-12.042-15.471H24.04H24.042z M68.448,151.312h22.286v-7.107H76.56v-22.162h-8.112V151.312z M94.208,151.314h23.75v-6.9h-15.723\n			v-4.643h14.05v-6.396h-14.05v-4.432h15.514v-6.9H94.208V151.314z M119.755,151.312h8.531l2.091-5.227h11.288l2.132,5.227h8.698\n			l-12.461-29.479h-7.819L119.755,151.312z M132.759,139.771l3.304-8.32l3.262,8.32H132.759z M155.339,122.043v29.27h11.123\n			c10.537,0,16.685-6.271,16.685-14.717c0-8.531-6.064-14.553-16.518-14.553h-11.287H155.339z M163.451,144.119v-14.967h3.303\n			c4.852,0,8.071,2.801,8.071,7.486c0,4.807-3.219,7.48-8.071,7.48H163.451z M187.329,151.314h23.751v-6.9h-15.723v-4.643h14.048\n			v-6.396h-14.048v-4.432h15.514v-6.9h-23.542V151.314z M215.221,122.043v29.27h8.111v-8.865h3.554l5.897,8.865h9.365l-6.982-10.203\n			c3.637-1.545,6.02-4.514,6.02-8.988c0-2.969-0.877-5.227-2.59-6.943c-1.968-1.963-5.062-3.135-9.534-3.135h-13.843H215.221z\n			 M228.683,136.094h-5.352v-7.025h5.312c2.717,0,4.389,1.17,4.389,3.471C233.031,134.756,231.442,136.094,228.683,136.094\n			L228.683,136.094z M256.783,151.816c7.109,0,11.834-3.555,11.834-9.535c0-5.561-4.182-7.734-10.915-9.199\n			c-4.053-0.92-5.057-1.506-5.057-2.844c0-1.129,0.962-1.963,2.926-1.963c2.591,0,5.519,1.004,8.194,2.885l4.057-5.729\n			c-3.177-2.551-7.067-3.891-12.043-3.891c-7.024,0-11.331,3.932-11.331,9.367c0,6.104,4.808,7.861,11.039,9.283\n			c3.974,0.918,4.934,1.588,4.934,2.799c0,1.34-1.17,2.092-3.345,2.092c-3.387,0-6.606-1.211-9.492-3.51l-4.515,5.393\n			C246.665,150.186,251.6,151.816,256.783,151.816z M272.549,151.314h8.11v-11.123h10.41v11.123h8.114v-29.271h-8.114V133h-10.41\n			v-10.957h-8.11V151.314z M304.537,151.314h8.152v-29.271h-8.152V151.314z M318.043,122.043v29.27h8.112v-8.363h4.012\n			c7.276,0,12.588-3.637,12.588-10.535c0-6.566-4.768-10.371-12.168-10.371H318.043L318.043,122.043z M330.003,136.594h-3.848\n			v-7.734h3.805c2.928,0,4.684,1.338,4.684,3.846c0,2.385-1.756,3.891-4.641,3.891V136.594z"}),"\n  ")})}();

!function(){Template.__checkName("svgMbaMaskPresidents"),Template.svgMbaMaskPresidents=new Template("Template.svgMbaMaskPresidents",function(){var h=this;return HTML.SVG({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 356 167","enable-background":"new 0 0 356 167",style:"display: none;"},"\n    ",HTML.PATH({id:"svg-mba-presidents",xmlns:"http://www.w3.org/2000/svg",d:"M9.917,9.199h14.905c8.794,0,14.458,4.521,14.458,12.322c0,8.198-6.309,12.52-14.956,12.52h-4.768\n			v9.937H9.917V9.199z M24.127,26.489c3.428,0,5.514-1.788,5.514-4.621c0-2.981-2.086-4.572-5.564-4.572h-4.521v9.193H24.127z\n			 M43.352,9.199h16.445c5.317,0,8.994,1.391,11.328,3.726c2.038,2.038,3.08,4.72,3.08,8.248c0,5.316-2.832,8.843-7.153,10.683\n			l8.297,12.123H64.22l-7.006-10.533H52.99v10.533h-9.638V9.199z M59.351,25.893c3.279,0,5.167-1.591,5.167-4.224\n			c0-2.732-1.987-4.123-5.216-4.123H52.99v8.347H59.351z M79.071,9.199v34.779h28.222v-8.198H88.611v-5.516h16.694v-7.602H88.611\n			v-5.266h18.433V9.199H79.071L79.071,9.199z M125.871,44.576c8.447,0,14.061-4.225,14.061-11.328\n			c0-6.608-4.968-9.194-12.967-10.931c-4.82-1.094-6.012-1.79-6.012-3.38c0-1.341,1.142-2.334,3.477-2.334\n			c3.082,0,6.558,1.193,9.738,3.429l4.82-6.807c-3.776-3.031-8.397-4.621-14.31-4.621c-8.347,0-13.465,4.67-13.465,11.129\n			c0,7.252,5.713,9.34,13.118,11.03c4.719,1.093,5.861,1.887,5.861,3.328c0,1.59-1.391,2.484-3.974,2.484\n			c-4.024,0-7.85-1.441-11.279-4.174l-5.366,6.411C113.847,42.638,119.709,44.575,125.871,44.576z M144.797,43.979h9.688V9.199\n			h-9.688V43.979z M160.844,9.199h13.413c12.422,0,19.627,7.154,19.627,17.291c0,10.035-7.304,17.488-19.825,17.488h-13.215V9.199z\n			 M174.407,35.432c5.763,0,9.589-3.18,9.589-8.893c0-5.565-3.826-8.894-9.589-8.894h-3.926v17.787H174.407z M198.849,9.199v34.779\n			h28.222v-8.198h-18.683v-5.516h16.695v-7.602h-16.695v-5.266h18.434V9.199H198.849L198.849,9.199z M231.984,9.199v34.779h9.541\n			v-19.08l14.854,19.08h8.447V9.199h-9.539v18.384L240.978,9.199H231.984L231.984,9.199z M279.479,43.978h9.638V17.645h10.434V9.199\n			h-30.507v8.446h10.436V43.978z M316.69,44.576c8.445,0,14.061-4.225,14.061-11.328c0-6.608-4.968-9.194-12.968-10.931\n			c-4.819-1.094-6.012-1.79-6.012-3.38c0-1.341,1.142-2.334,3.478-2.334c3.081,0,6.558,1.193,9.737,3.429l4.821-6.807\n			c-3.775-3.031-8.398-4.621-14.312-4.621c-8.346,0-13.463,4.67-13.463,11.129c0,7.252,5.713,9.34,13.117,11.03\n			c4.719,1.093,5.861,1.887,5.861,3.328c0,1.59-1.392,2.484-3.974,2.484c-4.024,0-7.851-1.441-11.279-4.174l-5.366,6.411\n			C304.666,42.638,310.529,44.575,316.69,44.576z M334.026,27.036h5.117l6.311-17.59V9.199h-10.335L334.026,27.036z M15.704,158.397\n			h27.173v-57.208l25.458,38.901h0.572l25.601-39.188v57.494h27.603V58.284H92.791L68.907,97.041L45.022,58.284H15.704V158.397z\n			 M139.849,58.284h51.344c12.584,0,21.452,3.146,27.314,9.01c4.005,4.005,6.438,9.296,6.438,16.447\n			c0,11.585-6.578,18.45-15.447,22.312c12.156,4.003,19.881,10.868,19.881,24.741c0,17.162-14.016,27.603-37.899,27.603h-51.629\n			L139.849,58.284L139.849,58.284z M184.326,98.187c8.438,0,13.158-2.86,13.158-9.01c0-5.435-4.291-8.581-12.586-8.581h-18.02\n			v17.591H184.326z M188.332,136.086c8.438,0,13.3-3.289,13.3-9.438c0-5.436-4.29-9.011-13.586-9.011h-21.167v18.45h21.453V136.086z\n			 M276.72,57.569h26.745l42.617,100.828h-29.746l-7.293-17.877h-38.616l-7.149,17.877h-29.177L276.72,57.569z M301.032,118.926\n			l-11.154-28.463l-11.3,28.463H301.032z"}),"\n    ",HTML.Comment(' <path id="svg-mba-presidents" xmlns="http://www.w3.org/2000/svg" d="M7 19.647h21.772c12.845 0 21.119 6.604 21.119 17.999 0 11.975-9.215 18.288-21.846 18.288H21.08v14.515H7V19.647zM27.756 44.902c5.008 0 8.054-2.612 8.054-6.75 0-4.354-3.046-6.678-8.128-6.678H21.08v13.428H27.756zM55.836 19.647h24.021c7.766 0 13.137 2.032 16.547 5.442 2.977 2.977 4.499 6.895 4.499 12.047 0 7.766-4.136 12.917-10.449 15.604l12.12 17.707H86.318L76.085 55.063h-6.17v15.386H55.836V19.647zM79.205 44.031c4.79 0 7.547-2.323 7.547-6.17 0-3.99-2.902-6.022-7.62-6.022h-9.218v12.192H79.205zM108.01 19.647v50.802h41.223V58.475h-27.287v-8.057h24.385V39.314h-24.385v-7.691h26.925V19.647H108.01L108.01 19.647zM176.37 71.321c12.338 0 20.539-6.171 20.539-16.547 0-9.652-7.257-13.429-18.941-15.967 -7.041-1.598-8.782-2.614-8.782-4.937 0-1.959 1.668-3.41 5.079-3.41 4.5 0 9.579 1.742 14.224 5.009l7.041-9.942c-5.515-4.428-12.266-6.75-20.902-6.75 -12.193 0-19.668 6.822-19.668 16.256 0 10.594 8.346 13.644 19.162 16.111 6.893 1.597 8.562 2.756 8.562 4.861 0 2.322-2.032 3.629-5.805 3.629 -5.878 0-11.466-2.105-16.475-6.097l-7.838 9.363C158.806 68.49 167.37 71.32 176.37 71.321zM204.015 70.449h14.152V19.647h-14.152V70.449zM227.454 19.647h19.593c18.145 0 28.668 10.45 28.668 25.257 0 14.658-10.668 25.545-28.958 25.545h-19.303V19.647zM247.265 57.965c8.419 0 14.007-4.645 14.007-12.99 0-8.128-5.588-12.99-14.007-12.99h-5.733v25.98H247.265zM282.967 19.647v50.802h41.223V58.475H296.9v-8.057h24.387V39.314H296.9v-7.691h26.926V19.647H282.967L282.967 19.647zM331.368 19.647v50.802h13.936V42.58l21.698 27.869h12.338V19.647h-13.934v26.854l-20.902-26.854H331.368L331.368 19.647zM400.742 70.448h14.078V31.984h15.24V19.647H385.5v12.337h15.242V70.448zM455.095 71.321c12.336 0 20.538-6.171 20.538-16.547 0-9.652-7.257-13.429-18.941-15.967 -7.04-1.598-8.782-2.614-8.782-4.937 0-1.959 1.668-3.41 5.08-3.41 4.5 0 9.578 1.742 14.223 5.009l7.042-9.942c-5.515-4.428-12.267-6.75-20.903-6.75 -12.191 0-19.666 6.822-19.666 16.256 0 10.594 8.345 13.644 19.16 16.111 6.893 1.597 8.562 2.756 8.562 4.861 0 2.322-2.032 3.629-5.804 3.629 -5.879 0-11.467-2.105-16.476-6.097l-7.839 9.363C437.531 68.49 446.095 71.32 455.095 71.321zM480.418 45.701h7.475l9.217-25.693v-0.36h-15.096L480.418 45.701zM15.451 237.577h39.691v-83.562l37.185 56.822h0.836l37.394-57.24v83.979h40.318V91.345h-42.825l-34.887 56.611L58.277 91.345H15.451V237.577zM196.786 91.345h74.997c18.382 0 31.336 4.596 39.898 13.161 5.85 5.85 9.402 13.578 9.402 24.023 0 16.922-9.607 26.949-22.563 32.59 17.756 5.847 29.039 15.875 29.039 36.139 0 25.068-20.473 40.318-55.359 40.318h-75.413V91.345H196.786zM261.754 149.629c12.325 0 19.221-4.178 19.221-13.16 0-7.938-6.269-12.534-18.385-12.534h-26.32v25.694H261.754zM267.605 204.988c12.325 0 19.427-4.805 19.427-13.786 0-7.938-6.267-13.161-19.845-13.161H236.27v26.949h31.335V204.988zM396.711 90.301h39.066l62.25 147.276h-43.449l-10.652-26.112h-56.406l-10.443 26.112h-42.617L396.711 90.301zM432.224 179.922l-16.294-41.574 -16.505 41.574H432.224z"/> '),"\n  ")})}();

!function(){Template.__checkName("mbaMaskAgro"),Template.mbaMaskAgro=new Template("Template.mbaMaskAgro",function(){var a=this;return Spacebars.With(function(){return{className:Spacebars.call(a.lookup("className")),id:Spacebars.call("mba-agro")}},function(){return["\n    ",Spacebars.include(a.lookupTemplate("mbaSVG"),function(){return["\n      ",Spacebars.include(a.lookupTemplate("mbaSVGFilter"),function(){return["\n        ",HTML.USE({"xlink:href":"#svg-mba-agro"}),"\n      "]}),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("mbaMaskBanking"),Template.mbaMaskBanking=new Template("Template.mbaMaskBanking",function(){var a=this;return Spacebars.With(function(){return{className:Spacebars.call(a.lookup("className")),id:Spacebars.call("mba-banking")}},function(){return["\n    ",Spacebars.include(a.lookupTemplate("mbaSVG"),function(){return["\n      ",Spacebars.include(a.lookupTemplate("mbaSVGFilter"),function(){return["\n        ",HTML.USE({"xlink:href":"#svg-mba-bank"}),"\n      "]}),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("mbaMaskExecutive"),Template.mbaMaskExecutive=new Template("Template.mbaMaskExecutive",function(){var e=this;return Spacebars.With(function(){return{className:Spacebars.call(e.lookup("className")),id:Spacebars.call("mba-executive")}},function(){return["\n    ",Spacebars.include(e.lookupTemplate("mbaSVG"),function(){return["\n      ",Spacebars.include(e.lookupTemplate("mbaSVGFilter"),function(){return["\n        ",HTML.USE({"xlink:href":"#svg-mba-executive"}),"\n      "]}),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("mbaMaskLeadership"),Template.mbaMaskLeadership=new Template("Template.mbaMaskLeadership",function(){var e=this;return Spacebars.With(function(){return{className:Spacebars.call(e.lookup("className")),id:Spacebars.call("mba-leadership")}},function(){return["\n    ",Spacebars.include(e.lookupTemplate("mbaSVG"),function(){return["\n      ",Spacebars.include(e.lookupTemplate("mbaSVGFilter"),function(){return["\n        ",HTML.USE({"xlink:href":"#svg-mba-leadership"}),"\n      "]}),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("mbaMaskPresidents"),Template.mbaMaskPresidents=new Template("Template.mbaMaskPresidents",function(){var e=this;return Spacebars.With(function(){return{className:Spacebars.call(e.lookup("className")),id:Spacebars.call("mba-presidents")}},function(){return["\n    ",Spacebars.include(e.lookupTemplate("mbaSVG"),function(){return["\n      ",Spacebars.include(e.lookupTemplate("mbaSVGFilter"),function(){return["\n        ",HTML.USE({"xlink:href":"#svg-mba-presidents"}),"\n      "]}),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("mdCoach"),Template.mdCoach=new Template("Template.mdCoach",function(){var e=this;return Spacebars.include(e.lookupTemplate("coachItemInside"))})}();

!function(){Template.__checkName("mdTeammate"),Template.mdTeammate=new Template("Template.mdTeammate",function(){var a=this;return HTML.DIV({"class":"pur-author pur-content c-md-tmate"},"\n\n    ",HTML.DIV({"class":"pur-author-img",style:function(){return Blaze.If(function(){return Spacebars.call(a.lookup("hasImage"))},function(){return["background: #f4f4f4 url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("getImage"))}),"') no-repeat left top / cover;"]})}}),"\n\n    ",HTML.DIV({"class":"pur-author-content"},"\n\n      ",HTML.DIV({"class":"pur-author-teacher"},"\n        ",Blaze.View("lookup:data.label",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"label"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-author-name"},"\n        ",Blaze.View("lookup:data.coach.firstName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"coach","firstName"))})," ",Blaze.View("lookup:data.coach.lastName",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"coach","lastName"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"pur-author-desc"},"\n        ",Blaze.View("lookup:$str",function(){return Spacebars.mustache(a.lookup("$str"),Spacebars.dot(a.lookup("data"),"coach","desc"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"md-tmate-contacts"},"\n\n        ",HTML.DIV({"class":"md-tmate-clabel"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.title")}),"\n        "),"\n\n        ",HTML.DIV({"class":"pur-cts-p-cts"},"\n\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach","phone","length"))},function(){return["\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.contactsTel")}),":\n\n            ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach","phone"))},function(){return["\n              ",Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})," ",HTML.BR(),"\n            "]}),"\n          "]}),"\n\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach","email"))},function(){return["\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"mba.contactsEmail")}),": ",Blaze.View("lookup:data.coach.email",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("data"),"coach","email"))}),"\n          "]}),"\n\n        "),"\n\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("scrHorizontal"),Template.scrHorizontal=new Template("Template.scrHorizontal",function(){var e=this;return[Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("arrows"))},function(){return["\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call(e.lookup("paginationClassName"))}},function(){return Spacebars.include(e.lookupTemplate("btnPaginationArrows"))}),"\n  "]})]})}();

!function(){Template.__checkName("viVimeo"),Template.viVimeo=new Template("Template.viVimeo",function(){var e=this;return HTML.IFRAME({src:function(){return Spacebars.mustache(e.lookup("url"))},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"})})}();

!function(){Template.__checkName("viYoutube"),Template.viYoutube=new Template("Template.viYoutube",function(){var e=this;return HTML.IFRAME({type:"text/html",width:"100%",height:"100%",src:function(){return Spacebars.mustache(e.lookup("url"))},frameborder:"0"})})}();

!function(){Template.__checkName("notFound"),Template.notFound=new Template("Template.notFound",function(){var n=this;return HTML.DIV({"class":"nf-wrap"},"\n\n    ",HTML.DIV({"class":"dev-valign"},"\n\n      ",HTML.DIV({"class":"dev-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"404")}),"\n      "),"\n\n      ",HTML.DIV({"class":"dev-bl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.bl")}),"\n      "),"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"main")}},"\n        ",HTML.BUTTON({"class":"dev-btn"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.btn")}),"\n        "),"\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("aboutKMBS"),Template.aboutKMBS=new Template("Template.aboutKMBS",function(){var a=this;return HTML.DIV({"class":"ak-wrap"},"\n    ",Spacebars.With(function(){return{about:Spacebars.call(a.lookup("about"))}},function(){return["\n      ",Spacebars.include(a.lookupTemplate("aboutKMBSIntro")),"\n      ",Spacebars.include(a.lookupTemplate("aboutKMBSInfo")),"\n      ",Blaze._TemplateWith(function(){return{countPUR:Spacebars.call(a.lookup("countPUR")),countMBA:Spacebars.call(a.lookup("countMBA")),programsLbl:Spacebars.call(a.lookup("programsLbl"))}},function(){return Spacebars.include(a.lookupTemplate("aboutKMBSPrograms"))}),"\n      ",Spacebars.include(a.lookupTemplate("aboutKMBSApproach")),"\n      ",Spacebars.include(a.lookupTemplate("aboutKMBSAlumni")),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("alumni"),Template.alumni=new Template("Template.alumni",function(){var e=this;return Spacebars.With(function(){return{alumni:Spacebars.call(e.lookup("alumni"))}},function(){return["\n    ",Spacebars.include(e.lookupTemplate("alumniIntro")),"\n    ",Spacebars.include(e.lookupTemplate("alumniProjects")),"\n    ",Blaze._TemplateWith(function(){return{kmbs:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("mainNews"))}),"\n    ",Spacebars.include(e.lookupTemplate("alumniInterview")),"\n    ",HTML.Comment(" {{> alumniEvents}} "),"\n  "]})})}();

!function(){Template.__checkName("coachItem"),Template.coachItem=new Template("Template.coachItem",function(){var a=this;return HTML.DIV({"class":"ci-wrap"},HTML.Raw('\n\n    <div class="mw-close"></div>\n\n    '),HTML.DIV({"class":"ci-content"},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach"))},function(){return["\n        ",Spacebars.With(function(){return{data:Spacebars.call(a.lookup("data"))}},function(){return["\n          ",Spacebars.include(a.lookupTemplate("coachItemInside")),"\n        "]}),"\n      "]}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("coachList"),Template.coachList=new Template("Template.coachList",function(){var n=this;return HTML.DIV({"class":"cos-wrap"},"\n\n    ",HTML.DIV({"class":"cos-content"},"\n      ",HTML.DIV({"class":"cos-topper-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("_"),"menu.coaches"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"cos-topper-menu"},"\n\n        ",Spacebars.With(function(){return{type:Spacebars.call(null)}},function(){return["\n          ",HTML.DIV({"class":function(){return["cos-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.allCoaches")}),"\n          "),"\n        "]}),"\n\n        ",Spacebars.With(function(){return{type:Spacebars.call("mba")}},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("coachesExistByFilter"))},function(){return["\n            ",HTML.DIV({"class":function(){return["cos-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.mbaCoaches")}),"\n            "),"\n          "]}),"\n        "]}),"\n\n        ",Spacebars.With(function(){return{type:Spacebars.call("pur")}},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("coachesExistByFilter"))},function(){return["\n            ",HTML.DIV({"class":function(){return["cos-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.purCoaches")}),"\n            "),"\n          "]}),"\n        "]}),"\n\n        ",Spacebars.With(function(){return{type:Spacebars.call("inv")}},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("coachesExistByFilter"))},function(){return["\n            ",HTML.DIV({"class":function(){return["cos-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.invCoaches")}),"\n            "),"\n          "]}),"\n        "]}),"\n\n      "),"\n\n      ",HTML.DIV({"class":"cos-coach-items"},"\n\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("coaches"))},function(){return["\n          ",HTML.DIV({"class":"cos-coach",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("getImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("getImage"))}),"') no-repeat center top / cover;"]})}},"\n            ",HTML.DIV({"class":"cos-coach-mask"}),"\n\n            ",HTML.DIV({"class":"cos-coach-info"},"\n              ",HTML.DIV({"class":"cos-coach-name"},"\n                ",Blaze.View("lookup:firstName",function(){return Spacebars.mustache(n.lookup("firstName"))})," ",Blaze.View("lookup:lastName",function(){return Spacebars.mustache(n.lookup("lastName"))}),"\n              "),"\n\n              ",HTML.DIV({"class":"cos-coach-teaches"},"\n                ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.teaches")}),": ",Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("$str"),n.lookup("info")))}),"\n              "),"\n            "),"\n\n            ",HTML.A({"class":"cos-coach-link",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"coachItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n              ",HTML.BUTTON({"class":"cos-coach-btn"},"\n\n                ",HTML.SPAN({"class":"cos-coach-details"},"\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"slider.more")}),"\n                "),"\n\n                ",HTML.SPAN({"class":"cos-coach-plus"},"\n                  +\n                "),"\n\n              "),"\n            "),"\n          "),"\n        "]}),"\n\n      "),"\n\n      ",HTML.BUTTON({"class":function(){return["cos-show-more ",Spacebars.mustache(n.lookup("displayShowMore"))]}},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.showMore")}),"\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("contacts"),Template.contacts=new Template("Template.contacts",function(){var a=this;return HTML.DIV({"class":"cs-wrap"},"\n    ",HTML.DIV({"class":"cs-title"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.title")}),"\n    "),"\n\n    ",HTML.DIV({"class":"cs-persons"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("$map"),a.lookup("contacts"))},function(){return["\n        ",HTML.DIV({"class":function(){return["cs-person-wrap clearfix ",Blaze.If(function(){return Spacebars.dataMustache(a.lookup("isEven"),a.lookup("$num"))},function(){return"even"})]}},"\n          ",HTML.DIV({"class":"cs-person"},"\n\n            ",HTML.DIV({"class":"cs-ps-photo"},"\n              ",HTML.IMG({src:function(){return Spacebars.mustache(a.lookup("assetUrl"),"ImageFiles",a.lookup("bigImage"))},alt:function(){return[Spacebars.mustache(a.lookup("firstName"))," ",Spacebars.mustache(a.lookup("lastName"))]}}),"\n            "),"\n\n            ",HTML.DIV({"class":"cs-ps-info clearfix"},"\n              ",HTML.DIV({"class":"cs-ps-title"},"\n                ",Blaze.View("lookup:title",function(){return Spacebars.mustache(a.lookup("title"))}),"\n              "),"\n\n              ",HTML.DIV({"class":"cs-ps-job-name"},"\n                ",HTML.DIV({"class":"cs-ps-name"},"\n                  ",Blaze.View("lookup:firstName",function(){return Spacebars.mustache(a.lookup("firstName"))})," ",Blaze.View("lookup:lastName",function(){return Spacebars.mustache(a.lookup("lastName"))}),"\n                "),"\n                ",HTML.DIV({"class":"cs-ps-job"},"\n                  ",Blaze.View("lookup:occupation",function(){return Spacebars.mustache(a.lookup("occupation"))}),"\n                "),"\n              "),"\n\n              ",HTML.DIV({"class":"cs-ps-cs"},"\n                ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("phone"),"length"))},function(){return["\n                  ",HTML.DIV({"class":"cs-ps-tel"},"\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.tel")}),":\n                    ",Blaze.Each(function(){return Spacebars.call(a.lookup("phone"))},function(){return["\n                      ",Blaze.View("lookup:.",function(){return Spacebars.mustache(a.lookup("."))})," ",HTML.BR(),"\n                    "]}),"\n                  "),"\n                "]}),"\n                ",HTML.DIV({"class":"cs-ps-email"},"\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.email")}),": ",Blaze.View("lookup:email",function(){return Spacebars.mustache(a.lookup("email"))}),"\n                "),"\n              "),"\n              ",Blaze.If(function(){return Spacebars.call(a.lookup("answersQuestions"))},function(){return["\n                ",Blaze._TemplateWith(function(){return{className:Spacebars.call(a.lookup("btnCbCls"))}},function(){return Spacebars.include(a.lookupTemplate("btnCallback"))}),"\n              "]}),"\n            "),"\n\n          "),"\n\n        "),"\n        ",HTML.DIV({"class":function(){return["cs-cb-form-wrap ",Spacebars.mustache(a.lookup("offsetCbCls"))]}},"\n          ",Blaze._TemplateWith(function(){return Spacebars.call(a.lookup("formCallbackData"))},function(){return Spacebars.include(a.lookupTemplate("cFormCallback"))}),"\n        "),"\n      "]}),"\n    "),"\n\n    ",HTML.DIV({"class":"cs-form-wrap"},"\n      ",HTML.DIV({"class":function(){return Blaze.If(function(){return Spacebars.call(a.lookup("submited"))},function(){return"hidden"})}},"\n        ",HTML.DIV({"class":"cs-form-t"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.fmTitle")}),"\n        "),"\n\n        ",HTML.Raw("<!-- <div class=\"cs-form-hint\">\n          {{_ 'contacts.fmHint'}}\n        </div> -->"),"\n\n        ",HTML.FORM({"class":"cs-form",novalidate:""},"\n          ",Blaze._TemplateWith(function(){return{label:Spacebars.call("contacts.fmName"),name:Spacebars.call("name"),type:Spacebars.call("text")}},function(){return Spacebars.include(a.lookupTemplate("formInput"))}),"\n          ",Blaze._TemplateWith(function(){return{label:Spacebars.call("contacts.fmEmail"),name:Spacebars.call("email"),type:Spacebars.call("email")}},function(){return Spacebars.include(a.lookupTemplate("formInput"))}),"\n          ",Blaze._TemplateWith(function(){return{label:Spacebars.call("contacts.fmText"),name:Spacebars.call("text")}},function(){return Spacebars.include(a.lookupTemplate("formTextarea"))}),"\n          ",Blaze._TemplateWith(function(){return{label:Spacebars.call("contacts.fmSubmit")}},function(){return Spacebars.include(a.lookupTemplate("formSubmit"))}),"\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":function(){return["c-fm-submited-wrp ",Blaze.Unless(function(){return Spacebars.call(a.lookup("submited"))},function(){return"hidden"})]}},"\n        ",Spacebars.include(a.lookupTemplate("cFormSubmited")),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"cs-map-container"},"\n      ",HTML.DIV({"class":"cs-map-info"},"\n        ",HTML.DIV({"class":"cs-m-i-tl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.cAddress")}),":"),"\n        ",HTML.DIV({"class":"cs-m-i-ct"},Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(a.lookup("_"),"contacts.address"))})),"\n        ",HTML.DIV({"class":"cs-m-i-tl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.cTel")}),":"),"\n        ",HTML.DIV({"class":"cs-m-i-ct"},Blaze.View("lookup:company.tel",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(a.lookup("company"),"tel")))})),"\n        ",HTML.DIV({"class":"cs-m-i-tl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"contacts.cEmail")}),":"),"\n        ",HTML.DIV({"class":"cs-m-i-ct"},Blaze.View("lookup:company.email",function(){return Spacebars.mustache(Spacebars.dot(a.lookup("company"),"email"))})),"\n      "),"\n      ",Blaze._TemplateWith(function(){return{name:Spacebars.call("contactsMap"),options:Spacebars.call(a.lookup("mapOptions"))}},function(){return Spacebars.include(a.lookupTemplate("googleMap"))}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("corProgram"),Template.corProgram=new Template("Template.corProgram",function(){var r=this;return HTML.DIV({"class":"cp-wrap"},"\n    ",Spacebars.With(function(){return{program:Spacebars.call(r.lookup("program"))}},function(){return["\n      ",Spacebars.include(r.lookupTemplate("corProgramIntro")),"\n      ",Spacebars.include(r.lookupTemplate("corProgramClients")),"\n      ",Spacebars.include(r.lookupTemplate("corProgramFormats")),"\n      ",Spacebars.include(r.lookupTemplate("corProgramContacts")),"\n      ",Spacebars.include(r.lookupTemplate("corProgramProjects")),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("developing"),Template.developing=new Template("Template.developing",function(){var n=this;return HTML.DIV({"class":"dev-wrap"},"\n\n    ",HTML.DIV({"class":"dev-valign"},"\n\n      ",HTML.Raw('<div class="dev-icon"></div>'),"\n\n      ",HTML.DIV({"class":"dev-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.tl")}),"\n      "),"\n\n      ",HTML.DIV({"class":"dev-bl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.bl")}),"\n      "),"\n\n      ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"main")}},"\n        ",HTML.BUTTON({"class":"dev-btn"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.btn")}),"\n        "),"\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("eventItem"),Template.eventItem=new Template("Template.eventItem",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("event"))},function(){return["\n    ",Spacebars.With(function(){return{event:Spacebars.call(n.lookup("event"))}},function(){return["\n      ",HTML.DIV({"class":"ev-wrap"},"\n\n        ",HTML.DIV({"class":"ev-content"},"\n\n          ",HTML.DIV({"class":"ev-topper"},"\n\n            ",Spacebars.include(n.lookupTemplate("eventItemInfo")),"\n\n            ",Spacebars.include(n.lookupTemplate("eventItemDetails")),"\n\n          "),"\n\n        "),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("event"),"address","loc","length"))},function(){return["\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("initMap"))},function(){return["\n            ",HTML.DIV({"class":function(){return["ev-map-container",Blaze.If(function(){return Spacebars.call(n.lookup("showMap"))},function(){return" active"})]}},"\n\n              ",HTML.DIV({"class":"mw-close"}),"\n\n              ",HTML.DIV({"class":"ev-map"},"\n                ",Blaze._TemplateWith(function(){return{name:Spacebars.call("eventMap"),options:Spacebars.call(n.lookup("mapOptions"))}},function(){return Spacebars.include(n.lookupTemplate("googleMap"))}),"\n              "),"\n\n            "),"\n          "]}),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("event"),"contactsItem","length"))},function(){return["\n          ",Spacebars.With(function(){return{program:Spacebars.call(n.lookup("event"))}},function(){return["\n            ",Spacebars.include(n.lookupTemplate("purProgramContacts")),"\n          "]}),"\n        "]}),"\n\n        ",HTML.Comment(" {{> mbaProgramShare}} "),"\n\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("hasAdjacents"))},function(){return["\n          ",HTML.DIV({"class":"ev-pagination"},"\n            ",Spacebars.include(n.lookupTemplate("eventItemPagination")),"\n          "),"\n        "]}),"\n\n      "),"\n    "]}),"\n  "]})})}();

!function(){Template.__checkName("eventList"),Template.eventList=new Template("Template.eventList",function(){var n=this;return HTML.DIV({"class":"evs-wrap"},"\n\n    ",Spacebars.include(n.lookupTemplate("eventListTopper")),"\n\n    ",HTML.DIV({"class":"evs-table"},"\n\n      ",HTML.DIV({"class":"evs-content"},"\n        ",HTML.DIV({"class":"evs-left"},"\n\n          ",HTML.DIV({"class":"evs-filter filter-container"},"\n\n            ",HTML.DIV({"class":function(){return["filter-item city",Blaze.If(function(){return Spacebars.call(n.lookup("currentRegion"))},function(){return" active"})]}},"\n\n              ",HTML.DIV({"class":"filter-item-content"},"\n                ",HTML.DIV({"class":"filter-valign"},"\n\n                  ",HTML.DIV({"class":"filter-item-label"},"\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("currentRegion"))},function(){return["\n                      ",Blaze.View("lookup:currentRegion.name",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("currentRegion"),"name"))}),"\n                    "]},function(){return["\n                      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"evs.city")}),"\n                    "]}),"\n                  "),"\n\n                  ",Spacebars.With(function(){return{type:Spacebars.call("region")}},function(){return["\n                    ",HTML.DIV({"class":"filter-item-control"}),"\n                  "]}),"\n\n                "),"\n              "),"\n\n              ",HTML.DIV({"class":"filter-item-dropdown"},"\n                ",Blaze.Each(function(){return Spacebars.call(n.lookup("getRegions"))},function(){return["\n                  ",Spacebars.With(function(){return{item:Spacebars.call(n.lookup(".")),type:Spacebars.call("region")}},function(){return["\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("getEventCount"))},function(){return["\n                      ",HTML.DIV({"class":"filter-dropdown-item"},"\n                        ",HTML.SPAN("\n                          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("item"),"name"))},function(){return[Blaze.View("lookup:toLowerCase",function(){return Spacebars.mustache(n.lookup("toLowerCase"),Spacebars.dot(n.lookup("item"),"name"))})," "]}),"(",Blaze.View("lookup:getEventCount",function(){return Spacebars.mustache(n.lookup("getEventCount"))}),")\n                        "),"\n                      "),"\n                    "]}),"\n                  "]}),"\n                "]}),"\n              "),"\n\n            "),"\n\n            ",HTML.DIV({"class":function(){return["filter-item audience",Blaze.If(function(){return Spacebars.call(n.lookup("currentAudience"))},function(){return" active"})]}},"\n\n              ",HTML.DIV({"class":"filter-item-content"},"\n                ",HTML.DIV({"class":"filter-valign"},"\n\n                  ",HTML.DIV({"class":"filter-item-label"},"\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("currentAudience"))},function(){return["\n                      ",Blaze.View("lookup:currentAudience.name",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("currentAudience"),"name"))}),"\n                    "]},function(){return["\n                      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"pur.audience")}),"\n                    "]}),"\n                  "),"\n\n                  ",Spacebars.With(function(){return{type:Spacebars.call("audience")}},function(){return["\n                    ",HTML.DIV({"class":"filter-item-control"}),"\n                  "]}),"\n\n                "),"\n              "),"\n\n              ",HTML.DIV({"class":"filter-item-dropdown"},"\n                ",Blaze.Each(function(){return Spacebars.call(n.lookup("getAudiences"))},function(){return["\n                  ",Spacebars.With(function(){return{item:Spacebars.call(n.lookup(".")),type:Spacebars.call("audience")}},function(){return["\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("getEventCount"))},function(){return["\n                      ",HTML.DIV({"class":"filter-dropdown-item"},"\n                        ",HTML.SPAN("\n                          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("item"),"name"))},function(){return[Blaze.View("lookup:toLowerCase",function(){return Spacebars.mustache(n.lookup("toLowerCase"),Spacebars.dot(n.lookup("item"),"name"))})," "]}),"(",Blaze.View("lookup:getEventCount",function(){return Spacebars.mustache(n.lookup("getEventCount"))}),")\n                        "),"\n                      "),"\n                    "]}),"\n                  "]}),"\n                "]}),"\n              "),"\n\n            "),"\n\n            ",HTML.DIV({"class":function(){return["filter-item type",Blaze.If(function(){return Spacebars.call(n.lookup("currentType"))},function(){return" active"})]}},"\n\n              ",HTML.DIV({"class":"filter-item-content"},"\n                ",HTML.DIV({"class":"filter-valign"},"\n\n                  ",HTML.DIV({"class":"filter-item-label"},"\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("currentType"))},function(){return["\n                      ",Blaze.View("lookup:currentType.name",function(){return Spacebars.mustache(Spacebars.dot(n.lookup("currentType"),"name"))}),"\n                    "]},function(){return["\n                      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"evs.type")}),"\n                    "]}),"\n                  "),"\n\n                  ",Spacebars.With(function(){return{type:Spacebars.call("type")}},function(){return["\n                    ",HTML.DIV({"class":"filter-item-control"}),"\n                  "]}),"\n\n                "),"\n              "),"\n\n              ",HTML.DIV({"class":"filter-item-dropdown"},"\n                ",Blaze.Each(function(){return Spacebars.call(n.lookup("getEventTypes"))},function(){return["\n                  ",Spacebars.With(function(){return{item:Spacebars.call(n.lookup(".")),type:Spacebars.call("type")}},function(){return["\n                    ",Blaze.If(function(){return Spacebars.call(n.lookup("getEventCount"))},function(){return["\n                      ",HTML.DIV({"class":"filter-dropdown-item"},"\n                        ",HTML.SPAN("\n                          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("item"),"name"))},function(){return[Blaze.View("lookup:toLowerCase",function(){return Spacebars.mustache(n.lookup("toLowerCase"),Spacebars.dot(n.lookup("item"),"name"))})," "]}),"(",Blaze.View("lookup:getEventCount",function(){return Spacebars.mustache(n.lookup("getEventCount"))}),")\n                        "),"\n                      "),"\n                    "]}),"\n                  "]}),"\n                "]}),"\n              "),"\n\n            "),"\n\n            ",HTML.DIV({"class":function(){return["filter-item clear active",Blaze.If(function(){return Spacebars.call(n.lookup("noActiveFilters"))},function(){return" hidden"})]}},"\n              ",HTML.DIV({"class":"filter-item-content"},"\n                ",HTML.DIV({"class":"filter-valign"},"\n\n                  ",HTML.DIV({"class":"filter-item-label"},"\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"pur.clearFltr")}),"\n                  "),"\n\n                  ",HTML.Raw('<div class="filter-item-control"></div>'),"\n\n                "),"\n              "),"\n            "),"\n\n          "),"\n\n          ",HTML.DIV({"class":"evs-items"},"\n\n            ",Blaze.Each(function(){return Spacebars.call(n.lookup("eventItems"))},function(){return["\n\n              ",Blaze.If(function(){return Spacebars.call(n.lookup("showDay"))},function(){return["\n                ",HTML.DIV({"class":"evs-day-block"},"\n                  ",HTML.DIV({"class":"evs-valign"},"\n\n                    ",HTML.DIV({"class":"evs-day-tl"},"\n                      ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("startDate"),"D.M")}),"\n                    "),"\n\n                    ",HTML.DIV({"class":"evs-day-slash"},"\n                      /\n                    "),"\n\n                    ",HTML.DIV({"class":"evs-day-bl"},"\n                      ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("startDate"),"dddd")}),"\n                    "),"\n\n                  "),"\n                "),"\n              "]}),"\n\n              ",HTML.A({"class":function(){return["evs-item",Blaze.Unless(function(){return Spacebars.call(n.lookup("showDay"))},function(){return" not-first-child"})]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"eventItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n\n                ",HTML.Comment(' <div class="evs-item-participate">\n\n                  <div class="evs-item-full">\n                    {{_ "evs.full"}}\n                  </div>\n\n                  <div class="evs-item-actions">\n\n                    <button class="evs-item-btn">\n                      {{_ "evs.participate"}}\n                    </button>\n\n                    <div class="evs-item-plan">\n\n                      <div class="evs-item-picon"></div>\n\n                      <div class="evs-item-plabel">\n                        {{_ "evs.plan"}}\n                      </div>\n\n                    </div>\n\n                  </div>\n\n                </div> '),"\n\n                ",HTML.DIV({"class":"evs-item-top"},"\n\n                  ",Spacebars.With(function(){return Spacebars.call(n.lookup("getRegion"))},function(){return["\n                    ",HTML.DIV({"class":"evs-item-region"},"\n                      ",HTML.DIV({"class":"evs-valign"},"\n\n                        ",HTML.IMG({src:"/img/evs/region.png"}),"\n\n                        ",HTML.DIV({"class":"evs-item-rname"},"\n                          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                        "),"\n\n                      "),"\n                    "),"\n                  "]}),"\n\n                  ",Blaze.If(function(){return Spacebars.call(n.lookup("time"))},function(){return["\n                    ",HTML.DIV({"class":"evs-item-ticon"}),"\n\n                    ",HTML.DIV({"class":"evs-item-time"},"\n                      ",Blaze.View("lookup:time",function(){return Spacebars.mustache(n.lookup("time"))}),"\n                    "),"\n                  "]}),"\n\n                  ",Spacebars.With(function(){return Spacebars.call(n.lookup("getAudience"))},function(){return["\n                    ",HTML.DIV({"class":"evs-item-type"},"\n                      ",HTML.DIV({"class":"evs-valign"},"\n\n                        ",HTML.IMG({src:"/img/evs/audience.png"}),"\n\n                        ",HTML.DIV({"class":"evs-item-aname"},"\n                          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                        "),"\n\n                      "),"\n                    "),"\n                  "]}),"\n\n                  ",Spacebars.With(function(){return Spacebars.call(n.lookup("getType"))},function(){return["\n                    ",HTML.DIV({"class":"evs-item-type"},"\n                      ",HTML.DIV({"class":"evs-valign"},"\n\n                        ",Blaze.If(function(){return Spacebars.call(n.lookup("image"))},function(){return["\n                          ",HTML.IMG({src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))}}),"\n                        "]}),"\n\n                        ",HTML.DIV({"class":"evs-item-tname",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("color"))},function(){return["color: ",Blaze.View("lookup:color",function(){return Spacebars.mustache(n.lookup("color"))}),";"]})}},"\n                          ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                        "),"\n\n                      "),"\n                    "),"\n                  "]}),"\n\n                "),"\n\n                ",HTML.DIV({"class":"evs-item-name"},"\n                  ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                "),"\n\n              "),"\n\n            "]}),"\n\n          "),"\n        "),"\n      "),"\n\n      ",HTML.DIV({"class":"evs-right"},"\n\n        ",HTML.DIV({"class":"evs-calendar"},"\n\n          ",HTML.DIV({"class":"evs-calendar-top"},"\n\n            ",HTML.Raw('<div class="evs-calendar-arrow left"></div>'),"\n\n            ",HTML.DIV({"class":"evs-valign"},"\n              ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("getCalendarDate"),"MMMM")})," ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("getCalendarDate"),"YYYY")}),"\n            "),"\n\n            ",HTML.Raw('<div class="evs-calendar-arrow right"></div>'),"\n\n          "),"\n\n          ",HTML.DIV({"class":"evs-calendar-wdays"},"\n            ",Blaze.Each(function(){return Spacebars.call(n.lookup("weekDays"))},function(){return["\n              ",HTML.DIV({"class":"evs-calendar-wday"},Blaze.View("lookup:.",function(){return Spacebars.mustache(n.lookup("."))})),"\n            "]}),"\n          "),"\n\n          ",HTML.DIV({"class":"evs-calendar-days"},"\n            ",Blaze.Each(function(){return Spacebars.call(n.lookup("monthWeeks"))},function(){return["\n              ",HTML.DIV({"class":"evs-calendar-week"},"\n                ",Blaze.Each(function(){return Spacebars.call(n.lookup("."))},function(){return["\n                  ",HTML.DIV({"class":function(){return["evs-calendar-day",Blaze.If(function(){return Spacebars.call(n.lookup("getEventsByDate"))},function(){return" selectable"}),Blaze.If(function(){return Spacebars.call(n.lookup("isSelectedDate"))},function(){return" active"}),Blaze.If(function(){return Spacebars.call(n.lookup("isTodayDate"))},function(){return" today"})]}},"\n                    ",HTML.DIV({"class":"evs-calendar-dinside"},"\n                      ",HTML.DIV({"class":"evs-calendar-dnum"},"\n\n                        ",Blaze.If(function(){return Spacebars.call(n.lookup("."))},function(){return["\n                          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("getEventsByDate"),"length"))},function(){return["\n                            ",HTML.DIV({"class":"evs-calendar-devs"},"\n                              ",Blaze.Each(function(){return Spacebars.call(n.lookup("getEventsByDate"))},function(){return["\n                                ",HTML.DIV({"class":"evs-calendar-dev",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("color"))},function(){return["background: ",Blaze.View("lookup:getCalendarDayColor",function(){return Spacebars.mustache(n.lookup("getCalendarDayColor"))}),";"]})}}),"\n                              "]}),"\n                            "),"\n                          "]}),"\n                        "]}),"\n\n                        ",HTML.DIV({"class":"evs-valign"},"\n                          ",Blaze.View("lookup:.",function(){return Spacebars.mustache(n.lookup("."))}),"\n                        "),"\n\n                      "),"\n                    "),"\n                  "),"\n                "]}),"\n              "),"\n            "]}),"\n          "),"\n\n        "),"\n\n        ",HTML.Raw('<!-- <div class="evs-checkboxes">\n\n          <div class="evs-check-item">\n\n            <input\n              id="evs-chk-all"\n              class="ui-checkbox evs-checkbox"\n              type="checkbox"\n            />\n\n            <label class="rss-chck-lbl" for="evs-chk-all">\n              {{_ "evs.all"}}\n            </label>\n\n          </div>\n\n          <div class="evs-check-item">\n\n            <input\n              id="evs-chk-participate"\n              class="ui-checkbox evs-checkbox"\n              type="checkbox"\n            />\n\n            <label class="rss-chck-lbl" for="evs-chk-participate">\n              {{_ "evs.iParticipate"}}\n            </label>\n\n          </div>\n\n          <div class="evs-check-item">\n\n            <input\n              id="evs-chk-plan"\n              class="ui-checkbox evs-checkbox"\n              type="checkbox"\n            />\n\n            <label class="rss-chck-lbl" for="evs-chk-plan">\n              {{_ "evs.iPlan"}}\n            </label>\n\n          </div>\n\n        </div> -->'),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("eventTypes"),"length"))},function(){return["\n          ",HTML.SPAN({"class":"evs-show-all"},"\n\n            ",HTML.INPUT({id:"evs-show-all","class":"ui-checkbox evs-checkbox",type:"checkbox",checked:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("noActiveFilters"))},function(){return"checked"})}}),"\n\n            ",HTML.LABEL({"class":"rss-chck-lbl","for":"evs-show-all"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"evs.all")}),"\n            "),"\n\n          "),"\n        "]}),"\n\n      "),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("footer"),Template.footer=new Template("Template.footer",function(){var e=this;return[HTML.Raw('<div class="ft-mdl">\n    <img class="ft-mdl-a" src="/img/ft-awards.png">\n  </div>\n  '),HTML.DIV({"class":"ft-wrap"},"\n    ",HTML.DIV({"class":"ft-block"},"\n      ",HTML.DIV({"class":"ft-col f"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"mbaList")}},"\n          ",HTML.DIV({"class":"ft-col-title"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.mba")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"presidents")}},"\n          ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.president")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"executive")}},"\n          ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.executive")})),"\n        "),"\n\n        ",Blaze.If(function(){return!1},function(){return["\n          ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"leadership")}},"\n            ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.leadership")})),"\n          "),"\n        "]}),"\n\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"bank")}},"\n          ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.banking")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"agro")}},"\n          ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.agro")})),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"ft-col ml"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purList")}},"\n          ",HTML.DIV({"class":"ft-col-title"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.programs")})),"\n        "),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("head"))},function(){return["\n          ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purList",Spacebars.kw({query:e.lookup("getPurDirectionQuery")}))}},"\n            ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n          "),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"ft-col mr"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("tail"))},function(){return["\n          ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purList",Spacebars.kw({query:e.lookup("getPurDirectionQuery")}))}},"\n            ",HTML.DIV({"class":"ft-row"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n          "),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"ft-col l"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"aboutKMBS")}},"\n          ",HTML.DIV({"class":"ft-col-title"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.kmbs")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"aboutKMBS")}},"\n          ",HTML.DIV({"class":function(){return["ft-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"aboutKMBS")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.about")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"coachList")}},"\n          ",HTML.DIV({"class":function(){return["ft-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"coachList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.coaches")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"team")}},"\n          ",HTML.DIV({"class":function(){return["ft-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"team")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.alumni")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventList")}},"\n          ",HTML.DIV({"class":function(){return["ft-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"alumni")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.events")})),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsList")}},"\n          ",HTML.DIV({"class":function(){return["ft-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"newsList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.news")})),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"ft-col p"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"contacts")}},"\n          ",HTML.DIV({"class":"ft-col-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.contacts")})),"\n        "),"\n        ",HTML.A({href:"http://innovations.com.ua/ua/index",target:"_blank"},"\n          ",HTML.DIV({"class":"ft-col-lbl hr"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.innovations")})),"\n        "),"\n        ",HTML.DIV({"class":"ft-col-phone"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"footer.phone")})),"\n      "),"\n      ",HTML.Raw('<div class="ft-copyright">©2015 KMBS</div>'),"\n      ",HTML.Raw('<a href="http://aimbulance.com" target="_blank">\n        <img class="ft-aimbulance" src="/img/aimbulance.png">\n      </a>'),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("applicationFormBlock"),Template.applicationFormBlock=new Template("Template.applicationFormBlock",function(){var a=this;return Blaze.Each(function(){return Spacebars.dataMustache(a.lookup("eachIndex"),a.lookup("subs"))},function(){return["\n    ",HTML.DIV({"class":function(){return["fr-sb ",Spacebars.mustache(a.lookup("isCurrentStep"))]}},"\n      ",Blaze._TemplateWith(function(){return{index:Spacebars.call(a.lookup("index")),value:Spacebars.call(a.lookup("value")),currentStep:Spacebars.call(a.lookup("currentStep")),formData:Spacebars.call(a.lookup("formData"))}},function(){return Spacebars.include(a.lookupTemplate("applicationFormSub"))}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("applicationFormContent"),Template.applicationFormContent=new Template("Template.applicationFormContent",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("stateLoaded"))},function(){return["\n    ",HTML.DIV({"class":"fr-wrap"},"\n      ",Blaze.If(function(){return Spacebars.call(n.lookup("backUrl"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("backUrl"))}},"\n          ",Blaze._TemplateWith(function(){return{className:Spacebars.call("fr-back"),caption:Spacebars.call("form.back")}},function(){return Spacebars.include(n.lookupTemplate("btnBack"))}),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"fr-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.title")})),"\n      ",HTML.DIV({"class":"fr-sub"},Blaze.View("lookup:subTitle",function(){return Spacebars.mustache(n.lookup("subTitle"))})),"\n      ",Blaze.If(function(){return Spacebars.call(n.lookup("isMba"))},function(){return["\n        ",HTML.DIV({"class":"fr-sub-mba"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.kmbs")})),"\n      "]}),"\n      ",HTML.DIV({"class":"fr-req"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.fieldsRequired")})),"\n    "),"\n\n    ",HTML.FORM({"class":"t-form"},"\n      ",Blaze._TemplateWith(function(){return{index:Spacebars.call(0)}},function(){return Spacebars.include(n.lookupTemplate("applicationFormBlock"))}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("applicationFormSub"),Template.applicationFormSub=new Template("Template.applicationFormSub",function(){var e=this;return[HTML.DIV({"class":function(){return["fr-sb-ttl ",Spacebars.mustache(e.lookup("hasBackAction"))]}},Blaze.View("lookup:getValue",function(){return Spacebars.mustache(e.lookup("getValue"),"data.title")})),"\n\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("showArrow"))},function(){return["\n    ",HTML.IMG({"class":function(){return["fr-sb-arr ",Spacebars.mustache(e.lookup("showedArrowClass"))]},src:"/img/form-arrow-d.png"}),"\n  "]}),"\n\n  ",HTML.DIV({"class":"fr-sb-s"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("value"),"data","canreuse"))},function(){return["\n      ",HTML.DIV({"class":"fr-sb-reu"},"\n        ",HTML.DIV({"class":"fr-sb-reu-b"},"\n          ",Spacebars.With(function(){return{suffix:Spacebars.call(0),index:Spacebars.call(e.lookup("index"))}},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup("getVmData"))}},function(){return Spacebars.include(e.lookupTemplate("vmForm"))}),"\n          "]}),"\n        "),"\n      "),"\n\n      ",Blaze._TemplateWith(function(){return{className:Spacebars.call("fr-sb-more t-more"),caption:Spacebars.call(e.lookup("getReuseLabel")),index:Spacebars.call(e.lookup("index"))}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n    "]},function(){return["\n      ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup("getVmData"))}},function(){return Spacebars.include(e.lookupTemplate("vmForm"))}),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isNotLast"),Spacebars.dot(e.lookup("subs"),"length"))},function(){return["\n      ",HTML.DIV({"class":"fr-next -n t-n"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"form.next")})),"\n    "]},function(){return["\n      ",Spacebars.With(function(){return{id:Spacebars.call(e.lookup("getRandomId"))}},function(){return["\n        ",HTML.INPUT({id:function(){return Spacebars.mustache(e.lookup("id"))},type:"checkbox",name:"_agree","class":"t-a ui-checkbox"}),"\n        ",HTML.LABEL({"class":"fr-agree","for":function(){return Spacebars.mustache(e.lookup("id"))}},"\n          ",HTML.SPAN({"class":"fr-agree-s"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"form.iAgree")})," ",HTML.A({"class":"fr-agree-a",target:"_blank",href:"/pdf/угода_користувача.pdf"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"form.agreement")}))),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"fr-next -s t-s"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"form.submit")})),"\n    "]}),"\n  ")]})}();

!function(){Template.__checkName("applicationFormError"),Template.applicationFormError=new Template("Template.applicationFormError",function(){var r=this;return Blaze.If(function(){return Spacebars.call(r.lookup("stateError"))},function(){return["\n    ",HTML.DIV({"class":"fr-err"},"\n      ",HTML.DIV({"class":"fr-err-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(r.lookup("_"),"errors.generic")}),"!"),"\n      ",HTML.DIV({"class":"fr-err-msg"},Blaze.View("lookup:message",function(){return Spacebars.mustache(r.lookup("message"))})),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("applicationFormFinish"),Template.applicationFormFinish=new Template("Template.applicationFormFinish",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("stateFinish"))},function(){return["\n    ",HTML.DIV({"class":"fr-fin"},"\n      ",Blaze.If(function(){return Spacebars.call(n.lookup("backUrl"))},function(){return["\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("backUrl"))}},"\n          ",Blaze._TemplateWith(function(){return{className:Spacebars.call("fr-back"),caption:Spacebars.call("form.back")}},function(){return Spacebars.include(n.lookupTemplate("btnBack"))}),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"fr-fin-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.finish-title")})),"\n      ",HTML.DIV({"class":"fr-fin-msg"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.finish-msg")})),"\n      ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"main")}},"\n        ",HTML.DIV({"class":"fr-fin-btn c-btn-s"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"dev.btn")})),"\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("applicationForm"),Template.applicationForm=new Template("Template.applicationForm",function(){var a=this;return[Spacebars.include(a.lookupTemplate("applicationFormLoading")),"\n  ",Spacebars.include(a.lookupTemplate("applicationFormError")),"\n  ",Spacebars.include(a.lookupTemplate("applicationFormContent")),"\n  ",Spacebars.include(a.lookupTemplate("applicationFormFinish"))]})}();

!function(){Template.__checkName("applicationFormLoading"),Template.applicationFormLoading=new Template("Template.applicationFormLoading",function(){var n=this;return Blaze.If(function(){return Spacebars.call(n.lookup("stateLoading"))},function(){return["\n    ",HTML.DIV({style:"margin:40px;height:500px;"},"\n      loading!\n    "),"\n  "]})})}();

!function(){Template.body.addContent(function(){var e=this;return[HTML.Raw('<!-- Google Tag Manager -->\n  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TF43BJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>\n  '),HTML.SCRIPT("(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-TF43BJ');"),HTML.Raw("\n  <!-- End Google Tag Manager -->")]}),Meteor.startup(Template.body.renderToDocument),Template.__checkName("layout"),Template.layout=new Template("Template.layout",function(){var e=this;return[HTML.DIV({style:"display: none;"},"\n    ",Spacebars.include(e.lookupTemplate("btnCallbackSvg")),"\n    ",Spacebars.include(e.lookupTemplate("svgMbaMaskAgro")),"\n    ",Spacebars.include(e.lookupTemplate("svgMbaMaskBanking")),"\n    ",Spacebars.include(e.lookupTemplate("svgMbaMaskExecutive")),"\n    ",Spacebars.include(e.lookupTemplate("svgMbaMaskLeadership")),"\n    ",Spacebars.include(e.lookupTemplate("svgMbaMaskPresidents")),"\n    ",Spacebars.include(e.lookupTemplate("btnsShareSVGFB")),"\n    ",Spacebars.include(e.lookupTemplate("btnsShareSVGTW")),"\n    ",Spacebars.include(e.lookupTemplate("btnsShareSVGGG")),"\n  "),"\n\n  ",Spacebars.include(e.lookupTemplate("menu")),"\n  ",HTML.MAIN("\n    ",Spacebars.include(e.lookupTemplate("yield")),"\n  "),"\n  ",Spacebars.include(e.lookupTemplate("rss")),"\n  ",Spacebars.include(e.lookupTemplate("footer")),"\n  ",Spacebars.include(e.lookupTemplate("preloader"))]})}();

!function(){Template.__checkName("mainEvents"),Template.mainEvents=new Template("Template.mainEvents",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("events"))},function(){return["\n    ",HTML.DIV({"class":"me"},"\n      ",HTML.DIV({"class":"me-ttl"},"\n        ",HTML.SPAN({"class":"me-ttl-txt"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"evs.closest")}),"\n        "),"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventList")}},"\n          ",Blaze._TemplateWith(function(){return{className:Spacebars.call("me-btn"),caption:Spacebars.call("evs.toCalendar")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n        "),"\n      "),"\n      ",Blaze._TemplateWith(function(){return{offset:Spacebars.call(320),container:Spacebars.call(".me-wrap"),inner:Spacebars.call(".me-cont"),paginationClassName:Spacebars.call("me-wrap-pgn"),arrows:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("scrHorizontal"),function(){return["\n        ",HTML.DIV({"class":"me-wrap"},"\n          ",HTML.DIV({"class":"me-cont",style:function(){return Spacebars.mustache(e.lookup("eventsWidth"))}},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("events"))},function(){return["\n              ",Spacebars.include(e.lookupTemplate("mainEventsItem")),"\n            "]}),"\n          "),"\n        "),"\n      "]})}),"\n    "),"\n  "]})}),Template.__checkName("mainEventsItem"),Template.mainEventsItem=new Template("Template.mainEventsItem",function(){var e=this;return HTML.A({"class":"me-itm",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n    ",HTML.DIV({"class":"me-date"},"\n      ",HTML.SPAN({"class":"big"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"D")})),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM")}),"\n    "),"\n    ",HTML.DIV({"class":"me-dlbl"},Blaze.View("lookup:dateVerbal",function(){return Spacebars.mustache(e.lookup("dateVerbal"))})),"\n\n    ",HTML.DIV({"class":"me-info"},"\n\n      ",HTML.DIV({"class":"me-name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n\n      ",HTML.DIV({"class":"me-desc"},Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),e.lookup("getDescription")))})),"\n\n    "),"\n\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("me-dtls")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n\n    ",HTML.DIV({"class":"me-etp"},"\n      ",HTML.IMG({"class":"me-etp-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",e.lookup("getEventTypeImageFiles"))}}),"\n      ",HTML.DIV({"class":"me-etp-lbl"},Blaze.View("lookup:getEventTypeProp",function(){return Spacebars.mustache(e.lookup("getEventTypeProp"),"name")})),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mainInterviews"),Template.mainInterviews=new Template("Template.mainInterviews",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("interviews"),"length"))},function(){return["\n    ",HTML.DIV({"class":"mi-wraps"},"\n      ",HTML.DIV({"class":"mi-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"interviews.title")})),"\n      ",HTML.DIV({"class":"mi-wrap"},"\n        ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachIndex"),e.lookup("interviews"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{state:Spacebars.call(e.lookup("ownState")),index:Spacebars.call(e.lookup("index")),value:Spacebars.call(e.lookup("value"))}},function(){return Spacebars.include(e.lookupTemplate("mainInterviewsItem"))}),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("gt"),Spacebars.dot(e.lookup("interviews"),"length"),1)},function(){return["\n          \n          ",HTML.DIV({"class":"ms-arr -l t-p-p"}),"\n          ",HTML.DIV({"class":"ms-arr -r t-p-n"}),"\n        "]}),"\n        ",Blaze._TemplateWith(function(){return{className:Spacebars.call(e.lookup("playBtnClassName"))}},function(){return Spacebars.include(e.lookupTemplate("btnPlayBig"))}),"\n      "),"\n    "),"\n  "]})}),Template.__checkName("mainInterviewsItem"),Template.mainInterviewsItem=new Template("Template.mainInterviewsItem",function(){var e=this;return HTML.DIV({"class":function(){return["mi-itm ",Spacebars.mustache(e.lookup("isFirstItem"))," ",Spacebars.mustache(e.lookup("isClear"))]}},"\n    ",HTML.DIV({"class":"mi-info"},"\n      ",HTML.DIV({"class":"mi-nm"},Blaze.View("lookup:value.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("value"),"name"))})),"\n      ",HTML.DIV({"class":"mi-dsc"},Blaze.View("lookup:value.occupation",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("value"),"occupation"))})),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("value"),"video"))},function(){return["\n      ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$isYoutube"),Spacebars.dot(e.lookup("value"),"video"))},function(){return["\n        ",HTML.IFRAME({"class":"mi-img",src:function(){return["https://www.youtube.com/embed/",Spacebars.mustache(Spacebars.dot(e.lookup("value"),"video")),"?version=3&rel=0&wmode=opaque&modestbranding=1&iv_load_policy=3&showinfo=0&controls=1}&autohide=1&enablejsapi=1"]},frameborder:"0",type:"text/html",wmode:"opaque"}),"\n      "]},function(){return["\n        ",HTML.IFRAME({"class":"mi-img -s",src:function(){return["//player.vimeo.com/video/",Spacebars.mustache(Spacebars.dot(e.lookup("value"),"video")),"?badge=0&byline=0&loop=1&title=0"]},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"}),"\n      "]}),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("mainNewsAndEvents"),Template.mainNewsAndEvents=new Template("Template.mainNewsAndEvents",function(){var e=this;return HTML.DIV({"class":"nae"},"\n    ",HTML.DIV({"class":"nae-wrap"},"\n      ",HTML.DIV({"class":"nae-nws"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n          ",Blaze._TemplateWith(function(){return{news:Spacebars.call(e.lookup("news")),width:Spacebars.call(e.lookup("naeNwsWidth"))}},function(){return Spacebars.include(e.lookupTemplate("mainNewsAndEvents_news"))}),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"nae-evs"},"\n        ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents_events")),"\n      "),"\n    "),"\n  ")}),Template.__checkName("mainNewsAndEvents_news"),Template.mainNewsAndEvents_news=new Template("Template.mainNewsAndEvents_news",function(){var e=this;return[HTML.DIV({"class":"nae-nws-cont"},"\n    ",HTML.DIV({"class":"nae-nws-wrap",style:function(){return Spacebars.mustache(e.lookup("width"))}},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachSeries"),e.lookup("news"),2)},function(){return["\n        ",HTML.DIV({"class":"nae-nws-page"},"\n          ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"0"))},function(){return["\n            ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForNews"))}},"\n              ",HTML.DIV({"class":"nae-nws-itm -l"},"\n                ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents_news_content")),"\n              "),"\n            "),"\n          "]}),"\n          ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"1"))},function(){return["\n            ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"1"))},function(){return["\n              ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForNews"))}},"\n                ",HTML.DIV({"class":"nae-nws-itm -r"},"\n                  ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents_news_content")),"\n              "),"\n            "),"\n          "]}),"\n        "]}),"\n        "),"\n      "]}),"\n    "),"\n  "),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("gt"),Spacebars.dot(e.lookup("news"),"length"),2)},function(){return["\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("nae-nws-pgn")}},function(){return Spacebars.include(e.lookupTemplate("btnPaginationArrows"))}),"\n  "]}),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsList")}},"\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("nae-btn-n"),caption:Spacebars.call("nae.toNews")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n  ")]}),Template.__checkName("mainNewsAndEvents_news_content"),Template.mainNewsAndEvents_news_content=new Template("Template.mainNewsAndEvents_news_content",function(){var e=this;return[HTML.DIV({"class":"nae-nws-lt"},"\n    ",HTML.DIV({"class":"nae-nws-ttl"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n    ",HTML.DIV({"class":"nae-nws-dsc"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),e.lookup("shortDesc"))})),"\n    ",HTML.DIV({"class":"nae-nws-date"},Blaze.View("lookup:fromNow",function(){return Spacebars.mustache(e.lookup("fromNow"),e.lookup("date"))})),"\n  "),"\n  ",HTML.DIV(HTML.Attrs({"class":"nae-nws-rt cover-bg"},function(){return Spacebars.attrMustache(e.lookup("assetUrlBg"),"ImageFiles",e.lookup("image"))}))]}),Template.__checkName("mainNewsAndEvents_events"),Template.mainNewsAndEvents_events=new Template("Template.mainNewsAndEvents_events",function(){var e=this;return[HTML.DIV({"class":"nae-evs-wrap"},"\n    ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachSeries"),e.lookup("events"),2)},function(){return["\n      ",HTML.DIV({"class":"nae-evs-page"},"\n        ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"0"))},function(){return["\n          ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getPath"))},"class":"nae-evs-itm"},"\n            ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents_events_content")),"\n          "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"1"))},function(){return["\n          ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"1"))},function(){return["\n            ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getPath"))},"class":"nae-evs-itm"},"\n              ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents_events_content")),"\n            "),"\n          "]}),"\n        "]}),"\n      "),"\n    "]}),"\n  "),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("gt"),Spacebars.dot(e.lookup("events"),"length"),2)},function(){return["\n    ",HTML.DIV({"class":"nae-evs-pgn"},"\n      ",HTML.DIV({"class":"nae-evs-btn t-e-p"},"\n        ",HTML.DIV({"class":"nae-evs-arr -l"}),"\n      "),"\n      ",HTML.DIV({"class":"nae-evs-btn t-e-n"},"\n        ",HTML.DIV({"class":"nae-evs-arr -r"}),"\n      "),"\n    "),"\n  "]})]}),Template.__checkName("mainNewsAndEvents_events_content"),Template.mainNewsAndEvents_events_content=new Template("Template.mainNewsAndEvents_events_content",function(){var e=this;return[HTML.DIV({"class":"nae-evs-date m-sub-evs-bl-d"},"\n    ",HTML.SPAN({"class":"big"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"D")})),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM/YYYY")}),"\n  "),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$eq"),e.lookup("type"),0)},function(){return["\n    ",HTML.SPAN("\n      ",HTML.DIV({"class":"nae-evs-goto -p"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"nae.programStart")})),"\n    "),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$eq"),e.lookup("type"),1)},function(){return["\n    ",HTML.SPAN("\n      ",HTML.DIV({"class":"nae-evs-goto -m"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"nae.mbaStart")})),"\n    "),"\n  "]}),"\n  ",HTML.DIV({"class":"nae-evs-ttl"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n  ",HTML.DIV({"class":"nae-evs-dsc"},Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))})),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$eq"),e.lookup("type"),0)},function(){return["\n    ",HTML.SPAN("\n      ",HTML.DIV({"class":"nae-evs-dtl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.details")}),HTML.I({"class":"fa fa-plus"}),"\n      "),"\n    "),"\n  "]}),"\n  ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$eq"),e.lookup("type"),1)},function(){return["\n    ",HTML.SPAN("\n      ",HTML.DIV({"class":"nae-evs-dtl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.details")}),HTML.I({"class":"fa fa-plus"}),"\n      "),"\n    "),"\n  "]})]})}();

!function(){Template.__checkName("mainNews"),Template.mainNews=new Template("Template.mainNews",function(){var e=this;return HTML.DIV({"class":"mn-wrap"},"\n    ",HTML.DIV({"class":"mn-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"news.title")})),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("newsLink"))}},"\n      ",Blaze._TemplateWith(function(){return{className:Spacebars.call("mn-btn"),caption:Spacebars.call("news.toNews")}},function(){return Spacebars.include(e.lookupTemplate("btnSimple"))}),"\n    "),"\n    ",HTML.DIV({"class":"mn-vds clearfix"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("mainNewsItem")),"\n      "]}),"\n    "),"\n  ")}),Template.__checkName("mainNewsItem"),Template.mainNewsItem=new Template("Template.mainNewsItem",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForNews"))}},"\n    ",HTML.DIV(HTML.Attrs({"class":"mn-itm cover-bg"},function(){return Spacebars.attrMustache(e.lookup("assetUrlBg"),"ImageFiles",e.lookup("image"))}),"\n      ",HTML.DIV({"class":"mn-itm-n"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),e.lookup("name"))})),"\n      ",HTML.Raw('<div class="mn-itm-bg"></div>'),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("isVideo"))},function(){return["\n        ",Blaze._TemplateWith(function(){return{className:Spacebars.call("mn-itm-p")}},function(){return Spacebars.include(e.lookupTemplate("btnPlay"))}),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mainProgramsKmbs"),Template.mainProgramsKmbs=new Template("Template.mainProgramsKmbs",function(){var a=this;return HTML.DIV({"class":"pks"},"\n    ",HTML.DIV({"class":"pks-wrap clearfix"},"\n      ",HTML.DIV({"class":"pks-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pks.programsKmbs")})),"\n      ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"mbaList")}},"\n        ",HTML.DIV({"class":"pks-blk t-vid"},"\n          ",HTML.DIV({"class":"pks-blk-ttl -l"},"\n            ",HTML.DIV(Blaze.View("lookup:mbaCount",function(){return Spacebars.mustache(a.lookup("mbaCount"))})),"\n            ",HTML.DIV(Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pks.programs",Spacebars.kw({count:a.lookup("mbaCount")}))})),"\n          "),"\n          ",HTML.DIV({"class":"pks-blk-msk"},"\n            ",HTML.Raw('<img src="/img/mba-mask-eb2.png" class="pks-blk-fg">'),"\n            ",Blaze._TemplateWith(function(){return{bgColor:Spacebars.call("#ebebeb")}},function(){return Spacebars.include(a.lookupTemplate("cMaskBlocker"))}),"\n            ",Spacebars.include(a.lookupTemplate("mbaBgVideoMain")),"\n          "),"\n        "),"\n      "),"\n      ",HTML.A({href:function(){return Spacebars.mustache(a.lookup("pathFor"),"purList")}},"\n        ",HTML.DIV({"class":"pks-blk -r"},"\n          ",HTML.DIV({"class":"pks-blk-ttl -r"},"\n            ",HTML.DIV(Blaze.View("lookup:prgCount",function(){return Spacebars.mustache(a.lookup("prgCount"))})),"\n            ",HTML.DIV(Blaze.View("lookup:prgCountEnd",function(){return Spacebars.mustache(a.lookup("prgCountEnd"))})),"\n          "),"\n          ",HTML.DIV({"class":"pks-blk-lbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(a.lookup("_"),"pks.pur")})),"\n          ",HTML.Raw('<div class="pks-blk-img"></div>'),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mainSlider"),Template.mainSlider=new Template("Template.mainSlider",function(){var e=this;return HTML.DIV({"class":"ms-wrap"},"\n    ",HTML.DIV({"class":"ms-inner"},"\n      ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachIndex"),e.lookup("slides"))},function(){return["\n        ",HTML.DIV({"class":function(){return["ms-item ",Spacebars.mustache(e.lookup("isFirstSlide"))," ",Spacebars.mustache(e.lookup("hasPlayClass"))]}},"\n          ",HTML.DIV({"class":"ms-vl"}),"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("hasVideo"))},function(){return["\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("value"),"image"))},function(){return["\n              ",HTML.IMG({"class":"ms-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",Spacebars.dot(e.lookup("value"),"image"))}}),"\n            "]}),"\n            ",HTML.VIDEO({"class":"ms-ifrm",preload:"auto",muted:"",loop:""},"\n              ",HTML.SOURCE({src:function(){return Spacebars.mustache(e.lookup("videoSrc"),"mp4")},type:"video/mp4"}),"\n              ",HTML.SOURCE({src:function(){return Spacebars.mustache(e.lookup("videoSrc"),"webm")},type:"video/webm"}),"\n              ",HTML.SOURCE({src:function(){return Spacebars.mustache(e.lookup("videoSrc"),"ogv")},type:"video/ogg"}),"\n            "),"\n          "]},function(){return["\n            ",HTML.IMG({"class":"ms-img",src:function(){return Spacebars.mustache(e.lookup("assetUrl"),"ImageFiles",Spacebars.dot(e.lookup("value"),"image"))}}),"\n          "]}),"\n          ",HTML.DIV({"class":"ms-info-txt"},"\n            ",HTML.DIV({"class":"ms-ttl"},Blaze.View("lookup:$str",function(){return Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("value"),"name"))})),"\n            ",HTML.DIV({"class":"ms-dsc"},Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),Spacebars.dot(e.lookup("value"),"desc")))})),"\n            ",HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("value"),"url"))},target:"_blank"},"\n              ",HTML.DIV({"class":"ms-btn"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"slider.more")})),"\n            "),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("showPlay"))},function(){return["\n              ",HTML.DIV({"class":"ms-video t-play-ex"},"\n                ",Blaze._TemplateWith(function(){return{className:Spacebars.call("ms-play")}},function(){return Spacebars.include(e.lookupTemplate("btnPlay"))}),"\n                ",HTML.DIV({"class":"ms-plbl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"slider.video")})),"\n              "),"\n            "]}),"\n          "),"\n        "),"\n      "]}),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("gt"),Spacebars.dot(e.lookup("slides"),"length"),1)},function(){return["\n      ",HTML.DIV({"class":"ms-arr -l t-left"}),"\n      ",HTML.DIV({"class":"ms-arr -r t-right"}),"\n      ",HTML.DIV({"class":"ms-dots"},"\n        ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("eachIndex"),e.lookup("slides"))},function(){return["\n          ",HTML.DIV({"class":function(){return["ms-dots-i ",Spacebars.mustache(e.lookup("isFirstSlide"))," t-dot"]}}),"\n        "]}),"\n      "),"\n    "]}),"\n  ")}),Template.__checkName("mainSliderIframe"),Template.mainSliderIframe=new Template("Template.mainSliderIframe",function(){var e=this;return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("$isYoutube"),Spacebars.dot(e.lookup("data"),"video"))},function(){return["\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("data"),"video"))},function(){return["\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("data"),"isModal"))},function(){return["\n        ",HTML.IFRAME({"class":function(){return Spacebars.mustache(e.lookup("className"))},src:function(){return["https://www.youtube.com/v/",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"video")),"?version=3&rel=0&wmode=opaque&enablejsapi=1",Spacebars.mustache(e.lookup("shouldLoop")),"&modestbranding=1&iv_load_policy=3",Spacebars.mustache(e.lookup("shouldHideControls")),Spacebars.mustache(e.lookup("shouldAutoplay"))]},frameborder:"0",type:"text/html",wmode:"opaque"}),"\n      "]},function(){return["\n        ",HTML.DIV({"class":"ms-bg"}),"\n      "]}),"\n    "]}),"\n  "]},function(){return["\n    ",HTML.IFRAME({"class":function(){return Spacebars.mustache(e.lookup("className"))},src:function(){return["//player.vimeo.com/video/",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"video")),"?badge=0&byline=0",Spacebars.mustache(e.lookup("shouldLoop")),"&title=0",Spacebars.mustache(e.lookup("shouldAutoplay"))]},frameborder:"0",webkitallowfullscreen:"0",mozallowfullscreen:"0",allowfullscreen:"0"}),"\n  "]})})}();

!function(){Template.__checkName("mbaItem"),Template.mbaItem=new Template("Template.mbaItem",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),e.lookup("shortName"))},"class":function(){return["mbs-course -",Spacebars.mustache(e.lookup("shortName"))," -course"]}},"\n    ",HTML.H1(HTML.SPAN({"class":"hidden"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),Blaze.View("lookup:explain",function(){return Spacebars.mustache(e.lookup("explain"))})),"\n    ",HTML.DIV({"class":"mbs-course-title"},"\n      ",HTML.DIV({"class":"mbs-course-mask"},"\n        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("mask"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        ",Blaze._TemplateWith(function(){return{bgColor:Spacebars.call("#f2f2f2")}},function(){return Spacebars.include(e.lookupTemplate("cMaskBlocker"))}),"\n      "),"\n      ",HTML.DIV({"class":"mbs-course-bg"},"\n        ",HTML.VIDEO({"class":"mbs-video",loop:"loop",preload:"auto",muted:"",poster:function(){return["/img/mba/",Spacebars.mustache(e.lookup("$num")),".jpg"]}},"\n          ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("$num")),".mp4"]},type:"video/mp4"}),"\n          ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("$num")),".webm"]},type:"video/webm"}),"\n          ",HTML.SOURCE({src:function(){return["/video/mba/",Spacebars.mustache(e.lookup("$num")),".ogv"]},type:"video/ogg"}),"\n          ",HTML.IMG({src:function(){return["/img/mba/",Spacebars.mustache(e.lookup("$num")),".jpg"]},alt:""}),"\n        "),"\n      "),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaList"),Template.mbaList=new Template("Template.mbaList",function(){var e=this;return HTML.DIV({"class":"mbs-wrap"},"\n    ",HTML.H2(Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mbs.title")})),"\n    ",HTML.H4(Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"mbs.subTitle"))})),"\n\n    ",HTML.SECTION({"class":"mbs-list clearfix"},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("mbaList"))},function(){return["\n        ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("$map"),e.lookup("mbaList"))},function(){return["\n          ",HTML.DIV({"class":"mbs-course-wrap t-program"},"\n            ",Spacebars.include(e.lookupTemplate("mbaItem")),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("event"))},function(){return["\n        ",HTML.DIV({"class":"mbs-course-wrap"},"\n          ",Spacebars.With(function(){return Spacebars.call(e.lookup("event"))},function(){return["\n            ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))},"class":"mbs-course -event"},"\n              ",HTML.DIV({"class":"mbse-wrap"},"\n                ",HTML.SPAN({"class":"mbse-date"},"\n                  ",HTML.SPAN({"class":"mbse-day"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"DD")})),"/",HTML.SPAN({"class":"mbse-month"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM")})),"/",HTML.SPAN({"class":"mbse-year"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"YYYY")})),"\n                "),"\n                ",HTML.SPAN({"class":"mbse-date-label"},Blaze.View("lookup:fromNow",function(){return Spacebars.mustache(e.lookup("fromNow"),e.lookup("startDate"))})),"\n              "),"\n              ",HTML.DIV({"class":"mbse-title"},"\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n              "),"\n              ",HTML.DIV({"class":"mbse-desc"},"\n                ",Blaze.View("lookup:$str",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("$str"),e.lookup("desc")))}),"\n              "),"\n              ",HTML.SPAN({"class":"mbse-link"},"\n                ",Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"mbs.details")})," +\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "]}),"\n    "),"\n  ")})}();

!function(){Template.__checkName("mbaProgram"),Template.mbaProgram=new Template("Template.mbaProgram",function(){var a=this;return Blaze.If(function(){return Spacebars.call(a.lookup("program"))},function(){return["\n    ",HTML.DIV({"class":"mba-wrap"},"\n      ",Spacebars.With(function(){return{program:Spacebars.call(a.lookup("program"))}},function(){return["\n        ",Spacebars.include(a.lookupTemplate("mbaProgramIntro")),"\n        ",Spacebars.include(a.lookupTemplate("mbaProgramNews")),"\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"opportunities"))},function(){return["\n          ",Spacebars.include(a.lookupTemplate("mbaProgramFacilities")),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(a.lookup("subscriptionsReady"))},function(){return["\n          ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"structure"))},function(){return["\n            ",Spacebars.include(a.lookupTemplate("mbaProgramStructure")),"\n          "]}),"\n          ",Spacebars.include(a.lookupTemplate("mbaProgramFormats")),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"requirements","length"))},function(){return["\n          ",Spacebars.include(a.lookupTemplate("mbaProgramRquirements")),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("program"),"enterReqs","length"))},function(){return["\n          ",Spacebars.include(a.lookupTemplate("mbaProgramEntrance")),"\n        "]}),"\n        ",Spacebars.include(a.lookupTemplate("mbaProgramContacts")),"\n        ",Spacebars.include(a.lookupTemplate("mbaProgramShare")),"\n        ",Spacebars.include(a.lookupTemplate("mbaProgramEvents")),"\n      "]}),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("menu"),Template.menu=new Template("Template.menu",function(){var n=this;return[HTML.DIV({"class":function(){return["s-search ",Spacebars.mustache(n.lookup("showSearch"))]}},"\n\n    ",HTML.Raw('<div class="s-search-wrap">\n\n      <input class="s-input" type="search">\n\n      <div class="s-del"></div>\n\n      <i class="s-icon t-do-search"></i>\n\n    </div>'),"\n\n    ",HTML.Raw('<div class="s-close t-search"></div>'),"\n\n  "),"\n\n  ",HTML.DIV({id:"topper"},"\n    ",HTML.MENU({"class":"m-top"},"\n      ",HTML.DIV({"class":"m-top-wrap"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"main")}},"\n          ",HTML.IMG({"class":"m-logo",src:function(){return["/img/",Spacebars.mustache(n.lookup("_"),"logoUrl")]}}),"\n        "),"\n        ",HTML.DIV({"class":"m-menu"},"\n          ",HTML.A({href:"http://www.ukma.edu.ua/",target:"_blank"},"\n            ",HTML.DIV({"class":"m-menu-i m-itm-bhvr"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.top.0")})),"\n          "),"\n          ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"developing")}},"\n            ",HTML.DIV({"class":"m-menu-i m-itm-bhvr"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.top.1")})),"\n          "),"\n          ",HTML.A({href:"http://innovations.com.ua/ua/index",target:"_blank"},"\n            ",HTML.DIV({"class":"m-menu-i m-itm-bhvr"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.top.2")})),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"m-right"},"\n          ",HTML.Raw('<i class="fa fa-search fa-inverse m-search m-itm-bhvr t-search"></i>'),"\n          ",HTML.DIV({"class":"m-langs"},"\n            ",HTML.DIV({"class":"m-valign"},"\n              ",Spacebars.With(function(){return{lang:Spacebars.call("ua")}},function(){return["\n                ",HTML.A({href:"/"},"\n                  ",HTML.DIV({"class":function(){return["m-langs-i m-itm-bhvr ",Spacebars.mustache(n.lookup("isActive"))]}},"УКР"),"\n                "),"\n              "]}),"\n\n              ",Spacebars.With(function(){return{lang:Spacebars.call("en")}},function(){return["\n                ",HTML.A({href:"/en"},"\n                  ",HTML.DIV({"class":function(){return["m-langs-i m-itm-bhvr ",Spacebars.mustache(n.lookup("isActive"))]}},"ENG"),"\n                "),"\n              "]}),"\n            "),"\n          "),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.MENU({"class":"m-top-sub"},"\n      ",HTML.DIV({"class":"m-bot"},"\n        ",HTML.DIV({"class":"m-bot-wrap"},"\n          ",Spacebars.With(function(){return{index:Spacebars.call(0)}},function(){return["\n            ",HTML.A({"class":"t-mi-a t-mi",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"mbaList")}},"\n              ",HTML.DIV({"class":function(){return["m-bot-i m-bitm-bhvr ",Spacebars.mustache(n.lookup("keepCurrent"),0)," ",Spacebars.mustache(n.lookup("$isCurrentRoute"),"mbaList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.0")})),"\n            "),"\n          "]}),"\n          ",Spacebars.With(function(){return{index:Spacebars.call(1)}},function(){return["\n            ",HTML.A({"class":"t-mi-a t-mi",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"purList")}},"\n              ",HTML.DIV({"class":function(){return["m-bot-i m-bitm-bhvr ",Spacebars.mustache(n.lookup("keepCurrent"),1)," ",Spacebars.mustache(n.lookup("$isCurrentRoute"),"purList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.1")})),"\n            "),"\n          "]}),"\n          ",HTML.A({"class":"t-mi-a",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"corProgram")}},"\n            ",HTML.DIV({"class":function(){return["m-bot-i m-bitm-bhvr ",Spacebars.mustache(n.lookup("$isCurrentRoute"),"corProgram")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.2")})),"\n          "),"\n          ",HTML.A({"class":"t-mi-a",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"eventList")}},"\n            ",HTML.DIV({"class":"m-bot-i m-bitm-bhvr"},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.3")})),"\n          "),"\n          ",Spacebars.With(function(){return{index:Spacebars.call(2)}},function(){return["\n            ",HTML.A({"class":"t-mi-a t-mi",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"aboutKMBS")}},"\n              ",HTML.DIV({"class":function(){return["m-bot-i m-bitm-bhvr ",Spacebars.mustache(n.lookup("keepCurrentSmall"))]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.4")})),"\n            "),"\n          "]}),"\n          ",HTML.A({"class":"t-mi-a",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"contacts")}},"\n            ",HTML.DIV({"class":function(){return["m-bot-i m-bitm-bhvr ",Spacebars.mustache(n.lookup("$isCurrentRoute"),"contacts")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.bottom.5")})),"\n          "),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"m-sub bg t-b-menu"},"\n        ",HTML.DIV({"class":"m-sub-wrap big"},"\n          ",HTML.DIV({"class":"m-sub-menu"},"\n            ",Spacebars.include(n.lookupTemplate("menuMBA")),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"m-sub-wrap big"},"\n          ",HTML.DIV({"class":"m-sub-menu"},"\n            ",Spacebars.include(n.lookupTemplate("menuCorp")),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"m-sub-wrap big"},"\n          ",HTML.DIV({"class":"m-sub-menu"},"\n            ",Spacebars.include(n.lookupTemplate("menuPUR")),"\n          "),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"m-sub sm t-s-menu"},"\n        ",HTML.DIV({"class":"m-sub-wrap small"},"\n          ",HTML.DIV({"class":"m-sub-menu"},"\n            ",Spacebars.include(n.lookupTemplate("menuKmbs")),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")]})}();

!function(){Template.__checkName("menuMBA"),Template.menuMBA=new Template("Template.menuMBA",function(){var e=this;return[HTML.DIV({"class":"m-sub-col big"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"presidents")}},"\n      ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.president")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"executive")}},"\n      ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.executive")})),"\n    "),"\n    ",Blaze.If(function(){return!1},function(){return["\n      ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"leadership")}},"\n        ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.leadership")})),"\n      "),"\n    "]}),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-col big"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"bank")}},"\n      ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.banking")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathForMBA"),"agro")}},"\n      ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.agro")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"mbaList")}},"\n      ",HTML.DIV({"class":"m-sub-row -a"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.all")})),"\n    "),"\n  "),"\n  ",Blaze._TemplateWith(function(){return{event:Spacebars.call(e.lookup("event")),imageUrl:Spacebars.call(e.lookup("imageUrl"))}},function(){return Spacebars.include(e.lookupTemplate("menuEventStaticImage"))})]}),Template.__checkName("menuEventStaticImage"),Template.menuEventStaticImage=new Template("Template.menuEventStaticImage",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("event"))},function(){return["\n    ",HTML.DIV({"class":"m-sub-evs -a"},"\n      ",HTML.DIV(HTML.Attrs({"class":"m-sub-evs-fl cover-bg"},function(){return Spacebars.attrMustache(e.lookup("assetUrlBg"),"ImageFiles",e.lookup("imageUrl"))})),"\n      ",HTML.DIV({"class":"m-sub-evs-bl big"},"\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("event"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("eventsMenuItem")),"\n        "]}),"\n      "),"\n    "),"\n  "]})}),Template.__checkName("menuPUR"),Template.menuPUR=new Template("Template.menuPUR",function(){var e=this;return[HTML.DIV({"class":"m-sub-col"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"aboutKMBS")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"aboutKMBS")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.about")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"coachList")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"coachList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.coaches")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"team")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"team")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.team")})),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-col"},"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"alumni")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"alumni")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.alumni")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventList")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"eventList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.events")})),"\n    "),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsList")}},"\n      ",HTML.DIV({"class":function(){return["m-sub-row ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"newsList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.news")})),"\n    "),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-evs pad -a"},"\n    ",HTML.DIV({"class":"m-sub-evs-t"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.lastNews")})),"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n      ",HTML.DIV({"class":"m-sub-evs-bl"},"\n        ",Spacebars.include(e.lookupTemplate("newsMenuItem")),"\n      "),"\n    "]}),"\n  ")]}),Template.__checkName("menuCorp"),Template.menuCorp=new Template("Template.menuCorp",function(){var e=this;return[HTML.DIV({"class":"m-sub-col big"},"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("head"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("menuCorp_direction")),"\n    "]}),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-col big"},"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("tail"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("menuCorp_direction")),"\n    "]}),"\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purList")}},"\n      ",HTML.DIV({"class":"m-sub-row -a"},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.mba.all")})),"\n    "),"\n  "),"\n  ",Blaze._TemplateWith(function(){return{event:Spacebars.call(e.lookup("event")),imageUrl:Spacebars.call(e.lookup("imageUrl"))}},function(){return Spacebars.include(e.lookupTemplate("menuEventStaticImage"))})]}),Template.__checkName("menuCorp_direction"),Template.menuCorp_direction=new Template("Template.menuCorp_direction",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("showItem"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"purList",Spacebars.kw({query:e.lookup("getPurDirectionQuery")}))}},"\n      ",HTML.DIV({"class":"m-sub-row"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," (",Blaze.View("lookup:getCount",function(){return Spacebars.mustache(e.lookup("getCount"))}),")"),"\n    "),"\n  "]})}),Template.__checkName("menuKmbs"),Template.menuKmbs=new Template("Template.menuKmbs",function(){var e=this;return[HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"aboutKMBS")}},"\n    ",HTML.DIV({"class":function(){return["m-sub-itm ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"aboutKMBS")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.about")})),"\n  "),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"coachList")}},"\n    ",HTML.DIV({"class":function(){return["m-sub-itm ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"coachList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.coaches")})),"\n  "),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"team")}},"\n    ",HTML.DIV({"class":function(){return["m-sub-itm ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"team")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.team")})),"\n  "),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"alumni")}},"\n    ",HTML.DIV({"class":function(){return["m-sub-itm ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"alumni")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.alumni")})),"\n  "),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsList")}},"\n    ",HTML.DIV({"class":function(){return["m-sub-itm ",Spacebars.mustache(e.lookup("$isCurrentRoute"),"newsList")]}},Blaze.View("lookup:_",function(){return Spacebars.mustache(e.lookup("_"),"menu.news")})),"\n  ")]}),Template.__checkName("eventsMenuItem"),Template.eventsMenuItem=new Template("Template.eventsMenuItem",function(){var e=this;return[HTML.DIV({"class":"m-sub-evs-bl-d"},"\n    ",HTML.SPAN({"class":"big"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"D")})),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"MM")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("startDate"),"YYYY")}),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-evs-bl-n"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"eventItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("m-sub-evs-bl-i")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n  ")]}),Template.__checkName("newsMenuItem"),Template.newsMenuItem=new Template("Template.newsMenuItem",function(){var e=this;return[HTML.DIV({"class":"m-sub-evs-bl-d"},"\n    ",HTML.SPAN({"class":"big"},Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"D")})),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"MM")}),"/",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(e.lookup("parseDate"),e.lookup("date"),"YYYY")}),"\n  "),"\n  ",HTML.DIV({"class":"m-sub-evs-bl-n"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n  ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"newsItem",Spacebars.kw({_id:e.lookup("getHrlOrId")}))}},"\n    ",Blaze._TemplateWith(function(){return{className:Spacebars.call("m-sub-evs-bl-i")}},function(){return Spacebars.include(e.lookupTemplate("btnDetails"))}),"\n  ")]})}();

!function(){Template.__checkName("newsAlumniItem"),Template.newsAlumniItem=new Template("Template.newsAlumniItem",function(){var e=this;return Spacebars.With(function(){return{news:Spacebars.call(e.lookup("news"))}},function(){return["\n    ",HTML.DIV({"class":"ni-wrap"},"\n\n      ",Spacebars.include(e.lookupTemplate("newsItemHeader")),"\n\n      ",Spacebars.include(e.lookupTemplate("newsItemCover")),"\n\n      ",HTML.DIV({"class":"ni-info"},"\n\n        ",HTML.DIV({"class":"ni-info-left"},"\n\n          ",Spacebars.include(e.lookupTemplate("newsItemGallery")),"\n\n          ",HTML.Comment(" {{> newsItemShare}} "),"\n\n          ",Spacebars.include(e.lookupTemplate("newsAlumniItemPagination")),"\n\n        "),"\n\n        ",Spacebars.include(e.lookupTemplate("newsAlumniItemNews")),"\n\n      "),"\n    "),"\n  "]})})}();

!function(){Template.__checkName("newsAlumniList"),Template.newsAlumniList=new Template("Template.newsAlumniList",function(){var n=this;return HTML.DIV({"class":"nws-wrap"},"\n\n    ",HTML.DIV({"class":"nsa-topper"},"\n      ",HTML.DIV({"class":"tln-content"},"\n\n        ",HTML.DIV({"class":"tln-back"},"\n\n          ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"alumni")}},"\n            ",HTML.Raw('<div class="pur-all-arrow"></div>'),"\n\n            ",HTML.DIV({"class":"tln-back-label"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"tln.back")}),"\n            "),"\n          "),"\n\n        "),"\n\n        ",HTML.DIV({"class":"nsa-topper-tl"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.titleAlumni")}),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"nsa-content nsa-topper-menu"},"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call(null)}},function(){return["\n        ",HTML.DIV({"class":function(){return["nsa-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.all")}),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call(1)}},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("newsExistByFilter"))},function(){return["\n          ",HTML.DIV({"class":function(){return["nsa-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.history")}),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call(2)}},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("newsExistByFilter"))},function(){return["\n          ",HTML.DIV({"class":function(){return["nsa-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.vacancies")}),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call(3)}},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(n.lookup("newsExistByFilter"))},function(){return["\n          ",HTML.DIV({"class":function(){return["nsa-menu-item ",Spacebars.mustache(n.lookup("isActive"))]}},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.title")}),"\n          "),"\n        "]}),"\n      "]}),"\n\n    "),"\n\n    ",HTML.DIV({"class":"nws-content"},"\n      ",HTML.DIV({"class":"nws-news-items"},"\n\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("news"))},function(){return["\n          ",HTML.A({"class":function(){return["nws-news",Blaze.If(function(){return Spacebars.call(n.lookup("coverImage"))},function(){return" has-image"})]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"newsAlumniItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n            ",HTML.DIV({"class":"nws-img",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("coverImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("coverImage"))}),"') no-repeat center / cover;"]})}}),"\n\n            ",HTML.DIV({"class":"nws-mask"}),"\n\n            ",HTML.DIV({"class":"nws-news-content"},"\n              ",HTML.DIV({"class":"nws-date"},"\n\n                ",HTML.DIV({"class":"nws-day"},"\n                  ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("date"),"DD")}),"\n                "),"\n\n                ",HTML.DIV({"class":"nws-month"},"\n                  / ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("date"),"MM")}),"\n                "),"\n\n              "),"\n\n              ",Blaze.If(function(){return Spacebars.call(n.lookup("subject"))},function(){return["\n                ",Spacebars.With(function(){return Spacebars.call(n.lookup("getSubject"))},function(){return["\n                  ",HTML.DIV({"class":"nws-subj"},"\n\n                    ",HTML.IMG({"class":"nws-subj-img",src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))}}),"\n\n                    ",HTML.DIV({"class":"nws-subj-name"},"\n                      ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                    "),"\n\n                  "),"\n                "]}),"\n              "]}),"\n\n              ",HTML.DIV({"class":"nws-name"},"\n                ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n              "),"\n\n              ",HTML.DIV({"class":"nws-info"},"\n\n                ",HTML.DIV({"class":"nws-dtls"},"\n\n                  ",HTML.SPAN("\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.details")}),"\n                  "),"\n\n                  ",HTML.SPAN({"class":"nws-plus"},"\n                    +\n                  "),"\n\n                "),"\n\n              "),"\n            "),"\n\n          "),"\n        "]}),"\n\n      "),"\n\n    "),"\n\n    ",HTML.BUTTON({"class":function(){return["cos-show-more ",Spacebars.mustache(n.lookup("displayShowMore"))]}},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.showMore")}),"\n    "),HTML.Raw('\n\n    <div class="nws-white-space"></div>\n\n  '))})}();

!function(){Template.__checkName("newsItem"),Template.newsItem=new Template("Template.newsItem",function(){var e=this;return Spacebars.With(function(){return{news:Spacebars.call(e.lookup("news"))}},function(){return["\n    ",HTML.DIV({"class":"ni-wrap"},"\n\n      ",Spacebars.include(e.lookupTemplate("newsItemHeader")),"\n\n      ",Spacebars.include(e.lookupTemplate("newsItemCover")),"\n\n      ",HTML.DIV({"class":"ni-info"},"\n\n        ",HTML.DIV({"class":"ni-info-left"},"\n\n          ",Spacebars.include(e.lookupTemplate("newsItemGallery")),"\n\n          ",Spacebars.include(e.lookupTemplate("newsItemShare")),"\n\n          ",Spacebars.include(e.lookupTemplate("newsItemPagination")),"\n\n        "),"\n\n        ",Spacebars.include(e.lookupTemplate("newsItemNews")),"\n\n      "),"\n\n    "),"\n  "]})})}();

!function(){Template.__checkName("newsList"),Template.newsList=new Template("Template.newsList",function(){var n=this;return HTML.DIV({"class":"nws-wrap"},"\n\n    ",HTML.DIV({"class":"nws-topper-tl"},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.news")}),"\n    "),"\n\n    ",HTML.DIV({"class":"nws-content"},"\n      ",HTML.DIV({"class":"nws-news-items"},"\n\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("news"))},function(){return["\n          ",Spacebars.include(n.lookupTemplate("newsListItem")),"\n        "]}),"\n\n      "),"\n\n    "),"\n\n    ",HTML.BUTTON({"class":function(){return["cos-show-more ",Spacebars.mustache(n.lookup("displayShowMore"))]}},"\n      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.showMore")}),"\n    "),HTML.Raw('\n\n    <div class="nws-white-space"></div>\n\n  '))})}();

!function(){Template.__checkName("purList"),Template.purList=new Template("Template.purList",function(){var e=this;return HTML.DIV({"class":"pus-wrap"},"\n\n    ",HTML.DIV({"class":"pus-topper"},"\n      ",HTML.DIV({"class":"pus-valign"},"\n        ",HTML.DIV({"class":"pus-topper-tl"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"pur.topperTl"))}),"\n        "),"\n\n        ",HTML.DIV({"class":"pus-topper-bl"},"\n          ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("_"),"pur.topperBl"))}),"\n        "),"\n      "),"\n    "),"\n\n    ",HTML.DIV({"class":"pus-content"},"\n\n      ",Spacebars.include(e.lookupTemplate("purListLeftSide")),"\n\n      ",Spacebars.include(e.lookupTemplate("purListRightSide")),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("purProgram"),Template.purProgram=new Template("Template.purProgram",function(){var r=this;return HTML.DIV({"class":"pur-wrap"},"\n    ",Blaze.If(function(){return Spacebars.call(r.lookup("program"))},function(){return["\n      ",Spacebars.With(function(){return{program:Spacebars.call(r.lookup("program"))}},function(){return["\n\n        ",Spacebars.include(r.lookupTemplate("purProgramTopper")),"\n\n        ",Spacebars.include(r.lookupTemplate("purProgramActions")),"\n\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"audAndEvents"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramAudience")),"\n        "]}),"\n\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"whatProgramGives"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramFacilities")),"\n        "]}),"\n\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"structure"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramStructure")),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(r.lookup("hasCoaches"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramCoaches")),"\n        "]}),"\n\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"reviewBlock"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramInterviews")),"\n        "]}),"\n\n        ",HTML.Comment(" {{> mbaProgramShare}} "),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"contactsItem","length"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramContacts")),"\n        "]}),"\n\n        ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(r.lookup("program"),"recommendBlock"))},function(){return["\n          ",Spacebars.include(r.lookupTemplate("purProgramEvents")),"\n        "]}),"\n\n      "]}),"\n    "]}),"\n  ")})}();

!function(){Template.__checkName("rss"),Template.rss=new Template("Template.rss",function(){var s=this;return HTML.DIV({"class":"rss-wrap"},"\n    ",HTML.DIV({"class":"rss-title"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"rss.title")})),"\n    ",HTML.DIV({"class":"rss-soc"},"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call("facebook")}},function(){return["\n        ",HTML.A({href:"https://www.facebook.com/kmbs.ua",target:"_blank","class":"rss-link"},"\n          ",HTML.DIV({"class":"rss-soc-b f"},"\n            ",HTML.IMG({"class":"rss-soc-i",src:"/img/rssf.png"}),"\n          "),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call("twitter")}},function(){return["\n        ",HTML.A({href:"https://twitter.com/kmbs_ua",target:"_blank","class":"rss-link"},"\n          ",HTML.DIV({"class":"rss-soc-b t"},"\n            ",HTML.IMG({"class":"rss-soc-i",src:"/img/rsst.png"}),"\n          "),"\n        "),"\n      "]}),"\n\n      ",Spacebars.With(function(){return{type:Spacebars.call("youtube")}},function(){return["\n        ",HTML.A({href:"https://www.youtube.com/user/kmbsUA",target:"_blank","class":"rss-link"},"\n          ",HTML.DIV({"class":"rss-soc-b g"},"\n            ",HTML.IMG({"class":"rss-soc-i",src:"/img/rssy.png"}),"\n          "),"\n        "),"\n      "]}),"\n\n    "),"\n    ",HTML.DIV({"class":function(){return["rss-step ",Spacebars.mustache(s.lookup("isCurrentStep"),1)]}},"\n      ",HTML.DIV({"class":"rss-grp"},"\n        ",HTML.INPUT({type:"email","class":"rss-inp",placeholder:function(){return Spacebars.mustache(s.lookup("_"),"rss.holder")},"data-bind":"value: email, class: { error: invalidEmail }"}),"\n        ",HTML.Raw('<div class="rss-err" data-bind="text: errorEmail"></div>'),"\n      "),"\n      ",HTML.DIV({"class":"rss-btn t-sub","data-bind":"class: { error: invalidEmail }"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"rss.label")})),"\n    "),"\n    ",HTML.DIV({"class":function(){return["rss-step ",Spacebars.mustache(s.lookup("isCurrentStep"),2)]}},"\n      ",HTML.DIV({"class":"rss-chck-ttl"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"rss.subscribeFor")})),"\n      ",HTML.DIV({"class":"rss-chck-body"},"\n        ",Blaze.Each(function(){return Spacebars.call(s.lookup("checkboxCounts"))},function(){return["\n          ",HTML.INPUT({id:function(){return["rssc",Spacebars.mustache(s.lookup("."))]},"class":"ui-checkbox",type:"checkbox","data-bind":"checked: themes",value:function(){return Spacebars.mustache(s.lookup("."))}}),"\n          ",HTML.LABEL({"class":"rss-chck-lbl","for":function(){return["rssc",Spacebars.mustache(s.lookup("."))]}},"\n            ",HTML.SPAN({"class":"rss-chck-span"},"\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),s.lookup("checkboxLabel"))}),"\n            "),"\n          "),"\n        "]}),"\n      "),"\n      ",HTML.DIV({"class":"rss-btn t-sel","data-bind":"class: { error: noSelected }"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"ready")})),"\n    "),"\n    ",HTML.DIV({"class":function(){return["rss-step ",Spacebars.mustache(s.lookup("isCurrentStep"),3)]}},"\n      ",HTML.Raw('<img class="rss-succ-img" src="/img/rss-ok.png">'),"\n      ",HTML.DIV({"class":"rss-ready"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"rss.ready")})),"\n      ",HTML.DIV({"class":"rss-ready"},Blaze.View("lookup:_",function(){return Spacebars.mustache(s.lookup("_"),"rss.subscribed")})),"\n    "),"\n  ")})}();

!function(){Template.__checkName("search"),Template.search=new Template("Template.search",function(){var n=this;return HTML.DIV({"class":"src-wrap"},"\n\n    ",HTML.DIV({"class":"src-top"},"\n\n      ",HTML.DIV({"class":"src-top-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.tl")}),"\n      "),"\n\n      ",HTML.DIV({"class":"src-top-container"},"\n\n        ",HTML.FORM({"class":"src-top-iblock src-form"},"\n          ",HTML.INPUT({"class":"src-top-input",value:function(){return Spacebars.mustache(n.lookup("getSearchQuery"))}}),"\n          ",HTML.Raw('<button class="src-top-lens" type="submit"></button>'),"\n        "),"\n\n        ",HTML.DIV({"class":"src-top-fnd"},"\n\n          ",HTML.DIV("\n\n            ",HTML.SPAN("\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.onSearch")}),"\n            "),"\n\n            ",HTML.SPAN({"class":"bold"},"\n              “",Blaze.View("lookup:getSearchQuery",function(){return Spacebars.mustache(n.lookup("getSearchQuery"))}),"”\n            "),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("searchArrayLength"))},function(){return["\n              ",HTML.SPAN("\n\n                ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.found")}),"\n\n                ",Blaze.View("lookup:searchArrayLength",function(){return Spacebars.mustache(n.lookup("searchArrayLength"))}),"\n\n                ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.material")}),Blaze.View("lookup:alEnd",function(){return Spacebars.mustache(n.lookup("alEnd"),n.lookup("searchArrayLength"))}),".\n\n              "),"\n            "]},function(){return["\n              ",HTML.SPAN("\n                ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.nothingFound")}),".\n              "),"\n            "]}),"\n\n          "),"\n\n          ",Blaze.Unless(function(){return Spacebars.call(n.lookup("searchArrayLength"))},function(){return["\n            ",HTML.DIV("\n              ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.changeRequest")}),".\n            "),"\n          "]}),"\n\n        "),"\n\n      "),"\n\n    "),"\n\n    ",HTML.DIV({"class":"src-items"},"\n      ",Blaze.Each(function(){return Spacebars.call(n.lookup("getSearchArray"))},function(){return["\n        ",HTML.A({"class":function(){return["src-item",Blaze.If(function(){return Spacebars.call(n.lookup("isProgram"))},function(){return" isProgram"})]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),n.lookup("$type"),Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n\n          ",HTML.DIV({"class":"src-item-left"},"\n\n            ",HTML.DIV({"class":"src-item-top"},"\n\n              ",HTML.DIV({"class":"src-item-type"},"\n\n                ",HTML.DIV({"class":"src-item-index"},"\n                  ",Blaze.View("lookup:$index",function(){return Spacebars.mustache(n.lookup("$index"))}),".\n                "),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"purProgram")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"footer.programs")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"mbaProgram")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mbs.title")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"aboutKMBS")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"footer.kmbs")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"alumni")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.alumni")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"corProgram")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.corp.title")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"eventItem")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.events")}),"\n                  >\n                  ",Spacebars.With(function(){return Spacebars.call(n.lookup("getEventType"))},function(){return["\n                    ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n                  "]}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"coachItem")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.coaches")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"teamItem")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"menu.team")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"newsItem")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.title")}),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"newsAlumniItem")},function(){return["\n                  ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"news.titleAlumni")}),"\n                "]}),"\n\n              "),"\n\n            "),"\n\n            ",HTML.DIV({"class":"src-item-tl"},"\n              ",Blaze.If(function(){return Spacebars.call(n.lookup("isPerson"))},function(){return["\n                ",Blaze.View("lookup:highlight",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlight"),n.lookup("firstName")))})," ",Blaze.View("lookup:highlight",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlight"),n.lookup("lastName")))}),"\n              "]},function(){return["\n                ",Blaze.View("lookup:highlight",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlight"),n.lookup("name")))}),"\n              "]}),"\n            "),"\n\n            ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"eventItem")},function(){return["\n              ",HTML.DIV({"class":"src-item-date"},"\n                ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("startDate"),"D MMMM")}),"\n              "),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"teamItem")},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("occupation"))},function(){return["\n                ",HTML.DIV({"class":"src-item-date"},"\n                  ",Blaze.View("lookup:occupation",function(){return Spacebars.mustache(n.lookup("occupation"))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("isNews"))},function(){return["\n              ",HTML.DIV({"class":"src-item-date"},"\n                ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("date"),"D MMMM")}),"\n              "),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("isProgram"))},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("shortDesc"))},function(){return["\n                ",HTML.DIV({"class":"src-item-bl"},"\n                  ",Blaze.View("lookup:highlightWysiwyg",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlightWysiwyg"),n.lookup("shortDesc")))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("isInfo"))},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("desc"))},function(){return["\n                ",HTML.DIV({"class":"src-item-bl"},"\n                  ",Blaze.View("lookup:highlight",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlight"),n.lookup("desc")))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("isPerson"))},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("desc"))},function(){return["\n                ",HTML.DIV({"class":"src-item-bl"},"\n                  ",Blaze.View("lookup:highlightWysiwyg",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlightWysiwyg"),n.lookup("desc")))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"eventItem")},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("desc"))},function(){return["\n                ",HTML.DIV({"class":"src-item-bl"},"\n                  ",Blaze.View("lookup:highlightWysiwyg",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlightWysiwyg"),n.lookup("desc")))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("isNews"))},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("shortDesc"))},function(){return["\n                ",HTML.DIV({"class":"src-item-bl"},"\n                  ",Blaze.View("lookup:highlight",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("highlight"),n.lookup("shortDesc")))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("typeEquals"),"teamItem")},function(){return["\n              ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("email"))},function(){return["\n                ",HTML.DIV({"class":"src-item-email"},"\n                  ",Blaze.View("lookup:email",function(){return Spacebars.mustache(n.lookup("email"))}),"\n                "),"\n              "]}),"\n            "]}),"\n\n          "),"\n\n          ",Blaze.If(function(){return Spacebars.call(n.lookup("isProgram"))},function(){return["\n            ",HTML.DIV({"class":"src-item-right"},"\n\n              ",HTML.DIV({"class":"src-valign"},"\n\n                ",HTML.DIV({"class":"src-rblock src-rblock-start"},"\n\n                  ",HTML.DIV({"class":"src-rblock-tl"},"\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"src.closestProgramStart")}),":\n                  "),"\n\n                  ",HTML.DIV({"class":"src-rblock-bl"},"\n                    ",Blaze.View("lookup:parseDate",function(){return Spacebars.mustache(n.lookup("parseDate"),n.lookup("startDate"),"D MMMM YYYY")}),"\n                  "),"\n\n                "),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$str"),n.lookup("duration"))},function(){return["\n                  ",HTML.DIV({"class":"src-rblock src-rblock-dur"},"\n\n                    ",HTML.DIV({"class":"src-rblock-tl"},"\n                      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.duration")}),":\n                    "),"\n\n                    ",HTML.DIV({"class":"src-rblock-bl"},"\n                      ",Blaze.View("lookup:duration",function(){return Spacebars.mustache(n.lookup("duration"))}),"\n                    "),"\n\n                  "),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.call(n.lookup("price"))},function(){return["\n                  ",HTML.DIV({"class":"src-rblock src-rblock-cost"},"\n\n                    ",HTML.DIV({"class":"src-rblock-tl"},"\n                      ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"ev.price")}),":\n                    "),"\n\n                    ",HTML.DIV({"class":"src-rblock-bl"},"\n                      ",Blaze.View("lookup:price",function(){return Spacebars.mustache(n.lookup("price"))})," ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"mba.UAH")}),"\n                    "),"\n\n                  "),"\n                "]}),"\n\n              "),"\n            "),"\n          "]}),"\n\n        "),"\n      "]}),"\n\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(n.lookup("searchArrayLength"))},function(){return["\n      ",HTML.DIV({"class":"src-paginator"},"\n\n        ",HTML.DIV({"class":"src-page-dir src-page-back"},"\n\n          ",HTML.DIV({"class":"src-page-arw src-page-barw"}),"\n\n          ",HTML.DIV({"class":"src-page-dname"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"tln.back")}),"\n          "),"\n\n        "),"\n\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("getPages"))},function(){return["\n          ",HTML.DIV({"class":function(){return["src-page",Blaze.If(function(){return Spacebars.call(n.lookup("isActivePage"))},function(){return" active"})]}},"\n            ",Blaze.View("lookup:.",function(){return Spacebars.mustache(n.lookup("."))}),"\n          "),"\n        "]}),"\n\n        ",HTML.DIV({"class":"src-page-dir src-page-next"},"\n\n          ",HTML.DIV({"class":"src-page-dname"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"form.next")}),"\n          "),"\n\n          ",HTML.DIV({"class":"src-page-arw src-page-narw"}),"\n\n        "),"\n\n      "),"\n    "]}),"\n\n  ")})}();

!function(){Template.__checkName("team"),Template.team=new Template("Template.team",function(){var n=this;return HTML.DIV({"class":"cos-wrap"},"\n\n    ",HTML.DIV({"class":"cos-content"},"\n      ",HTML.DIV({"class":"tem-topper-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("_"),"menu.team"))}),"\n      "),"\n\n      ",HTML.DIV({"class":"cos-coach-items"},"\n\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("teammates"))},function(){return["\n          ",HTML.DIV({"class":"cos-coach",style:function(){return Blaze.If(function(){return Spacebars.call(n.lookup("getImage"))},function(){return["background: url('",Blaze.View("lookup:assetUrl",function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("getImage"))}),"') no-repeat center top / cover;"]})}},"\n            ",HTML.DIV({"class":"cos-coach-mask tem-coach-mask"}),"\n\n            ",HTML.DIV({"class":"cos-coach-info"},"\n\n              ",HTML.DIV({"class":"tem-status"},"\n                ",Blaze.View("lookup:occupation",function(){return Spacebars.mustache(n.lookup("occupation"))}),"\n              "),"\n\n              ",HTML.DIV({"class":"cos-coach-name"},"\n                ",Blaze.View("lookup:firstName",function(){return Spacebars.mustache(n.lookup("firstName"))})," ",Blaze.View("lookup:lastName",function(){return Spacebars.mustache(n.lookup("lastName"))}),"\n              "),"\n\n              ",HTML.DIV({"class":"tem-email"},"\n                ",Blaze.View("lookup:email",function(){return Spacebars.mustache(n.lookup("email"))}),"\n              "),"\n            "),"\n\n            ",Blaze.If(function(){return Spacebars.call(n.lookup("desc"))},function(){return["\n              ",HTML.A({"class":"cos-coach-link",href:function(){return Spacebars.mustache(n.lookup("pathFor"),"teamItem",Spacebars.kw({_id:n.lookup("getHrlOrId")}))}},"\n                ",HTML.BUTTON({"class":"cos-coach-btn"},"\n\n                  ",HTML.SPAN({"class":"cos-coach-details"},"\n                    ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"slider.more")}),"\n                  "),"\n\n                  ",HTML.SPAN({"class":"cos-coach-plus"},"\n                    +\n                  "),"\n\n                "),"\n              "),"\n            "]}),"\n          "),"\n        "]}),"\n\n      "),"\n\n      ",HTML.BUTTON({"class":function(){return["cos-show-more ",Spacebars.mustache(n.lookup("displayShowMore"))]}},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"cos.showMore")}),"\n      "),"\n\n    "),"\n\n  ")})}();

!function(){Template.__checkName("teamItem"),Template.teamItem=new Template("Template.teamItem",function(){var a=this;return HTML.DIV({"class":"ci-wrap"},HTML.Raw('\n\n    <div class="mw-close"></div>\n\n    '),HTML.DIV({"class":"ci-content"},"\n      ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(a.lookup("data"),"coach"))},function(){return["\n        ",Spacebars.With(function(){return{data:Spacebars.call(a.lookup("data"))}},function(){return["\n          ",Spacebars.include(a.lookupTemplate("coachItemInside")),"\n        "]}),"\n      "]}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("timeline"),Template.timeline=new Template("Template.timeline",function(){var n=this;return HTML.DIV({"class":"tln-wrap"},"\n\n    ",HTML.DIV({"class":"tln-content"},"\n\n      ",HTML.DIV({"class":"tln-back"},"\n\n        ",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),"aboutKMBS")}},"\n          ",HTML.Raw('<div class="pur-all-arrow"></div>'),"\n\n          ",HTML.DIV({"class":"tln-back-label"},"\n            ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"tln.back")}),"\n          "),"\n        "),"\n\n      "),"\n\n      ",HTML.DIV({"class":"tln-topper-tl"},"\n        ",Blaze.View("lookup:_",function(){return Spacebars.mustache(n.lookup("_"),"tln.title")}),"\n      "),"\n\n    "),"\n\n    ",HTML.DIV({"class":"tln-timeline"},"\n\n      ",HTML.DIV({"class":"tln-half left"},"\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("history"))},function(){return["\n          ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$eq"),n.lookup("column"),1)},function(){return["\n            ",Spacebars.include(n.lookupTemplate("historyItem")),"\n          "]}),"\n        "]}),"\n      "),"\n\n      ",HTML.DIV({"class":"tln-half right"},"\n        ",Blaze.Each(function(){return Spacebars.call(n.lookup("history"))},function(){return["\n          ",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("$eq"),n.lookup("column"),2)},function(){return["\n            ",Spacebars.include(n.lookupTemplate("historyItem")),"\n          "]}),"\n        "]}),"\n      "),"\n\n    "),"\n\n  ")}),Template.__checkName("historyItem"),Template.historyItem=new Template("Template.historyItem",function(){var n=this;return HTML.DIV({"class":"tln-item"},"\n\n    ",HTML.DIV({"class":"tln-date"},"\n      ",HTML.SPAN("\n        ",Blaze.View("lookup:name",function(){return Spacebars.mustache(n.lookup("name"))}),"\n      "),"\n    "),"\n\n    ",Blaze.If(function(){return Spacebars.call(n.lookup("image"))},function(){return["\n      ",HTML.IMG({"class":"tln-img",src:function(){return Spacebars.mustache(n.lookup("assetUrl"),"ImageFiles",n.lookup("image"))}}),"\n    "]}),"\n\n    ",HTML.DIV({"class":"tln-desc"},"\n      ",Blaze.View("lookup:desc",function(){return Spacebars.makeRaw(Spacebars.mustache(n.lookup("desc")))}),"\n    "),"\n\n  ")})}();

!function(){Template.__checkName("main"),Template.main=new Template("Template.main",function(){var e=this;return HTML.DIV({"class":"main-wrap"},"\n    ",Blaze._TemplateWith(function(){return{globalSub:Spacebars.call(e.lookup("getGlobalSub"))}},function(){return Spacebars.include(e.lookupTemplate("mainSlider"))}),"\n    ",Spacebars.include(e.lookupTemplate("mainNewsAndEvents")),"\n    ",Spacebars.include(e.lookupTemplate("mainProgramsKmbs")),"\n    ",Spacebars.include(e.lookupTemplate("mainEvents")),"\n    ",Blaze._TemplateWith(function(){return{fromGlobal:Spacebars.call(!0),globalSub:Spacebars.call(e.lookup("getGlobalSub"))}},function(){return Spacebars.include(e.lookupTemplate("mainNews"))}),"\n    ",Spacebars.include(e.lookupTemplate("mainInterviews")),"\n  ")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.registerHelper("_vmAlign",function(){return this.data.alignLeft?"-a-l":"-a-c"}),Template._vmOptionsHelper.helpers({values:function(){var e,r,t,a,n,o,s,p,c,f,i,u,h,l,m,y;switch(this.type){case"d":a=function(){for(l=[],s=1;31>=s;s++)l.push(s);return l}.apply(this);break;case"m":a=[1,2,3,4,5,6,7,8,9,10,11,12];break;case"y":a=function(){m=[];for(var e=u=moment().get("year")-15;1920>=u?1920>=e:e>=1920;1920>=u?e++:e--)m.push(e);return m}.apply(this);break;case"mm":a=function(){var r,t;for(t=[],e=r=0;11>=r;e=++r)t.push(moment().month(e).format("MMM"));return t}();break;case"yy":a=function(){y=[];for(var e=h=moment().get("year");1950>=h?1950>=e:e>=1950;1950>=h?e++:e--)y.push(e);return y}.apply(this);break;default:throw new Meteor.Error("_vmOptionsHelper.values: Incorrect type.")}if(!_.isNumber(a[0]))return a;for(o=[],r=_.last(a),f=0,i=a.length;i>f;f++)e=a[f],n=(""+r).length,t=""+e,o.push(t.length<n?""+_.repeat("0",n-t.length)+t:t);return o}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(){return null!=("undefined"!=typeof Recaptcha&&null!==Recaptcha?Recaptcha.create:void 0)?Recaptcha.create(Meteor.settings["public"].recaptcha.sitekey,"recaptcha_widget",{theme:"clean",lang:__getLangForReCAPTCHA()}):_.delay(t,500)},Template.vmKaptcha.onCreated(function(){return window.Recaptcha||window.__loadingRecaptcha?void 0:(window.__loadingRecaptcha=!0,window.RecaptchaOptions={sitekey:Meteor.settings["public"].recaptcha.sitekey,theme:"clean"},$.getScript("http://google.com/recaptcha/api.js"),$.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js"))}),Template.vmKaptcha.onRendered(t),Template.vmKaptcha.helpers({sitekey:function(){return Meteor.settings["public"].recaptcha.sitekey}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmDate.onRendered(function(){return _.each(this.findAll("select"),function(e){return $(e).selectize({onDropdownOpen:function(e){var t;return t=e.find(".selectize-dropdown-content"),Meteor.setTimeout(function(){return t.mCustomScrollbar("destroy"),t.mCustomScrollbar({theme:"minimal-dark"})},100)},onDropdownClose:function(e){return e.find(".selectize-dropdown-content").mCustomScrollbar("destroy")}})})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmFile.onCreated(function(){return this.rId=Random.id(),this.preview=new ReactiveVar(null)}),Template.vmFile.helpers({i18nFieldValue:function(e){var t,n;return n=_.get(this,e),t=_.isObject(n)?n[Router.getLanguage()]||n[Meteor.settings["public"].lng]:n,t||TAPi18n.__("upload")},rId:function(){return Template.instance().rId},getPreview:function(){return Template.instance().preview.get()},hideButton:function(){return Template.instance().preview.get()?"hidden":void 0}}),Template.vmFile.events({"click .t-reset":function(e,t){var n;return t.preview.set(null),null!=(n=__getParentTemplateByName(t,"Template.applicationFormSub"))?n.vm[this.name](null):void 0},"change input":function(e,t){var n,i;return n=e.target.files[0],n?-1!==n.type.indexOf("image")?(i=new FileReader,i.onload=function(e){return n.size<=__3_MB?t.preview.set({img:e.target.result}):void 0},i.readAsDataURL(n)):t.preview.set({name:n.name}):!1}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmListSelect.onRendered(function(){return this.$("select").selectize()})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t={i18nFieldValue:function(e){var t;return t=_.get(this.value||this,e),t[Router.getLanguage()]||t[Meteor.settings["public"].lng]}},Template.vmListCheckbox.helpers(t),Template.vmListRadio.helpers(t),Template.vmListSelect.helpers(t)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmPeriod.onRendered(function(){return _.each(this.findAll("select"),function(e){return $(e).selectize({onDropdownOpen:function(e){var o;return o=e.find(".selectize-dropdown-content"),Meteor.setTimeout(function(){return o.mCustomScrollbar("destroy"),o.mCustomScrollbar({theme:"minimal-dark"})},100)},onDropdownClose:function(e){return e.find(".selectize-dropdown-content").mCustomScrollbar("destroy")}})})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmPhone.onRendered(function(){return this.$("input").inputmask("+ 38 (099) 999 99 99",{onBeforeWrite:function(e,r,t,n){return e.currentTarget?$(e.currentTarget).change():void 0}})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.vmSelect.helpers({generateDataBind:function(){return _.isObject(this.options)?_.zipWith(_.keys(this.options),_.values(this.options),function(e,t){return[e,": ",t].join("")}).join(", "):this.options}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.registerHelper("vmRequiredClass",function(){return this.rule&&this.requiredClass?" "+this.requiredClass:""}),Template.registerHelper("vmRequiredLabel",function(){return this.rule&&"*"||""}),Template.vmForm.helpers({tagTemplateName:function(e){return"vm"+_.capitalize(this.tag)},setContext:function(){var e;return e=this,e.pre=Template.parentData(1).data.pre||"pre",e.requiredClass=Template.parentData(1).data.requiredClass,e}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this._eventTypeIds={MASTER_CLASS:"wZ5sGyZC9pxGi7qmi",MBA:"fqdEtEE3x4YtytedB"}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this._newsSubjectIds={HISTORY:1,VACANCY:2,NEWS:3}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this._newsTypeIds={COMMON:1,VIDEO:2,HISTORY:3},this._newsTypesFactory=function(e){return function(){var t,n;return _.isArray(e)||(e=[]),n={typeId:{$in:e}},t={fields:{typeId:1,name:1}},[{value:null,label:null}].concat(_.map(NewsType.find(n,t).fetch(),function(e){return{value:e.typeId,label:e.name}}))}}}();

!function(){var e=function(){function e(n){return new e.fn.init(n)}function n(e,n,t){return t.contentWindow.postMessage?(e=JSON.stringify({method:e,value:n}),void t.contentWindow.postMessage(e,o)):!1}function t(e){var n,t;try{n=JSON.parse(e.data),t=n.event||n.method}catch(i){}if("ready"!=t||l||(l=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===o&&(o=e.origin),e=n.value;var a=n.data,u=""===u?null:n.player_id;return n=u?r[u][t]:r[t],t=[],n?(void 0!==e&&t.push(e),a&&t.push(a),u&&t.push(u),0<t.length?n.apply(null,t):n.call()):!1}function i(e,n,t){t?(r[t]||(r[t]={}),r[t][e]=n):r[e]=n}var r={},l=!1,o="*";return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,t){if(!this.element||!e)return!1;var r=this.element,l=""!==r.id?r.id:null,o=t&&t.constructor&&t.call&&t.apply?null:t,a=t&&t.constructor&&t.call&&t.apply?t:null;return a&&i(e,a,l),n(e,o,r),this},addEvent:function(e,t){if(!this.element)return!1;var r=this.element,o=""!==r.id?r.id:null;return i(e,t,o),"ready"!=e?n("addEventListener",e,r):"ready"==e&&l&&t.call(null,o),this},removeEvent:function(e){if(!this.element)return!1;var t=this.element,i=""!==t.id?t.id:null;e:{if(i&&r[i]){if(!r[i][e]){i=!1;break e}r[i][e]=null}else{if(!r[e]){i=!1;break e}r[e]=null}i=!0}"ready"!=e&&i&&n("removeEventListener",e,t)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t),window.Froogaloop=window.$f=e}()}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t="opened",Template.layout.onCreated(function(){return $("body").on("click",function(e){var r,n,o;return o=$(e.target),n=o.parents(".filter-item"),n.length?void 0:(r=$(".filter-item.opened"),r.removeClass(t))})}),Template.layout.events({"click .filter-item:not(.opened) .filter-item-content":function(e,r){var n,o,i;return n=$(e.currentTarget),i=r.$(".filter-item.opened"),o=n.parent(),i.removeClass(t),o.addClass(t)},"click .filter-item.opened .filter-item-content":function(e,r){var n,o;return n=$(e.currentTarget),o=n.parent(),o.removeClass(t)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.getSlavicForm=function(e){return Math.floor(e)!==e?2:0===e||e>=5&&20>=e||e%10>=5&&9>=e%10||e%10===0?0:1===e||e%10===1?1:e>1?2:0}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;this.__getParentTemplateByName=function(e,t){var r,n;for(check(e,Match.Where(function(t){return e instanceof Blaze.TemplateInstance})),check(t,String),r=e.view;(null!=(n=r.parentView)?n.name:void 0)!==t&&_.isObject(r.parentView);)r=r.parentView;return r.parentView?r.parentView.templateInstance():void 0},t=function(e){return window.location.origin+Blaze._globalHelpers.assetUrl("ImageFiles",e)},this.__addSeoMetaTags=function(e){var r,n;if(e)return n=_.isString(e.shareImage)&&e.shareImage.length?t(e.shareImage):!1,r=$("head"),$('head meta[property^="og:"]').remove(),r.append($("<meta>",{property:"og:type",content:"article"})),r.append($("<meta>",{property:"og:site_name",content:location.hostname})),r.append($("<meta>",{property:"og:url",content:location.href})),_.isString(e.seoTitle)&&e.seoTitle.length&&($("head title").remove(),$('head meta[property="title"]').remove(),r.append("<title>"+e.seoTitle+"</title>"),r.append($("<meta>",{property:"title",content:e.seoTitle})),r.append($("<meta>",{property:"og:title",content:e.seoTitle}))),_.isString(e.metaDescription)&&e.metaDescription.length&&($('head meta[property="description"]').remove(),r.append($("<meta>",{property:"description",content:e.metaDescription}))),_.isString(e.shareDescription)&&e.shareDescription.length&&r.append($("<meta>",{property:"og:description",content:e.shareDescription})),_.isString(e.metaKeywords)&&e.metaKeywords.length&&($('head meta[property="keywords"]').remove(),r.append($("<meta>",{property:"keywords",content:e.metaKeywords}))),n&&r.append($("<meta>",{property:"og:image",content:n})),$('head meta[property^="twitter:"]').remove(),r.append($("<meta>",{property:"twitter:card",content:"summary"})),r.append($("<meta>",{property:"twitter:url",content:location.href})),_.isString(e.seoTitle)&&e.seoTitle.length&&r.append($("<meta>",{property:"twitter:title",content:e.seoTitle})),_.isString(e.shareDescription)&&e.shareDescription.length&&r.append($("<meta>",{property:"twitter:description",content:e.shareDescription})),n?(r.append($("<meta>",{property:"twitter:image",content:n})),r.append($("<meta>",{property:"twitter:image:src",content:n}))):void 0},this.__windowScrollEvents=function(e){var t,r,n;return t=e.currentTarget,n=t.scrollY,r=0,_.forEach(this.containerScrollTops,function(e){return function(t,a){var o;return r++,r>e.containerScrollTops.length?void 0:n>=t&&!e.containerScrollEvents[a]&&(e.containerScrollEvents[a]=!0,o=e.eventNames[r-1],o&&dataLayer)?dataLayer.push({event:"virtualPageView",virtualPageURL:"/"+o}):void 0}}(this))}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this._setLanguage=function(){var e;return e=Router.getLanguage(),TAPi18n.getLanguage()!==e&&TAPi18n.setLanguage(e),"ua"===e&&(e="uk"),moment.locale(e)},Router.configure({layoutTemplate:"layout",loadingTemplate:"preloaderCap",notFoundTemplate:"notFound",i18n:{defaultLanguage:Meteor.settings["public"].lng,langCodeForDefaultLanguage:!1,languages:Meteor.settings["public"].langs,autoConfLanguage:!0,exclude:{admin:"/admin"}}}),Router.onBeforeAction(function(){return _showPageLoader(),_setLanguage(),this.next()}),this._scrollToTop=function(){return $("body,html").scrollTop(0)},Router.onAfterAction(function(){return _scrollToTop()})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.__getLangForReCAPTCHA=function(){var e;return e=TAPi18n.getLanguage(),"ua"===e&&(e="uk"),e},Meteor.startup(function(){return _setLanguage(),/iPad|iPhone/i.test(navigator.userAgent)&&$("<meta>").attr("name","viewport").attr("content","width=device-width,height=device-height,minimum-scale=0.8,initial-scale=0.8,maximum-scale=0.8").appendTo($("body")),moment.locale("uk",{monthsShort:["січ","лют","бер","кві","тра","чер","лип","сер","вер","жов","лис","гру"],weekdaysShort:["нд","пн","вт","ср","чт","пт","сб"],week:{dow:1}}),moment.locale("en",{monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],week:{dow:1}})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r,t;Template.registerHelper("$map",function(e){var r,t;if(!_.isArray(e))try{e=e.fetch()}catch(n){return r=n,console.log("Error in $map helpers: perhaps you aren't sending in a collection or array."),[]}return t=_.map(e,function(r,t){return r.$index=t,r.$num=t+1,r.$first=0===t,r.$last=t===e.length-1,r}),t||[]}),Template.registerHelper("$eq",function(e,r){return e===r}),Template.registerHelper("$lt",function(e,r){return r>e}),Template.registerHelper("$lte",function(e,r){return r>=e}),Template.registerHelper("$log",function(){return console.log(_.take(arguments,arguments.length-1))}),Template.registerHelper("pathForMBA",function(e){var r;return r={presidents:"presidents",executive:"executive",leadership:"leadership",agro:"agro",bank:"master-of-banking-and-finance"},Router.path("mbaProgram",{link:r[e]||r.presidents})}),r={superScope:{}},r.addScope=function(e,t){return r.superScope[e]=_.bind(function(){return this},t)},r.addScope("Session",Session),Template.registerHelper("$",function(){return r.superScope}),t=function(e,r,t){var n,i,u;return"string"!=typeof r?"":null!=r&&r.indexOf("/img/")>-1?r:e&&r?(n=_.isString(t),i=n?{store:t}:void 0,null!=(u=window[e].findOne({_id:r}))?u.url(i):void 0):""},Template.registerHelper("assetUrl",t),Template.registerHelper("assetUrlBg",function(e,r,n){var i;return i=t(e,r,n),i?{style:"background-image: url('"+i+"')"}:null}),Template.registerHelper("parseDate",function(e,r){return moment(e).format(r)}),Template.registerHelper("eachIndex",function(e){return _.map(e,function(e,r){return{index:r,value:e}})}),Template.registerHelper("eachSeries",function(e,r){return _.isNumber(r)||(r=2),_.chunk(e,r)}),Template.registerHelper("fromNow",function(e){return moment(e).locale(TAPi18n.getLanguage()).fromNow()}),Template.registerHelper("gt",function(e,r){return e>r}),Template.registerHelper("capitalize",function(e){return _.capitalize(e)}),Template.registerHelper("split",function(e,r){return e&&e.length?e.split(r):[]}),Template.registerHelper("$str",function(e){return _.isString(e)?e:""}),this.$isYoutube=function(e){return/^[0-9]+$/.test(e)?!1:!0},Template.registerHelper("$isYoutube",$isYoutube),Template.registerHelper("$isCurrentRoute",function(e){var r;return e===(null!=(r=Router.current().route)?r.getName():void 0)?"a-route":void 0}),Template.registerHelper("pathForNews",function(){var e;return e="a"===this.__type?"newsAlumniItem":"newsItem",Router.path(e,{_id:this.seoHrl||this._id})}),Template.registerHelper("getPurDirectionQuery",function(){return"directions="+this.name}),Template.registerHelper("isEven",function(e){return e%2===0}),Template.registerHelper("getRandomId",function(){return Random.id()}),Template.registerHelper("getHrlOrId",function(){return this.seoHrl||this._id}),Template.registerHelper("toLowerCase",function(e){return e.toLowerCase()})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.Modal=function(e){return this.data=e,this.data.autocreate!==!1?this.render():void 0},this.Modal.prototype.render=function(e){var t;return null==e&&(e={}),!this.renderedView||this.renderedView.isDestroyed?(_.extend(this.data,e),check(this.data,{name:Match.Where(function(e){return!!Template[e]}),data:Match.Optional(Object),cancelCallback:Match.Optional(Function),autocreate:Match.Optional(Boolean),classNames:Match.Optional(Match.ObjectIncluding({wrap:Match.Optional(String),panel:Match.Optional(String),close:Match.Optional(String),content:Match.Optional(String)}))}),t=_.clone(this.data),t.remove=_.bind(this.remove,this),$("body").addClass("no-overflow"),this.renderedView=Blaze.renderWithData(Template.modalWindow,t,document.getElementsByTagName("body")[0])):void 0},this.Modal.prototype.remove=function(){return Blaze.remove(this.renderedView)},Template.modalWindow.helpers({className:function(e){var t;return(null!=(t=Template.currentData().classNames)?t[e]:void 0)||"mw-"+e}}),Template.modalWindow.events({"click .t-close":function(){return this.remove(),$("body").removeClass("no-overflow"),"function"==typeof this.cancelCallback?this.cancelCallback():void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.BaseViewModel=function(){var e;return e=new ReactiveVar(!1),{isSubmitted:function(){return e.get()},wasSubmitted:function(t){var c;return c=_.isBoolean(t)?t:!0,e.set(c)},check:function(e){return this.wasSubmitted(),_.isFunction(this.checkForm)?this.checkForm(function(t){return function(){return t.proceedCheck(e)}}(this)):this.proceedCheck(e)},proceedCheck:function(e){return _.isFunction(e)?e(this.toJS()):void 0}}}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;this.GenerateViewModel=function(t,e){var r,n,a,i,s,o,u;return e||(e=t,t=!1),o={},u=[],s=[],r=[],i=e.startIndex||0,_.each(e.fields,function(t,e){var n,a,l,c,f;return f="","date"===t.tag?l=[""+e+"_d",""+e+"_m",""+e+"_y"]:"period"===t.tag?l=[""+e+"_m0",""+e+"_y0",""+e+"_m1",""+e+"_y1"]:"listCheckbox"===t.tag?(l=[e],f=[]):l=[e],_.each(l,function(t){return o[t]=f}),s=s.concat(l),_.startsWith(t.tag,"list")&&(o[""+e+"_other"]=""),c=_.isString(t)&&t||t.rules||!1,t.noDom||(n={name:e,tag:t.tag||"input",type:t.type||"text",label:t.label||"",rule:!!c,options:"select"===t.tag?t.options:null,attrs:t.attrs||null,data:t.data||{},index:i++},n.post=_.defaults(t.post||{},{group:"group",label:"label",tag:n.tag,error:"error"}),r.push(n)),c&&"kaptcha"!==t.tag?(a=""+e+"Invalid",u.push(a),o[a]=Validator.fn(c,e),o[""+e+"Message"]=ErrorMessages[c](e),o[""+e+"Hidden"]=function(){return a!==this.firstInvalidRuleName()}):void 0}),u.length&&(o.checkForm=function(t){var e;return e=!0,_.each(u,function(t){return function(r){return e=!t[r]()}}(this)),e?t():void 0}),0===e.startIndex&&(o.firstInvalidRuleName=function(){var t;return t=[],_.each(this._vm_properties,function(e){return function(r){var n;return e[r](),n=_.take(r.split("_"),3).join("_")+"Invalid",e[n]?_.contains(t,n)?void 0:t.push(n):t.push(!1)}}(this)),_.find(t,function(t){return function(e){return e===!1?!1:t[e].call(t)}}(this))}),e.extendWith&&_.extend(o,e.extendWith),t instanceof Blaze.Template||_.isString(t)&&(t=Template[t]),t&&(a={},n="vmData"+(e.name?"_"+e.name:""),a[n]=function(){return{fields:r,pre:e.pre,requiredClass:e.requiredClass||!1}},t.helpers(a)),o}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(e){return e instanceof Blaze.Template?e:Template[e]},this.TemplateViewModel=function(e,i){return e=t(e),e.viewmodel(BaseViewModel,GenerateViewModel(e,i))},this.GetViewModel=function(e,i){var o;return e=t(e),o=new ViewModel(BaseViewModel()),o.extend(GenerateViewModel(e,i)),o}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,r,i,n,e,u,o,s,f;this.__3_MB=3145728,n=function(t,r){return{d:!_.isEmpty(t[""+r+"_d"]()),m:!_.isEmpty(t[""+r+"_m"]()),y:!_.isEmpty(t[""+r+"_y"]())}},r=function(t,r){return _.all(n(t,r))},e=function(t,r){return{m0:t[""+r+"_m0"](),m1:t[""+r+"_m1"](),y0:t[""+r+"_y0"](),y1:t[""+r+"_y1"]()}},o=function(t){var r;return r=!_.isEmpty(t.m0)&&!_.isEmpty(t.y0),r&&!(_.isEmpty(t.m1)^_.isEmpty(t.y1))},f=function(t,r){var i;return i=e(t,r),o(i)&&!s(i)},s=function(t){var r,i;return t.y1&&t.y0>t.y1?!0:t.y1&&t.m1&&t.y0===t.y1&&(r=moment(t.m0,"MMM").month(),i=moment(t.m1,"MMM").month(),r>i)?!0:!1},u=function(t){return t instanceof File},i=function(t){return(null!=t?t.size:void 0)>__3_MB},this.Validator={fn:function(t,r){return function(){var i;return this.isSubmitted()===!1?!1:(i=_.isFunction(this[r])&&"list"!==t?this[r]():[this,r],Validator[t](i))}},exists:function(t){return _.isEmpty(t)},email:function(t){return!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)},fileSize:function(t){return!(u(t)&&!i(t))},phone:function(t){return!/^\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}$/.test(t)},numbers:function(t){return!/^[0-9]*$/i.test(t)},valueLength:function(t,r){return t.length!==r},date:function(t){var i,n;return i=t[0],n=t[1],!r(i,n)},period:function(t){var r,i;return r=t[0],i=t[1],!f(r,i)},list:function(t){var r,i,n;return r=t[0],n=t[1],i=""+n+"_other",console.log(r[n](),r[i]()),!(!_.isEmpty(r[n]())||r[i]())}},this.ErrorMessages={exists:function(t){return function(){return this.isSubmitted()?this[t]()?"":TAPi18n.__("errors.required"):""}},require:function(t){return function(){return this.isSubmitted()?this[t]()?"":TAPi18n.__("errors.required"):""}},email:function(t){return function(){return this.isSubmitted()&&Validator.email(this[t]())?TAPi18n.__("errors.invalid-email"):""}},fileSize:function(t){return function(){var r;return r=this[t](),i(r)?TAPi18n.__("errors.file-too-large"):this.isSubmitted()?u(r)?"":TAPi18n.__("errors.required"):""}},phone:function(t){return function(){return this.isSubmitted()&&Validator.phone(this[t]())?TAPi18n.__("errors.invalid-phone"):""}},date:function(t){return function(){return this.isSubmitted()&&Validator.date([this,t])?TAPi18n.__("errors.required"):""}},period:function(t){return function(){var r;return this.isSubmitted()?(r=e(this,t),o(r)?s(r)?TAPi18n.__("errors.firstBoundaryHigher"):"":TAPi18n.__("errors.required")):""}},list:function(t){return function(){return this.isSubmitted()&&_.isEmpty(this[t]())&&!this[""+t+"_other"]()?TAPi18n.__("errors.required"):""}}}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;SimpleSchema.extendOptions({autoform:Match.Optional(Object),i18n:Match.Optional(Boolean),ignore:Match.Optional(Boolean),position:Match.Optional(Number)})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.InitCollection=function(e){return function(t,n,s){var i,r,c;return null==s&&(s=!1),c=t[0].toUpperCase()+t.substr(1),r=t[t.length-1],i="s"===r?t:"y"===r?""+t.substring(0,t.length-1)+"ies":""+t+"s",e[c]=TAPi18n.Collection(i,{base_language:Meteor.settings["public"].lng,languages:Meteor.settings["public"].langs}),e[c].attachI18nSchema(n)}}(this)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("mbaList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.__Supp=new Mongo.Collection("_supportive")}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("about",{name:{label:"Назва",type:String,max:50,i18n:!0,position:10},sign:{label:"Підпис",type:String,i18n:!0,position:20},desc:{label:"Опис",type:String,i18n:!0,position:30,autoform:{afFieldInput:{type:"textarea",rows:6}}},image:{label:"Зображення",type:String,optional:!0,position:40,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},about:{label:"Про KMBS",type:Array,position:50},"about.$":{label:"1",type:Object},"about.$.name":{label:"Назва",type:String,i18n:!0,position:10},"about.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"about.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},approach:{label:"Підхід до навчання",type:Array,position:60},"approach.$":{label:"2",type:Object},"approach.$.name":{label:"Назва",type:String,i18n:!0,position:10},"approach.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"approach.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},interviews:{label:"Інтервью",type:Array,position:90},"interviews.$":{label:"3",type:Object,optional:!0},"interviews.$.image":{label:"Зображення",type:String,optional:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"interviews.$.video":{label:"Відео",type:String,optional:!0,position:20,autoform:{type:"vimeo"}},"interviews.$.name":{label:"Імя выпускника",type:String,max:30,i18n:!0,position:30},"interviews.$.occupation":{label:"Опис",type:String,optional:!0,i18n:!0,position:40,autoform:{afFieldInput:{type:"summernote","class":"editor",rows:3}}}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("alumni",{name:{label:"Назва",type:String,max:50,i18n:!0,position:10},sign:{label:"Підпис",type:String,i18n:!0,position:20},desc:{label:"Опис",type:String,i18n:!0,position:30,autoform:{afFieldInput:{type:"textarea",rows:6}}},image:{label:"Зображення",type:String,optional:!0,position:40,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},projects:{label:"Проекти Alumni",type:Array,position:50},"projects.$":{label:" ",type:Object},"projects.$.name":{label:"Назва",type:String,i18n:!0,position:10},"projects.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"projects.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},history:{label:"Історія змін",type:[String],optional:!0,position:60,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){var e,t;return t={type:_newsTypeIds.HISTORY},e={fields:{name:1}},[{value:null,label:null}].concat(_.map(NewsAlumni.find(t,e).fetch(),function(e){return{value:e._id,label:e.name}}))}}}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.ApplicationFormFiles=new Meteor.Files({storagePath:"/assets/kmbs/uploads/applicationFormFiles",collectionName:"applicationFormFiles",chunkSize:32768,permissions:511,allowClientCode:!1,onBeforeUpload:function(){var e,i;return e=this.ext.toLowerCase(),i=["pdf","doc","docx","jpg","png","jpeg","gif","xls","xlsx"],i.inArray(e)&&this.size<3145728?!0:"Please upload file in next formats: "+i.join(", ")+" with size less than 3 Mb. You have tried to upload file with '"+e+"' extension and with \""+Math.round(this.size/1048576*100)/100+'" Mb'}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("applicationForm",{name:{type:String},language:{type:String},origin:{type:String,index:!0},createdAt:{type:Date,autoValue:function(){return this.isInsert?moment().toDate():void 0}},isNew:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},isActive:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},isSent:{type:Boolean,optional:!0},blocks:{type:[Object],blackbox:!0}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("audience",{name:{label:"Назва",position:1,type:String,max:50,i18n:!0},direction:{label:" ",type:Boolean,optional:!0,position:50,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Напрямки",contains:["directionPUR","directionEvent"]}},directionPUR:{label:"ПУР",type:Boolean,optional:!0,ignore:!0,position:2},directionEvent:{label:"Події",type:Boolean,optional:!0,ignore:!0,position:3}},!1,!0,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("coachList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("coach",{sketchImage:{label:"Зображення для обрізки",type:String,optional:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},bigImage:{label:"Велике зображення",type:String,optional:!0,position:10,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:1,minCropBoxWidth:600,minCropBoxHeight:600,cropBoxResizable:!1}}}},image:{label:"Середнє зображення",type:String,optional:!0,position:11,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:.95,minCropBoxWidth:285,minCropBoxHeight:300,cropBoxResizable:!1}}}},smallImage:{label:"Маленьке зображення",type:String,optional:!0,position:12,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:1,minCropBoxWidth:163,minCropBoxHeight:163,cropBoxResizable:!1}}}},firstName:{label:"Ім'я",type:String,i18n:!0,position:15},lastName:{label:"Прізвище",type:String,i18n:!0,position:20},spec:{label:"Спеціалізація",type:String,i18n:!0,position:25},desc:{label:"Опис",type:String,i18n:!0,position:30,optional:!0,autoform:{afFieldInput:{type:"textarea",rows:5}}},info:{label:"Що викладає",type:String,i18n:!0,position:35,optional:!0,autoform:{afFieldInput:{type:"summernote","class":"editor",rows:5}}},phones:{label:"Телефони",type:Array,minCount:1,position:40,optional:!0},"phones.$":{type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},email:{label:"E-mail",type:String,regEx:SimpleSchema.RegEx.Email,position:35,optional:!0},prioritized:{label:"Приорітетний?",type:Boolean,position:90},articles:{label:"Статті",type:Array,optional:!0,position:45},"articles.$":{label:"Статті",type:Object,optional:!0},"articles.$.name":{label:"Назва",type:String,i18n:!0},"articles.$.url":{label:"Посилання на джерело",type:String,regEx:SimpleSchema.RegEx.Url},"articles.$.date":{label:"Дата",type:Date,position:4,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},direction:{label:" ",type:Boolean,optional:!0,position:50,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Напрямки програм",contains:["directionMBA","directionPUR","directionPURFilter","directionInv"]}},directionMBA:{label:"MBA",type:Boolean,ignore:!0,position:1},directionPUR:{label:"ПУР",type:Boolean,ignore:!0,position:2},directionPURFilter:{label:"Виводити у фильтрі для ПУРів",type:Boolean,optional:!0,ignore:!0,position:3},directionInv:{label:"Запрошений експерт",type:Boolean,optional:!0,ignore:!0,position:4}},!1,!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;InitCollection("contact",{contacts:{label:"Контакти",type:Array,optional:!0},"contacts.$":{label:"Контакти",type:Object,optional:!0},"contacts.$.contact":{label:"Контакти",type:String,autoform:{type:"select2",options:function(){var t;return t={sort:{lastName:1}},[{value:null,label:null}].concat(lodash.map(Teammate.find({},t).fetch(),function(t){return{label:""+t.lastName+" "+t.firstName,value:t._id}}))}}},"contacts.$.direction":{label:"Напрямок контакту",type:String,i18n:!0,optional:!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("corporateProgram",{name:{label:"Назва",type:String,max:150,i18n:!0,position:10},desc:{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},infoBlocks:{label:"Інфоблоки",type:Array,position:30},"infoBlocks.$":{label:" ",type:Object},"infoBlocks.$.name":{label:"Назва",type:String,i18n:!0,position:10},"infoBlocks.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"infoBlocks.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},clientTypes:{label:"Типи клієнтів",type:Array,position:40},"clientTypes.$":{label:" ",type:Object},"clientTypes.$.name":{label:"Назва",type:String,i18n:!0,position:10},"clientTypes.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"clientTypes.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},formats:{label:"Формати корпоративних програм",type:Array,position:50},"formats.$":{label:" ",type:Object},"formats.$.name":{label:"Назва",type:String,i18n:!0,position:10},"formats.$.desc":{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"formats.$.image":{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},contactsItem:{label:"Контактна особа",type:Object,optional:!0,position:60,autoform:{type:"chooseOrCreate",_idField:"coach",itemField:"own",createLabel:"programs.createContact",chooseLabel:"programs.selectContact"}},"contactsItem.coach":{label:" ",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Teammate.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},"contactsItem.own":{label:" ",type:Object,optional:!0,ignore:!0},"contactsItem.own.image":{label:"Зображення (велике)",type:String,optional:!0,position:10,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.own.smallImage":{label:"Зображення (маленьке)",type:String,optional:!0,position:15,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.own.firstName":{label:"Ім'я",type:String,i18n:!0,optional:!0,position:20,ignore:!0},"contactsItem.own.lastName":{label:"Прізвище",type:String,i18n:!0,optional:!0,position:30,ignore:!0},"contactsItem.own.spec":{label:"Спеціалізація",type:String,i18n:!0,optional:!0,position:40,ignore:!0},"contactsItem.own.phones":{label:"Телефони",type:Array,optional:!0,position:50,ignore:!0},"contactsItem.own.phones.$":{type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,optional:!0,ignore:!0,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},"contactsItem.own.email":{label:"E-mail",type:String,regEx:SimpleSchema.RegEx.Email,optional:!0,position:60,ignore:!0},projects:{label:"Реализовані проекти",type:Array,position:70},"projects.$":{label:" ",type:Object},"projects.$.name":{label:"Назва",type:String,i18n:!0,position:10},"projects.$.startDate":{label:"Дата початку",type:Date,position:20,optional:!0,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},"projects.$.endDate":{label:"Дата закінчення",type:Date,position:30,optional:!0,custom:function(){var e,t;return e=this.key.replace(/endDate$/,"startDate"),t=this.field(e).value,this.value instanceof Date&&t instanceof Date&&!(this.value>t)?"endDateTooEarly":void 0},autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},"projects.$.desc":{label:"Опис",type:String,position:40},"projects.$.image":{label:"Картинка",type:String,position:50,optional:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"projects.$.coaches":{label:"Викладачі",type:[String],position:60,optional:!0,autoform:{type:"select2",afFieldInput:{multiple:!0},select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Coach.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},applicationFormBlock:{type:Boolean,optional:!0,position:80,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Аплікаційна форма",contains:["applicationForm"]}},applicationForm:{label:"Використовувати шаблон:",type:String,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){var e;return e={fields:{templateName:1}},[{value:null,label:null}].concat(lodash.map(FormTemplate.find({},e).fetch(),function(e){return{value:e._id,label:e.templateName}}))}}}}),CorporateProgram.simpleSchema().messages({endDateTooEarly:"Дата закінчення повинна бути пізніше дати початку"})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("direction",{name:{label:"Назва",type:String,max:50,i18n:!0,position:1},color:{label:"Колір",type:String,autoform:{type:"bootstrap-minicolors"}}},!1,!0,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("eventList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("eventType",{name:{label:"Назва",type:String,max:50,i18n:!0,position:1},image:{label:"Зображення",type:String,optional:!0,position:1,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},color:{label:"Колір",type:String,autoform:{type:"bootstrap-minicolors"}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,o,a;Meteor.isServer&&"undefined"!=typeof GeoCoder&&null!==GeoCoder&&(o=new GeoCoder),t=_.memoize(function(){var e;return e={directionEvent:!0},[{label:null,value:null}].concat(lodash.map(Audience.find(e).fetch(),function(e){return{label:e.name,value:e._id}}))}),InitCollection("event",{isInactive:{label:"Не відображати на сайті",type:Boolean,defaultValue:!1,position:10},name:{label:"Назва",type:String,max:255,i18n:!0,position:15},type:{label:"Тип події",type:String,maxCount:1,position:20,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(EventType.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},region:{label:"Регіон",type:String,maxCount:1,position:27,optional:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Region.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},audience:{label:"Головна аудиторія",type:String,maxCount:1,position:30,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:t}},audiencesMinor:{label:"Другорядні аудиторії",type:[String],position:35,autoform:{type:"select2",afFieldInput:{multiple:!0},select2Options:{placeholder:"Не вибрано"},options:t}},startDate:{label:"Дата початку події",type:Date,position:40,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}},custom:function(){return this.value<this.field("registrationEndDate").value?"eventDatesError":void 0}},time:{label:"Час (формат ГГ:ММ - ГГ:ММ)",type:String,regEx:/^\d{1,2}:\d{2} {0,1}- {0,1}\d{1,2}:\d{2}$/,position:45,autoform:{type:"inputmask",mask:"99:99 - 99:99"}},registrationEndDate:{label:"Реєстрація до",type:Date,position:50,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},places:{label:"Кількість місць",type:Number,optional:!0,defaultValue:0,min:0,position:55,autoform:{type:"checkable",inputType:"number",checkboxLabel:"Обмежено?"}},googleFormURL:{label:"Посилання на гугл форму",type:String,regEx:SimpleSchema.RegEx.Url,i18n:!0,position:60,optional:!0},desc:{label:"Текстовий опис",type:String,optional:!0,i18n:!0,position:65,autoform:{afFieldInput:{type:"summernote","class":"editor"}}},image:{label:"Зображення",type:String,optional:!0,position:70,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},coach:{label:"Викладачі",type:[String],regEx:SimpleSchema.RegEx.Id,optional:!0,position:75,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){return lodash.map(Coach.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}})}}},requirements:{label:"Що потрібно для участі?",type:String,optional:!0,i18n:!0,position:80},price:{label:"Платне?",type:Number,defaultValue:0,min:0,position:85,autoform:{type:"checkable",inputType:"number",inputLabel:"Вартість"}},address:{label:"Адреса",type:Object,position:90},"address.text":{label:"Текст",type:String,i18n:!0,ignore:!0},"address.map":{label:"На карті (наприклад: Хрещатик 7, Київ)",type:String,i18n:!0,ignore:!0,optional:!0},"address.loc":{label:"Location",type:[Number],ignore:!0,optional:!0,autoform:{omit:!0}},"address.url":{label:"Посилання (http://domain.site.com)",type:String,regEx:SimpleSchema.RegEx.Url,i18n:!0,ignore:!0},contacts:{type:Boolean,optional:!0,position:92,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Контакти",contains:["contactsItem","speakers"]}},contactsItem:{label:" ",type:Array,optional:!0,ignore:!0},"contactsItem.$":{label:" ",type:Object,optional:!0,ignore:!0,autoform:{type:"chooseOrCreate",_idField:"coach",itemField:"own",fields:["director"],itemFieldSchemaKey:"contactsItem.$.own",createLabel:"programs.createContact",chooseLabel:"programs.selectContact"}},"contactsItem.$.coach":{label:" ",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Teammate.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},"contactsItem.$.own":{label:" ",type:Object,optional:!0,ignore:!0},"contactsItem.$.own.image":{label:"Зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.$.own.firstName":{label:"Ім'я",type:String,i18n:!0,optional:!0,ignore:!0,position:20},"contactsItem.$.own.lastName":{label:"Прізвище",type:String,i18n:!0,optional:!0,ignore:!0,position:30},"contactsItem.$.own.spec":{label:"Спеціалізація",type:String,i18n:!0,optional:!0,ignore:!0},"contactsItem.$.own.phones":{label:"Телефони",type:Array,optional:!0,ignore:!0,position:40},"contactsItem.$.own.phones.$":{type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,optional:!0,ignore:!0,position:50,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},"contactsItem.$.own.email":{label:"E-mail",type:String,regEx:SimpleSchema.RegEx.Email,optional:!0,ignore:!0,position:60},speakers:{label:"Спікери",type:Array,optional:!0,ignore:!0,position:95},"speakers.$":{type:Object,optional:!0,ignore:!0},"speakers.$.name":{label:"Текст",type:String,i18n:!0,ignore:!0},"speakers.$.desc":{label:"Текст",type:String,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"textarea",rows:4}}},"speakers.$.image":{label:"Фото",type:String,optional:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}}}),Event.simpleSchema().messages({eventDatesError:"Дата регістрація повинна бути раніше початку події"}),Event.before&&(a=function(e){var t,a;return t=o.geocode(e),a=null!=t?t[0]:void 0,(null!=a?a.longitude:void 0)&&(null!=a?a.latitude:void 0)?[a.longitude,a.latitude]:[]},Event.before.insert(function(e,t){var n,l,i,r;if(!Meteor.isClient&&o)return l=Meteor.settings["public"].lng,n=(null!=t&&null!=(i=t.address)&&null!=(r=i.map)?r[l]:void 0)||"",t.address.loc=a(n)}),Event.before.update(function(e,t,n,l,i){var r,p,s,c;if(!Meteor.isClient&&o)return l.$set=l.$set||{},p=Meteor.settings["public"].lng,r=l.$set["address.map."+p]||(null!=t&&null!=(s=t.address)&&null!=(c=s.map)?c[p]:void 0)||"",l.$set["address.loc"]=a(r)}))}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("formTemplate",{templateName:{label:"Назва",type:String},blocks:{type:[Object],blackbox:!0}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,o,t;t={firstScreen:{label:" ",type:Boolean,optional:!0,position:10,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Перший екран",contains:["slides"]}},slides:{label:"Слайди",type:Array,ignore:!0},"slides.$":{label:"Слайд",type:Object,optional:!0,ignore:!0},"slides.$.image":{label:"Зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"slides.$.videoMP4":{label:"Відео mp4",type:String,optional:!0,ignore:!0,position:20,autoform:{afFieldInput:{type:"fileUpload",collection:"GlobalVideo",accept:"video/mp4",label:"Завантажити відео (mp4)"}}},"slides.$.videoWEBM":{label:"Відео webm",type:String,optional:!0,ignore:!0,position:20,autoform:{afFieldInput:{type:"fileUpload",collection:"GlobalVideo",accept:"video/webm",label:"Завантажити відео (webm)"}}},"slides.$.videoOGV":{label:"Відео ogv",type:String,optional:!0,ignore:!0,position:20,autoform:{afFieldInput:{type:"fileUpload",collection:"GlobalVideo",accept:"video/ogg",label:"Завантажити відео (ogv)"}}},"slides.$.name":{label:"Назва",type:String,max:90,i18n:!0,ignore:!0,position:30},"slides.$.desc":{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0,position:40,autoform:{afFieldInput:{type:"textarea",rows:6}}},"slides.$.url":{label:"Посилання",type:String,regEx:SimpleSchema.RegEx.Url,i18n:!0,ignore:!0,position:50},"slides.$.position":{label:"Позиція",min:0,type:Number,ignore:!0,position:60},newsAndEvents:{label:" ",type:Boolean,position:20,optional:!0,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Новини і події",contains:["news","eventsPUR","eventsMBA"]}},news:{label:"Новини",type:[String],optional:!0,position:10,ignore:!0,custom:function(){return Meteor.isClient&&!(this.field("newsAndEvents").value||lodash.isArray(this.value)&&this.value.length>=3)?"notEnoughNews":void 0},autoform:{type:"select2",afFieldInput:{multiple:!0,options:function(){return lodash.map(NewsAlumni.find().fetch(),function(e){return{label:e.name,value:e._id}}).concat(lodash.map(NewsKmbs.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}}},eventsPUR:{type:Array,label:"ПУР",ignore:!0,position:30},"eventsPUR.$":{type:Object,label:" ",ignore:!0},"eventsPUR.$.program":{label:"Програма",type:String,ignore:!0,position:10,maxCount:1,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Program.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},"eventsPUR.$.title":{label:"Назва",type:String,i18n:!0,ignore:!0,position:30},"eventsPUR.$.desc":{label:"Опис",type:String,i18n:!0,ignore:!0,position:50},"eventsPUR.$.position":{label:"Позиція",type:Number,ignore:!0,position:70},eventsMBA:{type:Array,label:"Новини",ignore:!0,position:30},"eventsMBA.$":{type:Object,label:" ",ignore:!0},"eventsMBA.$.program":{label:"Новина",type:String,ignore:!0,position:10,maxCount:1,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(NewsKmbs.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},"eventsMBA.$.title":{label:"Назва",type:String,i18n:!0,ignore:!0,position:30},"eventsMBA.$.desc":{label:"Опис",type:String,i18n:!0,ignore:!0,position:50},"eventsMBA.$.position":{label:"Позиція",type:Number,ignore:!0,position:70},interviewBlock:{label:" ",type:Boolean,optional:!0,position:40,autoform:{type:"cancelable",checkboxLabel:"Приховати блок",hasCheckbox:!0,blockLabel:"Інтервью з выпускниками",contains:["interviews"]}},interviews:{label:"Інтервью",type:Array,ignore:!0},"interviews.$":{label:" ",type:Object,optional:!0,ignore:!0},"interviews.$.image":{label:"Зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"interviews.$.video":{label:"Відео",type:String,optional:!0,ignore:!0,position:20,autoform:{type:"vimeo"}},"interviews.$.name":{label:"Ім'я выпускника",type:String,max:30,i18n:!0,ignore:!0,position:30},"interviews.$.occupation":{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0,position:40,autoform:{afFieldInput:{type:"textarea",rows:6}}},newsLowerBlock:{label:" ",type:Boolean,optional:!0,position:50,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Новини (нижній блок)",contains:["newsLower"]}},newsLower:{label:"Виберіть новини для нижнього блоку",type:[String],optional:!0,position:10,ignore:!0,maxCount:4,minCount:4,autoform:{type:"select2",afFieldInput:{multiple:!0,options:function(){return lodash.map(NewsAlumni.find().fetch(),function(e){return{label:e.name,value:e._id}}).concat(lodash.map(NewsKmbs.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}}}},o=/^\/$/,InitCollection("global",t,o),Global.simpleSchema().messages({notEnoughNews:"Виберіть хоча б 3 новини.",notEnoughVideos:"Виберіть хоча б 4 відео."})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("history",{name:{label:"Назва",type:String,max:50,i18n:!0,position:10},desc:{label:"Опис",type:String,i18n:!0,position:20,autoform:{afFieldInput:{type:"summernote","class":"editor",rows:6}}},image:{label:"Зображення",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},position:{label:"Позиція (порядок)",type:Number,position:40,defaultValue:0},column:{label:"Колонка",type:Number,position:50,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null},{label:"Левая",value:1},{label:"Правая",value:2}]}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("historyList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.mbaSchema={mbaList:{label:" ",type:Boolean,optional:!0,position:10,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Список програм",contains:["name","forWhom"]}},name:{label:"Назва програми",type:String,ignore:!0,position:10},forWhom:{label:"Для кого",type:String,i18n:!0,ignore:!0,position:20},firstScreen:{label:" ",type:Boolean,optional:!0,position:12,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Перший екран",contains:["image","video","message","shortDesc","hideDay","hideDayNote","startDate","duration","price","priceUSD","priceNote","pdfPresentation"]}},image:{label:"Фонове зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},video:{label:"Фонове відео",type:String,optional:!0,ignore:!0,position:20,autoform:{type:"vimeo"}},message:{label:"Цитата",type:String,max:150,i18n:!0,ignore:!0,position:30},shortDesc:{label:"Опис",type:String,max:2048,i18n:!0,ignore:!0,position:40,autoform:{afFieldInput:{type:"summernote","class":"editor",rows:6}}},hideDay:{label:"Показувати лише місяць і рік",type:Boolean,ignore:!0,position:42},hideDayNote:{label:"Примітка при відображенні лише місяця і року",type:String,i18n:!0,ignore:!0,position:43,optional:!0,autoform:{afFieldInput:{type:"textarea",rows:4}}},startDate:{label:"Дата",type:Date,ignore:!0,position:45,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},duration:{label:"Тривалість",type:Object,ignore:!0,position:50},"duration.length":{label:"Кількість",type:Number,min:1,ignore:!0},"duration.type":{label:"Одиниця вимірювання",type:String,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{value:null,label:null},{value:"d",label:"дней"},{value:"w",label:"недель"},{value:"m",label:"месяцев"}]}}},price:{label:"Вартість, грн",type:Number,ignore:!0,position:60},priceUSD:{label:"Вартість, USD",type:Number,ignore:!0,optional:!0,position:70},priceNote:{label:"Примітка (для вартості)",type:String,optional:!0,i18n:!0,ignore:!0,position:80},pdfPresentation:{label:"Презентація (PDF файл)",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"PDF",accept:"application/pdf",label:"Завантажити презентацію"}}},partnersBlock:{type:Boolean,optional:!0,position:14,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Партнери",contains:["partners"]}},partners:{label:" ",type:Array,optional:!0,maxCount:3,ignore:!0},"partners.$":{type:Object,optional:!0,ignore:!0},"partners.$.image":{label:"Лого",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити лого"}}},"partners.$.name":{label:"Назва",type:String,i18n:!0,ignore:!0,position:30},"partners.$.url":{label:"Посилання",type:String,ignore:!0,position:30,optional:!0,regEx:SimpleSchema.RegEx.Url},applicationFormBlock:{type:Boolean,optional:!0,position:15,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Аплікаційна форма",contains:["applicationForm"]}},applicationForm:{label:"Використовувати шаблон:",type:String,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){var e;return e={fields:{templateName:1}},[{value:null,label:null}].concat(lodash.map(FormTemplate.find({},e).fetch(),function(e){return{value:e._id,label:e.templateName}}))}}},newsBlock:{type:Boolean,optional:!0,position:17,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Блок новин",contains:["newsBlockTitle","newsCommon","newsVideo"]}},newsBlockTitle:{label:"Назва блоку",type:String,ignore:!0,optional:!0,i18n:!0},newsCommon:{label:"Новини (звичайні)",type:[String],ignore:!0,optional:!0,minCount:3,maxCount:3,autoform:{type:"select2",afFieldInput:{multiple:!0},options:function(){return lodash.map(NewsKmbs.find({type:1}).fetch(),function(e){return{label:e.name,value:e._id}})}}},newsVideo:{label:"Новини (відео)",type:String,ignore:!0,optional:!0,autoform:{type:"select2",afFieldInput:{options:function(){return[{label:null,value:null}].concat(lodash.map(NewsKmbs.find({type:2}).fetch(),function(e){return{label:e.name,value:e._id}}))}}}},opportunities:{type:Boolean,position:17,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Возможности",contains:["opportunityBlocks"]}},opportunityBlocks:{label:" ",type:Array,optional:!0,ignore:!0},"opportunityBlocks.$":{label:" ",type:Object,optional:!0,ignore:!0},"opportunityBlocks.$.image":{label:"Іконка для можливостей",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити іконку"}}},"opportunityBlocks.$.text":{label:"Текст",type:String,optional:!0,i18n:!0,ignore:!0,position:20,autoform:{afFieldInput:{type:"textarea",rows:6}}},"opportunityBlocks.$.position":{label:"Позиція",type:Number,optional:!0,ignore:!0,position:30},structure:{type:Boolean,position:20,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Структура програми",contains:["structureModules","structureBlocks"]}},structureModules:{label:"Модулі",type:String,optional:!0,ignore:!0,i18n:!0,position:10,autoform:{afFieldInput:{type:"textarea",rows:4}}},structureBlocks:{label:" ",type:Array,optional:!0,ignore:!0,position:20},"structureBlocks.$":{label:" ",type:Object,optional:!0,ignore:!0},"structureBlocks.$.name":{label:"Назва",type:String,optional:!0,i18n:!0,ignore:!0},"structureBlocks.$.desc":{label:"Короткий опис",type:String,optional:!0,i18n:!0,ignore:!0},"structureBlocks.$.courses":{label:"Курси / Опис",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"textarea",rows:6}}},"structureBlocks.$.isText":{label:"Виводити опис у попапі",type:Boolean,optional:!0,ignore:!0},"structureBlocks.$.hideDetails":{label:"Приховати кнопку Деталі",type:Boolean,optional:!0,ignore:!0},formats:{type:Boolean,optional:!0,position:30,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Формати навчання",contains:["formatBlocks"]}},formatBlocks:{label:" ",type:Array,optional:!0,ignore:!0},"formatBlocks.$":{label:" ",type:Object,optional:!0,ignore:!0},"formatBlocks.$.name":{label:"Назва",type:String,optional:!0,i18n:!0,ignore:!0},"formatBlocks.$.desc":{label:"Короткий опис",type:String,optional:!0,i18n:!0,ignore:!0},"formatBlocks.$.image":{label:"",type:String,optional:!0,ignore:!0,autoform:{noLabel:!0,afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"formatBlocks.$.videos":{label:"Відеофайли",type:[String],optional:!0,ignore:!0},"formatBlocks.$.videos.$":{optional:!0,ignore:!0,autoform:{type:"vimeo"}},enterReqsBlock:{label:" ",type:Boolean,optional:!0,position:64,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Що потрібно для вступу",contains:["enterReqs"]}},enterReqs:{label:" ",type:Array,optional:!0,ignore:!0},"enterReqs.$":{label:" ",type:Object,optional:!0,ignore:!0},"enterReqs.$.icon":{label:" ",type:String,optional:!0,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Icon",accept:"image/*",label:"Завантажити иконку"}}},"enterReqs.$.desc":{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{noLabel:!0,afFieldInput:{type:"textarea",rows:6}}},contacts:{type:Boolean,optional:!0,position:65,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Контакти",contains:["contactsItem"]}},contactsItem:{label:" ",type:Array,optional:!0,ignore:!0},"contactsItem.$":{label:" ",type:Object,optional:!0,ignore:!0,autoform:{type:"chooseOrCreate",_idField:"coach",itemField:"own",fields:["director"],createLabel:"programs.createContact",chooseLabel:"programs.selectContact"}},"contactsItem.$.coach":{label:" ",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Teammate.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},"contactsItem.$.director":{label:"Керівник прогами?",type:Boolean,ignore:!0,optional:!0},"contactsItem.$.own":{label:" ",type:Object,optional:!0,ignore:!0},"contactsItem.$.own.image":{label:"Зображення (велике)",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.$.own.smallImage":{label:"Зображення (маленьке)",type:String,optional:!0,ignore:!0,position:15,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.$.own.firstName":{label:"Ім'я",type:String,i18n:!0,optional:!0,ignore:!0,position:20},"contactsItem.$.own.lastName":{label:"Прізвище",type:String,i18n:!0,optional:!0,ignore:!0,position:30},"contactsItem.$.own.spec":{label:"Спеціалізація",type:String,i18n:!0,optional:!0,ignore:!0,position:40},"contactsItem.$.own.phones":{label:"Телефони",type:Array,optional:!0,ignore:!0,position:50},"contactsItem.$.own.phones.$":{type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,optional:!0,ignore:!0,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},"contactsItem.$.own.email":{label:"E-mail",type:String,regEx:SimpleSchema.RegEx.Email,optional:!0,ignore:!0,position:60},eventsBlock:{label:" ",type:Boolean,optional:!0,position:70,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Події",contains:["events"]}},events:{label:"Події",type:[String],minCount:1,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){return[{label:null,value:null}].concat(lodash.map(Event.find({},{sort:{startDate:-1}}).fetch(),function(e){var o;return o=moment(e.startDate).format("DD.MM.YYYY"),{label:""+e.name+" ("+o+")",value:e._id}}))}}},"events.$":{type:String,regEx:SimpleSchema.RegEx.Id,ignore:!0}}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("mbaEventMenu",{events:{label:"Подія для меню МБА",type:String,maxCount:1,optional:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Event.find({},{sort:{startDate:-1}}).fetch(),function(e){var t;return t=moment(e.startDate).format("DD.MM.YYYY"),{label:""+e.name+" ("+t+")",value:e._id}}))}}},image:{label:"Зображення події",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,o,a,l,t,n;t=lodash.clone(mbaSchema,!0),a={requirementsBlock:{label:" ",type:Boolean,optional:!0,position:63,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Вимоги до кандидатів",contains:["requirements"]}},requirements:{label:" ",type:Array,optional:!0,ignore:!0},"requirements.$":{label:" ",type:Object,optional:!0,ignore:!0},"requirements.$.icon":{label:" ",type:String,optional:!0,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Icon",accept:"image/*",label:"Завантажити иконку"}}},"requirements.$.desc":{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{noLabel:!0,afFieldInput:{type:"textarea",rows:6}}}},o=lodash.extend(lodash.clone(mbaSchema,!0),a),n=lodash.extend(t,a),l=lodash.clone(n,!0),InitCollection("mbaAgro",o),InitCollection("mbaBanking",lodash.clone(l,!0)),InitCollection("mbaLeadership",lodash.clone(l,!0)),InitCollection("mbaExecutive",lodash.clone(l,!0))}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c=lodash.clone(mbaSchema,!0),InitCollection("mbaPresident",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.newsSchema={name:{label:"Назва",type:String,i18n:!0},shortDesc:{label:"Короткий опис",type:String,i18n:!0,autoform:{afFieldInput:{type:"textarea",rows:5}}},text:{label:"Текст",type:String,i18n:!0,autoform:{afFieldInput:{type:"summernote",rows:10,settings:{toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","gallery","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]}}}},coverImage:{label:"Титульне зображення",type:String,optional:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},coverImageN:{label:"Титульне зображення (NEW)",type:String,optional:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"NewsTitle",accept:"image/*",label:"Завантажити зображення"}}},image:{label:"Превью картки",type:String,optional:!0,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceCollection:"Image",sourceImageField:"coverImage",cropWidth:400,cropHeight:312,accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:400/312}}}},imageN:{label:"Превью картки (NEW)",type:String,optional:!0,autoform:{afFieldInput:{type:"cropper",collection:"NewsImg",sourceCollection:"NewTitle",sourceImageField:"coverImageN",cfsStore:"thumb",cropWidth:320,cropHeight:232,accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:320/232}}}},gallery:{label:"Галерея",type:Array,optional:!0,ignore:!0},"gallery.$":{type:Object,ignore:!0},"gallery.$.name":{label:"Назва галереї",type:String,ignore:!0},"gallery.$.id":{type:String,ignore:!0,autoform:{afFieldInput:{type:"hidden"}}},"gallery.$.items":{label:"Зображення",type:Array,ignore:!0},"gallery.$.items.$":{type:Object,ignore:!0},"gallery.$.items.$.image":{label:"Зображення",type:String,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"gallery.$.items.$.note":{label:"Підпис",type:String,i18n:!0,ignore:!0,optional:!0},video:{label:"Відео",type:String,optional:!0,autoform:{type:"vimeo"}},date:{type:Date,label:"Дата",index:-1,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}}}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("newsAlumni",lodash.extend(lodash.clone(newsSchema,!0),{type:{label:"Тип",type:Number,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:_newsTypesFactory([_newsTypeIds.COMMON,_newsTypeIds.HISTORY])}},subject:{label:"Тематика",type:Number,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{value:null,label:null}].concat(_.map(NewsSubject.find().fetch(),function(e){return{value:e.typeId,label:e.name}}))}}},history:{label:" ",type:Boolean,optional:!0,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Історія змін",contains:["photo","quote","nameSurname","startDate","job","desc"]}},photo:{label:"Фото",type:String,optional:!0,position:50,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити фото"}}},quote:{label:"Цитата",type:String,optional:!0,i18n:!0,ignore:!0,position:60},nameSurname:{label:"Ім'я выпускника",type:String,optional:!0,i18n:!0,ignore:!0,position:70},job:{label:"Місце работи",type:String,optional:!0,i18n:!0,ignore:!0,position:80},desc:{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0,position:90,autoform:{afFieldInput:{type:"textarea",rows:4}}}}))}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("newsAlumniList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("newsGallery",{gallery:{label:"Галерея",type:Array,ignore:!0},"gallery.$":{type:Object,ignore:!0},"gallery.$.name":{label:"Назва галереї",type:String,ignore:!0},"gallery.$.id":{type:String,ignore:!0,autoValue:function(){return this.value?void 0:Random.id()},autoform:{noLabel:!0,afFieldInput:{noLabel:!0,type:"hidden"}}},"gallery.$.items":{label:"Зображення",type:Array,ignore:!0},"gallery.$.items.$":{type:Object,ignore:!0},"gallery.$.items.$.image":{label:"Зображення",type:String,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"gallery.$.items.$.note":{label:"Підпис",type:String,i18n:!0,ignore:!0,optional:!0}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("newsKmbs",lodash.extend(lodash.clone(newsSchema,!0),{type:{label:"Тип",type:Number,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:_newsTypesFactory([_newsTypeIds.COMMON,_newsTypeIds.VIDEO])}}}))}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("newsKmbsList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("newsSubject",{typeId:{type:Number,ignore:!0},name:{label:"Назва",type:String,i18n:!0,position:10},image:{label:"Зображення",type:String,optional:!0,position:50,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("newsType",{typeId:{type:Number,ignore:!0},name:{label:"Назва",type:String,i18n:!0,position:10},image:{label:"Зображення",type:String,optional:!0,position:50,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,c;c={},InitCollection("programList",c)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,o,t,i,n;o=_.memoize(function(){var e;return e={fields:{firstName:1,lastName:1}},[{label:null,value:null}].concat(lodash.map(Coach.find({},e).fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}),i=_.memoize(function(){var e;return e={fields:{name:1}},[{label:null,value:null}].concat(lodash.map(Event.find({},e).fetch(),function(e){return{label:e.name,value:e._id}}))}),t=_.memoize(function(){return[{label:null,value:null}].concat(lodash.map(Direction.find().fetch(),function(e){return{label:e.name,value:e._id}}))}),n={direction:{label:"Напрямки",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,position:10,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:t}},auxDirections:{label:"Додаткові напрямки",type:[String],regEx:SimpleSchema.RegEx.Id,optional:!0,position:11,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){return[{label:null,value:null}].concat(lodash.map(Direction.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},isInactive:{label:"Не відображати на сайті",type:Boolean,defaultValue:!1,position:13},firstScreen:{label:" ",type:Boolean,optional:!0,position:15,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Перший екран",contains:["image","name","shortDesc","hideDay","hideDayNote","startDate","period","time","region","enterReqs","audienceType","duration"]}},image:{label:"Зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},name:{label:"Назва",type:String,max:150,i18n:!0,ignore:!0,position:20},shortDesc:{label:"Опис",type:String,max:2048,i18n:!0,ignore:!0,position:30,autoform:{afFieldInput:{type:"textarea",rows:6}}},hideDay:{label:"Показувати лише місяць і рік",type:Boolean,ignore:!0,position:35},hideDayNote:{label:"Примітка при відображенні лише місяця і року",type:String,i18n:!0,ignore:!0,position:38,optional:!0,autoform:{afFieldInput:{type:"textarea",rows:4}}},startDate:{label:"Дата",type:Date,ignore:!0,position:40,autoform:{type:"bootstrap-datepicker",datePickerOptions:{language:"ua",format:"dd/mm/yyyy",autoclose:!0}}},period:{label:"Період",type:[Date],optional:!0,ignore:!0,position:45,autoform:{type:"bootstrap-daterangepicker",dateRangePickerOptions:{format:"DD/MM/YYYY",timePicker:!1}}},time:{label:"Час (формат ГГ:ММ - ГГ:ММ)",type:String,regEx:/^\d{1,2}:\d{2} {0,1}- {0,1}\d{1,2}:\d{2}$/,ignore:!0,position:50,autoform:{type:"inputmask",mask:"99:99 - 99:99"}},region:{label:"Регіон",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,ignore:!0,position:55,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Region.find().fetch(),function(e){return{label:e.name,value:e._id}}))}}},enterReqs:{label:"Що потрібно для вступу",type:String,ignore:!0,position:65,autoform:{afFieldInput:{type:"textarea",rows:6}}},audienceType:{label:"Аудиторії",type:[String],regEx:SimpleSchema.RegEx.Id,position:70,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){var e;return e={directionPUR:!0},lodash.map(Audience.find(e).fetch(),function(e){return{label:e.name,value:e._id}})}}},duration:{label:"Тривалість",type:String,i18n:!0,position:75,ignore:!0},masterClassBlock:{label:" ",type:Boolean,optional:!0,position:20,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Мастер-клас",contains:["masterClass"]}},masterClass:{type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",noLabel:!0,select2Options:{placeholder:"Не вибрано"},options:i}},audAndEvents:{type:Boolean,position:30,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Аудиторія і події",contains:["audienceTitle","audience","events"]}},audienceTitle:{label:"Назва аудиторії",type:String,i18n:!0,optional:!0,ignore:!0,position:15},audience:{label:"Опис аудиторії",type:Array,optional:!0,ignore:!0,position:50},"audience.$":{label:" ",type:Object,optional:!0,ignore:!0},"audience.$.desc":{label:"Опис аудиторії",type:String,i18n:!0,optional:!0,ignore:!0},events:{label:"Події",type:[String],minCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:i}},whatProgramGives:{type:Boolean,position:40,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Що дає програма",contains:["benefitsTitle","benefits"]}},benefitsTitle:{label:"Назва блоку",type:String,ignore:!0,i18n:!0,optional:!0,position:10},benefits:{label:" ",type:Object,optional:!0,ignore:!0,position:50},"benefits.items":{label:" ",type:Array,optional:!0,ignore:!0},"benefits.items.$":{type:Object,optional:!0,ignore:!0},"benefits.items.$.logo":{label:"Іконка",type:String,optional:!0,ignore:!0,position:0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити іконку"}}},"benefits.items.$.text":{label:"Текст",type:String,optional:!0,i18n:!0,ignore:!0,position:1,autoform:{afFieldInput:{type:"textarea",rows:5}}},"benefits.pdf":{label:"Деталі (PDF файл)",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"PDF",accept:"application/pdf",label:"Завантажити детали про програму"}}},structure:{type:Boolean,position:50,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Структура програми",contains:["structureSingleName","structureListName","structureBlocks"]}},structureSingleName:{label:"Назва елементу структури (наприклад, Модуль)",type:String,i18n:!0,optional:!0,ignore:!0,position:10},structureListName:{label:"Назва складу елементу структури (наприклад, Склад модулю)",type:String,i18n:!0,optional:!0,ignore:!0,position:30},structureBlocks:{label:" ",type:Array,optional:!0,ignore:!0,position:50},"structureBlocks.$":{label:" ",type:Object,optional:!0,ignore:!0},"structureBlocks.$.name":{label:"Назва",type:String,optional:!0,i18n:!0,ignore:!0},"structureBlocks.$.desc":{label:"Короткий опис",type:String,optional:!0,i18n:!0,ignore:!0},"structureBlocks.$.courses":{label:"Курси",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"summernote","class":"editor"}}},"structureBlocks.$.text":{label:"Текст",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"summernote","class":"editor"}}},requirementsBlock:{type:Boolean,position:60,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Що потрібно для вступу",contains:["requirements"]}},requirements:{label:" ",type:Array,optional:!0,ignore:!0},"requirements.$":{label:" ",type:Object,optional:!0,ignore:!0},"requirements.$.icon":{label:"Іконка",type:String,optional:!0,ignore:!0,position:0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити іконку"}}},"requirements.$.name":{label:"Опис",type:String,optional:!0,i18n:!0,ignore:!0},priceBlock:{type:Boolean,optional:!0,position:70,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Вартість, грн",contains:["price","priceNote"]}},price:{type:Number,optional:!0,ignore:!0,autoform:{noLabel:!0}},priceNote:{label:"Примітка",type:String,optional:!0,i18n:!0,ignore:!0,autoform:{afFieldInput:{type:"textarea",rows:6}}},partnersBlock:{type:Boolean,optional:!0,position:63,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Партнери",contains:["partners"]}},partners:{label:" ",type:Array,optional:!0,maxCount:3,ignore:!0},"partners.$":{type:Object,optional:!0,ignore:!0},"partners.$.image":{label:"Лого",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити лого"}}},"partners.$.name":{label:"Назва",type:String,i18n:!0,ignore:!0,position:30},"partners.$.url":{label:"Посилання",type:String,ignore:!0,position:30,optional:!0,regEx:SimpleSchema.RegEx.Url},contacts:{type:Boolean,optional:!0,position:65,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Контакти",contains:["contactsItem"]}},contactsItem:{label:" ",type:Array,optional:!0,ignore:!0},"contactsItem.$":{label:" ",type:Object,optional:!0,ignore:!0,autoform:{type:"chooseOrCreate",_idField:"coach",itemField:"own",fields:["director"],itemFieldSchemaKey:"contactsItem.$.own",createLabel:"programs.createContact",chooseLabel:"programs.selectContact"}},"contactsItem.$.coach":{label:" ",type:String,maxCount:1,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Teammate.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},"contactsItem.$.director":{label:"Керівник прогами?",type:Boolean,ignore:!0,optional:!0},"contactsItem.$.own":{label:" ",type:Object,optional:!0,ignore:!0},"contactsItem.$.own.image":{label:"Зображення",type:String,optional:!0,ignore:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},"contactsItem.$.own.firstName":{label:"Ім'я",type:String,i18n:!0,optional:!0,ignore:!0,position:20},"contactsItem.$.own.lastName":{label:"Прізвище",type:String,i18n:!0,optional:!0,ignore:!0,position:30},"contactsItem.$.own.spec":{label:"Спеціалізація",type:String,i18n:!0,optional:!0,ignore:!0},"contactsItem.$.own.phones":{label:"Телефони",type:Array,optional:!0,ignore:!0,position:40},"contactsItem.$.own.phones.$":{type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,optional:!0,ignore:!0,position:50,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},"contactsItem.$.own.email":{label:"E-mail",type:String,regEx:SimpleSchema.RegEx.Email,optional:!0,ignore:!0,position:60},coaches:{type:Boolean,optional:!0,position:70,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Викладачі",contains:["mainAuthors","experts","mainAuthor","authors"]}},mainAuthors:{label:"Автори програми (нові)",type:Array,optional:!0,ignore:!0,maxCount:3,position:70},"mainAuthors.$":{label:" ",type:Object,ignore:!0,optional:!0},"mainAuthors.$.coach":{label:"Викладач",type:String,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,position:10,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:o}},"mainAuthors.$.role":{label:"Роль",type:String,i18n:!0,optional:!0,ignore:!0,position:20},"mainAuthors.$.desc":{label:"Опис",type:String,i18n:!0,optional:!0,ignore:!0,autoform:{afFieldInput:{type:"textarea",rows:6}}},experts:{label:"Експерти (нові)",type:Array,optional:!0,ignore:!0,position:80},"experts.$":{label:" ",type:Object,ignore:!0,optional:!0},"experts.$.coach":{label:"Викладач",type:String,regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,position:10,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:o}},"experts.$.role":{label:"Роль",type:String,optional:!0,ignore:!0,i18n:!0,position:20},"experts.$.desc":{label:"Опис",type:String,optional:!0,ignore:!0,i18n:!0,position:30,autoform:{afFieldInput:{type:"textarea",rows:6}}},mainAuthor:{label:"Автор програми",type:[String],regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,position:10,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:o}},authors:{label:"Експерти",type:[String],regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,position:50,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:o}},reviewBlock:{type:Boolean,position:75,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Відгуки випускників",contains:["reviews"]}},reviews:{label:" ",type:Array,optional:!0,ignore:!0},"reviews.$":{label:" ",type:Object,optional:!0,ignore:!0},"reviews.$.image":{label:" ",type:String,optional:!0,ignore:!0,position:0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити фото"}}},"reviews.$.video":{label:" ",type:String,optional:!0,ignore:!0,position:0,autoform:{type:"vimeo"}},"reviews.$.name":{label:"Ім'я выпускника",type:String,optional:!0,i18n:!0,ignore:!0},"reviews.$.occupation":{label:"Посада",type:String,optional:!0,i18n:!0,ignore:!0},recommendBlock:{type:Boolean,position:80,autoform:{noLabel:!0,type:"cancelable",hasCheckbox:!0,checkboxLabel:"Приховати блок",blockLabel:"Рекомендувати з програмою",contains:["recommend"]}},recommend:{label:" ",type:[String],regEx:SimpleSchema.RegEx.Id,optional:!0,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},afFieldInput:{multiple:!0},options:function(){var e,o;return Meteor.isClient?(e={},o=Session.get("admin_id"),o&&(e._id={$ne:o}),[{label:null,value:null}].concat(lodash.map(Program.find(e).fetch(),function(e){var o;return{label:null!=(o=e.name)?o[TAPi18n.getLanguage()]:void 0,value:e._id}}))):void 0}}},applicationFormBlock:{type:Boolean,optional:!0,position:80,autoform:{noLabel:!0,type:"cancelable",blockLabel:"Аплікаційна форма",contains:["applicationForm"]}},applicationForm:{label:"Використовувати шаблон:",type:String,ignore:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){var e;return Meteor.isClient?(e={fields:{templateName:1}},[{value:null,label:null}].concat(lodash.map(FormTemplate.find({},e).fetch(),function(e){return{value:e._id,label:e.templateName}}))):void 0}}}},InitCollection("program",n)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("programCalendar",{name:{label:"Назва",type:String,max:150,i18n:!0,position:10},pdf:{label:"PDF файл",type:String,optional:!0,i18n:!0,position:50,autoform:{afFieldInput:{type:"fileUpload",collection:"PDF",accept:"application/pdf",label:"Завантажити"}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("purEventMenu",{events:{label:"Подія для меню ПУР",type:String,maxCount:1,optional:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Event.find({},{sort:{startDate:-1}}).fetch(),function(e){var t;return t=moment(e.startDate).format("DD.MM.YYYY"),{label:""+e.name+" ("+t+")",value:e._id}}))}}},image:{label:"Зображення події",type:String,optional:!0,position:30,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("randomCollection",{},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("redirect",{oldURL:{label:"Старий URL",type:String,regEx:/^((?!http:\/\/))^\//,position:1,unique:!0},newURL:{label:"Новий URL",type:String,regEx:/^((?!http:\/\/))^\//,position:2}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("region",{name:{label:"Назва",type:String,position:10,max:50,i18n:!0},direction:{label:" ",type:Boolean,optional:!0,position:20,autoform:{type:"cancelable",hasCheckbox:!1,blockLabel:"Напрямки",contains:["directionPUR","directionEvent"]}},directionPUR:{label:"ПУР",type:Boolean,optional:!0,ignore:!0,position:1},directionEvent:{label:"Подія",type:Boolean,optional:!0,ignore:!0,position:2}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.reqSchema={teammateId:{label:"Контактна особа",type:String,maxCount:1,optional:!0,autoform:{type:"select2",select2Options:{placeholder:"Не вибрано"},options:function(){return[{label:null,value:null}].concat(lodash.map(Teammate.find().fetch(),function(e){return{label:[e.firstName||"",e.lastName||""].join(" "),value:e._id}}))}}},source:{label:"Джерело зв'язку",type:String,optional:!0},name:{label:"Ім'я користувача",type:String,optional:!0},tel:{label:"Телефон",type:String,optional:!0},date:{label:"Дата заявки",type:String,ignore:!0,autoValue:function(){return moment().format("YYYY.MM.DD hh:mm:ss")}},isNew:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},isActive:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}}}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this.reqCallbackSchema=lodash.clone(reqSchema,!0),lodash.extend(reqCallbackSchema,{time:{label:"Зручний час для дзвінка",type:String,optional:!0}}),InitCollection("reqCallback",reqCallbackSchema,!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("reqMeeting",lodash.clone(reqSchema,!0),!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("reqQuestion",{name:{label:"Ім'я користувача",type:String},email:{label:"E-mail",regEx:SimpleSchema.RegEx.Email,type:String},text:{label:"Питання від користувача",type:String},date:{label:"Дата заявки",type:String,ignore:!0,autoValue:function(){return moment().format("YYYY.MM.DD hh:mm:ss")}},updated:{label:" ",type:String,ignore:!0,optional:!0,autoValue:function(){return this.isUpdate?"updated":void 0}},isNew:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},isActive:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("slide",{name:{label:"Назва",type:String,max:30,i18n:!0},desc:{label:"Опис",type:String,optional:!0,i18n:!0,autoform:{afFieldInput:{type:"summernote","class":"editor"}}},url:{label:"Посилання",type:String,regEx:SimpleSchema.RegEx.Email,i18n:!0},position:{label:"Позиція",min:0,type:Number},image:{label:"Зображення",type:String,optional:!0,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},video:{label:"Відео",type:String,optional:!0,autoform:{type:"vimeo"}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("subscribe",{email:{type:String,label:"E-mail",regEx:SimpleSchema.RegEx.Email,index:!0,unique:!0},isNew:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},isActive:{type:Boolean,autoValue:function(){return this.isInsert?!0:void 0}},date:{type:Date,autoValue:function(){return this.isInsert?new Date:void 0}},themes:{type:[Number],minCount:1}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t={},InitCollection("teammateList",t)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("teammate",{sketchImage:{label:"Зображення для обрізки",type:String,optional:!0,position:10,autoform:{afFieldInput:{type:"fileUpload",collection:"Image",accept:"image/*",label:"Завантажити зображення"}}},bigImage:{label:"Велике зображення",type:String,optional:!0,position:10,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:1,minCropBoxWidth:600,minCropBoxHeight:600,cropBoxResizable:!1}}}},image:{label:"Середнє зображення",type:String,optional:!0,position:11,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:.95,minCropBoxWidth:285,minCropBoxHeight:300,cropBoxResizable:!1}}}},smallImage:{label:"Мале зображення",type:String,optional:!0,position:12,autoform:{afFieldInput:{type:"cropper",collection:"Image",sourceImageField:"sketchImage",accept:"image/*",label:"Вирізати зображення",cropperOptions:{aspectRatio:1,minCropBoxWidth:163,minCropBoxHeight:163,cropBoxResizable:!1}}}},firstName:{label:"Ім'я",type:String,i18n:!0,position:15},lastName:{label:"Прізвище",type:String,i18n:!0,position:20},occupation:{label:"Посада",type:String,i18n:!0,position:25},desc:{label:"Опис",type:String,i18n:!0,position:27,optional:!0,autoform:{afFieldInput:{type:"textarea",rows:4}}},email:{label:"E-mail",type:String,optional:!0,regEx:SimpleSchema.RegEx.Email,position:30},position:{label:"Відносна позиція",defaultValue:0,type:Number,position:35},phone:{label:"Телефони",type:Array,position:40,optional:!0},"phone.$":{label:"Телефон",type:String,regEx:/\+ 38 \(0[0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/,optional:!0,ignore:!0,autoform:{type:"inputmask",mask:"+ 38 (099) 999 99 99"}},answersQuestions:{label:"Можливість замовити дзвінок",type:Boolean,position:50}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;InitCollection("token",{expiresAt:{type:Date,autoValue:function(){return this.isSet?void 0:moment().add(1,"minutes").toDate()}}},!1,!0)}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;_.each({ImageFiles:"images",PDF:"pdfs",Icon:"icons",GlobalVideo:"globalVideos"},function(e){return function(o,t){return e[t]=new FS.Collection(o,{stores:[new FS.Store.FileSystem(o,{})]})}}(this)),this.NewsImg=new FS.Collection("newsImg",{stores:[new FS.Store.FileSystem("newsImg",{}),new FS.Store.FileSystem("thumb",{})]})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;this._=lodash}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;Template.newsItemGalleryItem.helpers({moreThanOneSlide:function(e){var t;return t=e||this.gallery,t.items.length>1?!0:!1}}),t=function(e,t){var i,l,a,r;return r=Template.instance().$(e),i=r.filter(".active"),l=i.index()-1+2*+!t,l>=0&&(a=r.eq(l)),(null!=a?a.size():void 0)||(a=r[t?"last":"first"]()),i.removeClass("active"),a.addClass("active")},Template.newsItemGalleryItem.events({"click .t-p-p":_.partial(t,".ni-slide",!0),"click .t-p-n":_.partial(t,".ni-slide",!1)}),Template.newsItemGalleryItem.events({"click .t-e-n":_.partial(t,".ni-slide",!1),"click .t-e-p":_.partial(t,".ni-slide",!0)})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;Template.purDatePicker.helpers({month:function(){return _.map(moment.localeData()._monthsShort,function(e,t){return{name:e,num:t+1}})},activeMonth:function(){return Session.equals("pur.month-"+Template.instance().type,this.$num)},getYear:function(){return Session.get("pur.year-"+Template.instance().type)}}),t=function(e){var t,n;return t=Template.instance().type,n=parseInt(Session.get("pur.year-"+t)),Session.set("pur.year-"+t,n+e)},Template.purDatePicker.events({"click .t-prev-year":_.partial(t,-1),"click .t-next-year":_.partial(t,1),"click .t-month":function(e,t){return Session.set("pur.month-"+t.type,this.$num)}}),Template.purDatePicker.onCreated(function(){return this.type=this.data.type,Session.set("pur.year-"+this.type,moment().format("YYYY"))})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.coachItemInside.helpers({getDomain:function(e){var t;return t=/http[s]{0,1}:\/\/([\w\.]+)\//i,e.match(t)[1]},getImage:function(){var e,t,a,c;return(null!=(e=this.data)&&null!=(t=e.coach)?t.bigImage:void 0)||(null!=(a=this.data)&&null!=(c=a.coach)?c.image:void 0)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.aboutKMBSPrograms.helpers({programsLbl:function(){var e;return e={en:function(e){return"program"+(1!==e?"s":"")},ua:function(e){return["програми","програма","програм"][getSlavicForm(e)]}},e[TAPi18n.getLanguage()](this.count)}}),Template.aboutKMBSPrograms.events({"mouseenter .t-vid":function(e,t){var r;return null!=(r=t.find(".c-mba-bg-video"))?r.play():void 0},"mouseleave .t-vid":function(e,t){var r;return null!=(r=t.find(".c-mba-bg-video"))?r.pause():void 0},"mouseenter .t-scl":function(e,t){return t.$(e.currentTarget).find(".t-img").velocity("stop").velocity({scale:1.08},{duration:500,easing:"linear"})},"mouseleave .t-scl":function(e,t){return t.$(e.currentTarget).find(".t-img").velocity("stop").velocity({scale:1},{duration:500,easing:"linear"})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n;Template.alumniEvents.onCreated(function(){return TAPi18n.subscribe("events",{query:{startDate:{$gte:moment().day(1).hour(0).toDate(),$lte:moment().day(14).hour(0).toDate()}},fields:{name:1,type:1,desc:1,startDate:1}})}),Template.alumniEventsItem.onRendered(function(){return Tracker.afterFlush(function(e){return function(){return e.$(".me-info").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:255,tolerance:5})}}(this))}),t=function(){return Event.find({type:{$exists:!0},startDate:{$gte:moment().day(1).hour(0).toDate(),$lte:moment().day(14).hour(0).toDate()}},{sort:{startDate:1}})},Template.alumniEvents.helpers({eventsWidth:function(){return"width: "+32*t().count()+"rem;"},events:function(){return t()}}),n=function(e){var t;return null!=(t=EventType.findOne({_id:this.type}))?t[e]:void 0},Template.alumniEventsItem.helpers({getEventTypeProp:n,getEventTypeImageFiles:_.partial(n,"image"),dateVerbal:function(){var e;return e=moment(this.startDate),e.isSame(moment(),"day")?TAPi18n.__("today"):e.format("dd")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.corProgramContacts.events({"click .t-cts-modal":function(t,e){return new Modal({name:"mdTeammate",data:{coach:this.data.own,label:this.data.own.spec||this.data.own.occupation}})},"click .cp-to-form-btn":function(t,e){return dataLayer&&dataLayer.push({event:"registration_form_start"}),!0}}),Template.corProgramContacts.helpers({hasDesc:function(){var t,e,a;return t=null!=(e=this.data)&&null!=(a=e.own)?a.desc:void 0,t&&(_.isString(t)||_.isObject(t)&&t[Router.getLanguage()])?!0:void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,e;e=300,Template.corProgramFormats.helpers({paneWidth:function(){var r;return null==(null!=(r=this.program)?r.formats:void 0)?"":"width: "+this.program.formats.length*e+"px;"}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r,o,i,n;e=490,r=601,o=500,n=function(){var t;return t=window.innerWidth,this.cardWidth.set(1600>t?e:r),this.cardsOnPage=Math.floor($(window).width()/this.cardWidth.get())-1},Template.corProgramProjects.onCreated(function(){return this.cardWidth=new ReactiveVar(null),this.cardsOnPage=0,this.position=new ReactiveVar(0)}),Template.corProgramProjects.onRendered(function(){return this._setCardWidth=_.bind(n,this),this._setCardWidth(),$(window).on("resize.cp-fromats",this._setCardWidth),this.$container=this.$(".cp-projects-list"),this.autorun(function(t){return function(){return Template.currentData(),Meteor.setTimeout(function(){return t.$items=t.$(".cp-project")})}}(this)),this.autorun(function(t){return function(){var e,r;return e=t.position.get(),(null!=(r=t.$items)?r.size():void 0)||(t.$items=t.$(".cp-project")),t.$items.eq(e).velocity("stop").velocity("scroll",{axis:"x",duration:o,easing:"linear",container:t.$container})}}(this))}),Template.corProgramProjects.onDestroyed(function(){return $(window).off("resize.cp-fromats",this._setCardWidth)}),Template.corProgramProjects.helpers({paneWidth:function(){var t;return null==(null!=(t=this.program)?t.projects:void 0)?"":"width: "+this.program.projects.length*Template.instance().cardWidth.get()+"px;"},coach:function(t){var e,r;return r=Coach.find({_id:t}),r.count()?(e=r.fetch(),""+e[0].firstName+" "+e[0].lastName):""}}),i=function(t){var e,r,o;return o=t.position.get(),e=t.direction,r=e?o<t.$items.size()-t.cardsOnPage-1:o>0,r?t.position.set(o+(e?1:-1)):(Meteor.clearInterval(t.automoveInterval),t.automoveInterval=null)},Template.corProgramProjects.events({"click .t-p-p":function(t,e){var r;return r=e.position.get(),r>0?e.position.set(--r):void 0},"click .t-p-n":function(t,e){var r;return r=e.position.get(),r<e.$items.size()-e.cardsOnPage-1?e.position.set(++r):void 0},"mousemove .cp-projects-list":_.throttle(function(t,e){return e.direction=t.pageX>$(window).width()/2},200),"mouseenter .cp-projects-list":function(t,e){var r;return t.stopPropagation(),e.automoveInterval?void 0:(e.direction=t.pageX>$(window).width()/2,r=_.bind(i,this,e),r(),e.automoveInterval=Meteor.setInterval(r,o))},"mouseleave .cp-projects-list":function(t,e){return t.stopPropagation(),Meteor.clearInterval(e.automoveInterval),e.automoveInterval=null}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.eventItemDetails.helpers({isOld:function(){var e,t;return t=moment().startOf("day"),e=moment(this.event.startDate),t.diff(e)>0?!0:!1},getAudience:function(){var e,t;return e={_id:null!=(t=this.event)?t.audience:void 0},Audience.findOne(e)},getAudiencesMinor:function(){var e,t;return e={_id:{$in:(null!=(t=this.event)?t.audiencesMinor:void 0)||[]}},Audience.find(e)},cEnd:function(e){var t,n;return t=[2,0,1,1,1,2],n=0,n=e%100>4&&20>e%100?2:t[Math.min(e%10,5)],TAPi18n.__("ev.cEnd"+n)}}),Template.eventItemDetails.events({"click .ev-address-map span":function(e,t){return Session.set("initEventMap",!0),Session.set("showEventMap",!0),Tracker.afterFlush(function(){var e,t,n,i,r,o;return e=$(".ev-map-container"),i=0|(null!=(o=e.offset())?o.top:void 0),n=e.height(),r=$(window).height(),t=(r-n)/2,0>t&&(t=0),$("body").velocity("scroll",{duration:500,offset:i-t})})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.eventItemInfo.onRendered(function(){return Tracker.afterFlush(function(e){return function(){return e.$(".ev-coach-idesc").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,tolerance:5})}}(this))}),Template.eventItemInfo.helpers({getType:function(){var e;return EventType.findOne({_id:null!=(e=this.event)?e.type:void 0})},getCoaches:function(){var e,t;return(null!=(e=this.event)?e.coach:void 0)?Coach.find({_id:{$in:(null!=(t=this.event)?t.coach:void 0)||[]}}):void 0},hasCoachesOrSpeakers:function(){var e,t,n,r;return(null!=(e=this.event)&&null!=(t=e.speakers)?t.length:void 0)||(null!=(n=this.event)&&null!=(r=n.coach)?r.length:void 0)?!0:!1}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.eventItemPagination.helpers({getAdjacents:function(){var e,t,r,n,s,h,p,a,o,u;for(n=Router.current().params._id+"",h=Router.getLanguage(),a=[],t=Event.find({type:null!=(o=this.event)?o.type:void 0},{sort:{startDate:1}}).fetch(),r=t.length;r--;)e=t[r],(e._id+""===n||(null!=(u=e.seoHrl)?u[h]:void 0)===n)&&(s=r);return p=t.length-1,0===s?(t[p]&&a.push(t[p]),t[s+1]&&a.push(t[s+1])):s===p?(t[s-1]&&a.push(t[s-1]),t[0]&&a.push(t[0])):(t[s-1]&&a.push(t[s-1]),t[s+1]&&a.push(t[s+1])),1===a.length&&a.push(t[0]),a}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,r;r=null,this._showPageLoader=function(){return null!=r?r.css({display:"block",opacity:1}):void 0},this._hidePageLoader=function(){return r?Tracker.afterFlush(function(){return null!=r?r.velocity("finish").velocity("fadeOut",{duration:200}):void 0}):Meteor.setTimeout(_hidePageLoader,100)},Template.preloader.onRendered(function(){return r=$(this.find(".c-preloader"))})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.mbaProgramContacts.helpers({formCbData:function(){return{trigger:".t-open-mba-cont-form",offsetEl:".mba-cts-wrap",animation:"fade",source:this.program.name,teammateId:this.program.stuff.teammateId}},getContact:function(){var t,e;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,e},getContactField:function(t,e){var a,n,i;return this.coach?(a={_id:this.coach},n=Teammate.findOne(a)):n=this.own,i=(null!=n?n[t]:void 0)||(null!=n?n[e]:void 0),(null!=i?i.length:void 0)?i:!1},hasPhones:function(){var t,e,a,n;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,_.isArray(null!=e?e.phones:void 0)&&(null!=e&&null!=(a=e.phones)?a.length:void 0)?!0:_.isArray(null!=e?e.phone:void 0)&&(null!=e&&null!=(n=e.phone)?n.length:void 0)?!0:!1},hasEmail:function(){var t,e;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,null!=e?e.email:void 0},isTeammate:function(){var t;return this._id?(t={_id:this._id},Teammate.findOne(t)):!1}}),Template.mbaProgramContacts.events({"click .pur-cts-fake":function(t,e){return new Modal({name:"mdTeammate",data:{coach:this,label:this.spec||this.occupation}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.mbaProgramEntrance.helpers({getMbaType:function(){return"mba-"+Router.current().params.link}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=1200,Template.mbaProgramEvents.onRendered(function(){return Tracker.afterFlush(function(e){return function(){return e.$(".mba-ev-sdsc").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:160})}}(this))}),Template.mbaProgramEvents.helpers({paneWidth:function(){var e;return"width: "+((null!=(e=this.program.events)?e.length:void 0)||0)*t+"px;"},events:function(){var e;return(null!=(e=this.program.events)?e.length:void 0)?Event.find({_id:{$in:this.program.events}}):[]},getTypeLbl:function(){var e;return null!=(e=EventType.findOne({_id:this.type}))?e.name:void 0},getTypeColor:function(){var e;return(null!=(e=EventType.findOne({_id:this.type}))?e.color:void 0)||"#eb5a54"},getDate:function(){return moment(this.startDate).format("DD MMMM")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.mbaProgramFacilities.helpers({getClassSize:function(){var e,r,o,t;return(null!=(e=this.program)&&null!=(r=e.opportunityBlocks)?r.length:void 0)<5?"-mikro":(null!=(o=this.program)&&null!=(t=o.opportunityBlocks)?t.length:void 0)<7?"-small":void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,o,t,r,n;t=327,o=400,r=new ReactiveVar(null),n=function(){var e;return e=window.innerWidth,r.set(1280>e?t:o)},Template.mbaProgramFormats.helpers({modalBlock:function(){return Template.instance().modalBlock.get()},videoBlock:function(){return Template.instance().videoBlock.get()},paneWidth:function(){var e;return(null!=(e=this.program)?e.formatBlocks:void 0)?"width: "+this.program.formatBlocks.length*r.get()+"px;":void 0}}),Template.mbaProgramFormats.events({"click .t-open-modal":function(e,o){return $("body").velocity("scroll",{duration:200,offset:$(".mba-formats").offset().top,complete:function(e){return function(){return o.modalBlock.set({opened:!0,name:e.name,desc:e.desc,image:e.image,video:e.videos})}}(this)})},"click .t-close-modal":function(e,o){var t;return t=o.modalBlock.get(),t.opened=!1,o.modalBlock.set(t)},"click .t-open-vimodal":function(e,o){var t,r;return t=o.modalBlock.get(),r=$isYoutube(t.video[0]),o.videoBlock.set({opened:!0,tpl:r?"viYoutube":"viVimeo",url:r?"//www.youtube.com/embed/"+t.video[0]:"//player.vimeo.com/video/"+t.video[0]+"?badge=0&byline=0&loop=0&title=0"})},"click .t-close-vimodal":function(e,o){var t;return t=o.videoBlock.get(),t.opened=!1,o.videoBlock.set(t)}}),Template.mbaProgramFormats.onRendered(function(){return n(),$(window).on("resize.mba-formats",n)}),Template.mbaProgramFormats.onCreated(function(){return this.modalBlock=new ReactiveVar(null),this.videoBlock=new ReactiveVar(null)}),Template.mbaProgramFormats.onDestroyed(function(){return $(window).off("resize.mba-formats",n)})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,n;t={duration:500,easing:"linear"},r=function(e){return e.originalEvent.wheelDelta||-e.originalEvent.deltaY},n=function(){var e,n,o,a,i,m;return e=$(".mba-intro-desc"),n=$(".mba-name-wrap"),o=!1,a=null,m=!0,i=!1,e.hide(),n.show(),$("body").off("mousewheel.mba-program"),$("body").on("mousewheel.mba-program",function(c,u){var f,l;return l=r(c),f=window.scrollY||$(window).scrollTop(),0!==f?!0:(i===!1&&0>l&&(Meteor.clearTimeout(a),o=!1,n.velocity("finish").velocity({marginTop:-n.outerHeight(),opacity:0},_.extend(_.clone(t),{complete:function(){return m=!1}})),e.velocity("finish").velocity("slideDown",_.extend(_.clone(t),{begin:function(){return i=!0},complete:function(){return a=Meteor.setTimeout(function(){return o=!0},100)}}))),o?0===f&&l>=0&&m===!1?(o=!1,n.velocity("finish").velocity({marginTop:0,opacity:1},_.extend(_.clone(t),{begin:function(){return m=!0}})),e.velocity("finish").velocity("slideUp",_.extend(_.clone(t),{complete:function(){return i=!1}}))):void 0:c.preventDefault())})},Template.mbaProgramIntro.helpers({formCallbackData:function(){return{trigger:".t-open-fm-cb",offsetEl:".mba-actions",source:this.program.name,teammateId:this.program.stuff.teammateId,type:"mba"}},formMeetData:function(){return{trigger:".t-open-fm-meet",offsetEl:".mba-actions",source:this.program.name,teammateId:this.program.stuff.directorId,type:"mba"}},getMbaType:function(){return"mba-"+Router.current().params.link}}),Template.mbaProgramIntro.onDestroyed(function(){return $("body").off("mousewheel.mba-program")}),Template.mbaProgramIntro.onRendered(function(){return this.renderedVideo=null,this.autorun(function(e){return function(){return Router.current(),n(),e.renderedVideo&&Blaze.remove(e.renderedVideo),e.renderedVideo=Blaze.renderWithData(Template.mbaProgramIntroVideoBg,{videoName:e.data.program.videoName},e.find(".mba-name-bg"))}}(this))}),Template.mbaProgramIntro.events({"click .t-open-fm-cb":function(e,t){return dataLayer&&dataLayer.push({event:"call_me_start_mba"}),!0},"click .t-open-fm-meet":function(e,t){return dataLayer&&dataLayer.push({event:"meeting_with_head_program_start_mba"}),!0},"click .mba-to-form":function(e,t){return dataLayer&&dataLayer.push({event:"application_form_start_mba"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.mbaProgramNews.helpers({news:function(){var e,t,r;return e=NewsKmbs.find({_id:{$in:(null!=(t=this.program.newsCommon)?t.length:void 0)?this.program.newsCommon:[]}},{sort:{date:-1}}).fetch(),e.push(null!=(r=NewsKmbs.find({_id:this.program.newsVideo}).fetch())?r[0]:void 0),_.compact(e)},getNewsBlockTitle:function(){var e;return e=!1,_.isString(this.program.newsBlockTitle)&&this.program.newsBlockTitle.length&&(e=this.program.newsBlockTitle),e||TAPi18n.__("mba.news")}}),Template.mbaProgramNewsVideo.onCreated(function(){return this.bgUrl=new ReactiveVar(null)}),Template.mbaProgramNewsVideo.onRendered(function(){return this.autorun(function(e){return function(){var t,r,n,o;return n=Template.currentData().video,n?/^[0-9]+$/.test(n)?(r="http://vimeo.com/api/v2/video/"+n+".json",HTTP.get(r,function(t,r){var n,o;return t||!r.content?void console.error(t||"vimeo api no preview"):e.bgUrl.set(null!=(n=JSON.parse(r.content))&&null!=(o=n[0])?o.thumbnail_large:void 0)})):e.bgUrl.set("http://img.youtube.com/vi/"+n+"/hqdefault.jpg"):(t=Template.currentData().image)?e.bgUrl.set(null!=(o=ImageFiles.findOne({_id:t}))?o.url():void 0):void 0}}(this))}),Template.mbaProgramNewsVideo.helpers({getImageUrl:function(){return Template.instance().bgUrl.get()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.mbaProgramRquirements.helpers({getMbaType:function(){return"mba-"+Router.current().params.link}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,a;a=new ReactiveVar(null),t=300,r=function(){var e,t,r;return e=a.get(),e?(e.opened=!1,a.set(e),t=Template.instance(),r=t.$(".mba-ste-wrap"),r.height("auto")):void 0},Template.mbaProgramStructure.onCreated(function(){return r()}),Template.mbaProgramStructure.helpers({paneWidth:function(){return"width: "+this.program.structureBlocks.length*t+"px;"},modalBlock:function(){return a.get()},isNav:function(){return!0}}),Template.mbaProgramStructure.events({"click .mba-ste-item-hovered":function(e,t){return dataLayer&&dataLayer.push({event:"details_structure_program_mba"}),$("body").velocity("scroll",{duration:200,offset:$(".mba-ste-wrap").offset().top,complete:function(e){return function(){return a.set(_.extend({opened:!0},{$num:e.$num,name:e.name,label:e.label,courses:e.courses,isText:e.isText})),Tracker.afterFlush(function(){var e,r,a,n,o,u;return u=t.$(".mba-ste-wrap"),a=u.find(".mba-ste-modal"),o=a.find(".mba-ste-title"),n=a.find(".mba-ste-modules"),e=a.find(".mba-ste-card"),r=o.outerHeight()+n.outerHeight(!0)+e.outerHeight(!0),a.height(r),u.height(r)})}}(this)})},"click .t-close-modal":r})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n;t=3,n=function(){var e,n,i,r,o,a;for(a=Template.instance(),i=$(".ni-info").height(),r=a.$(".ni-news-t").outerHeight(),e=a.$(".ni-news-card").outerHeight(),o=r+e,n=1;t>n&&!(o+e>i);)o+=e,n++;return a.limit.set(n)},Template.newsAlumniItemNews.onCreated(function(){return this.limit=new ReactiveVar(t)}),Template.newsAlumniItemNews.onRendered(function(){return n(),$(window).on("resize.ni-wrap",n)}),Template.newsAlumniItemNews.helpers({otherNews:function(){var e,t,n,i,r;return i=Template.instance(),t=null!=(r=i.limit)?r.get():void 0,e=Router.current().params._id,n={_id:{$ne:e}},n["seoHrl."+Router.getLanguage()]={$ne:e},NewsAlumni.find(n,{limit:t,sort:{date:-1}}).fetch()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsAlumniItemPagination.helpers({getAdjacents:function(){var e,t,r,n,s,u,a,o,c;for(n=Router.current().params._id+"",u=Router.getLanguage(),o=[],t=NewsAlumni.find({},{sort:{date:1}}).fetch(),r=t.length;r--;)e=t[r],(e._id+""===n||(null!=(c=e.seoHrl)?c[u]:void 0)===n)&&(s=r);return a=t.length-1,0===s?(t[a]&&o.push(t[a]),t[s+1]&&o.push(t[s+1])):s===a?(t[s-1]&&o.push(t[s-1]),t[0]&&o.push(t[0])):(t[s-1]&&o.push(t[s-1]),t[s+1]&&o.push(t[s+1])),o}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsItemCover.helpers({hasImageOrVideo:function(){return this.news.coverImage||this.news.video},shouldAutoplay:function(){var e;return 0===(null!=(e=this.news)?e.index:void 0)?"&autoplay=1":void 0},className:function(){var e;return(null!=(e=this.news)?e.className:void 0)||"ms-mw-ifrm"}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(){var e,t,r,n,a,i,l,f,o;for(r=this.$(".t-gallery-item"),n=r.length,o=[];n--;)a=r[n],e=$(a),e.empty(),i=e.data("id"),t={gallery:_.find(null!=(l=this.data)&&null!=(f=l.news)?f.gallery:void 0,"id",i)},o.push(Blaze.renderWithData(Template.newsItemGalleryItem,t,a));return o},Template.newsItemGallery.onRendered(function(){return this.autorun(function(e){return function(){return _.bind(t,e)()}}(this))})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsItemHeader.helpers({getSubject:function(){var e,t;return e={typeId:null!=(t=this.news)?t.subject:void 0},NewsSubject.findOne(e)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n;t=3,n=function(){var e,n,r,i,o,a;for(a=Template.instance(),r=$(".ni-info").height(),i=a.$(".ni-news-t").outerHeight(),e=a.$(".ni-news-card").outerHeight(),o=i+e,n=1;t>n&&!(o+e>r);)o+=e,n++;return a.limit.set(n)},Template.newsItemNews.onCreated(function(){return this.limit=new ReactiveVar(t)}),Template.newsItemNews.onRendered(function(){return n(),$(window).on("resize.ni-wrap",n)}),Template.newsItemNews.helpers({otherNews:function(){var e,t,n,r,i;return r=Template.instance(),t=null!=(i=r.limit)?i.get():void 0,e=Router.current().params._id,n={_id:{$ne:e}},n["seoHrl."+Router.getLanguage()]={$ne:e},NewsKmbs.find(n,{limit:t,sort:{date:-1}}).fetch()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsItemPagination.helpers({getAdjacents:function(){var e,t,r,s,h,n,a,o,p;for(s=Router.current().params._id+"",n=Router.getLanguage(),o=[],t=NewsKmbs.find({},{sort:{date:1}}).fetch(),r=t.length;r--;)e=t[r],(e._id+""===s||(null!=(p=e.seoHrl)?p[n]:void 0)===s)&&(h=r);return a=t.length-1,0===h?(t[a]&&o.push(t[a]),t[h+1]&&o.push(t[h+1])):h===a?(t[h-1]&&o.push(t[h-1]),t[0]&&o.push(t[0])):(t[h-1]&&o.push(t[h-1]),t[h+1]&&o.push(t[h+1])),1===o.length&&o.push(t[0]),o}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsItemShare.helpers({shareData:function(){return{title:this.news.seoTitle||this.news.name,description:this.news.shareDescription||this.news.shortDesc,thumbnail:function(e){return function(){return thumbnail(e.news.shareImage||e.news.coverImage||e.news.image,e.news.shareImage||e.news.coverImage?"ImageFiles":"NewsImg")}}(this)}}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,i,r,o,s,u,c,a,l,f,d,p,h;n=["directions","coaches","audiences","regions"],t=[Direction,Coach,Audience,Region],i=n.length,r="pur",l="yaG7KHzqedn6cBLQ2",c=function(e){return e.indexOf("pur")>-1?e:""+r+"."+e},s=function(e){var t,n;return n=Session.get(""+c(e)),t=_.find(n,{_id:this._id}),t?"active":""},a=function(e,t){var n,i;return null==t&&(t=null),(i=Session.get("pur.counters"))?(n=_.find(i[e],{_id:this._id||t}),n?n.count:void 0):void 0},o=function(e){var t,n,i;return i=$(e.currentTarget).data("type"),t=Session.get(""+c(i)),n=_.findIndex(t,{_id:this._id}),-1!==n?!1:(t.push({_id:this._id,name:this.name||""+this.firstName+" "+this.lastName}),Session.set(""+c(i),t),h())},p=function(e){var t,n,i;return i=$(e.currentTarget).data("type"),t=Session.get(i),n=_.findIndex(t,{_id:this._id}),-1===n?!1:(t.splice(n,1),Session.set(""+c(i),t),h())},h=function(){var e,t,r,o,s,u;for(o={},t=!0,r=0;i>r;)s=n[r],e=Session.get(""+c(s)),(null!=e?e.length:void 0)&&(t?(o.query="",t=!1):o.query+="&",u=_.pluck(e,"name"),u=u.join(","),u=""+s+"="+u,o.query+=u),r++;return Session.set("purListScrollY",window.scrollY),Router.go("purList",{},o)},d=function(){return Session.set("pur.month-from",!1),Session.set("pur.month-to",!1)},f=function(){return _.each(n,function(e){return Session.set(""+c(e),[])}),d(),h()},u=function(){var e,t,n,i;return t=Session.get("pur.year-from"),e=Session.get("pur.month-from"),i=Session.get("pur.year-to"),n=Session.get("pur.month-to"),t&&e&&i&&n},Template.purListLeftSide.helpers({audiences:function(){return Audience.find({directionPUR:!0},{sort:{position:1}})},regions:function(){var e,t,n,i;return t={_id:l,directionPUR:!0},e=Region.find(t).fetch(),(null!=e?e.length:void 0)||(e=[]),i={_id:{$ne:l},directionPUR:!0},n=Region.find(i,{sort:{name:1}}).fetch(),_(e).concat(n).value()},coaches:function(){var e;return e={directionPUR:!0,directionPURFilter:!0},_.sortBy(Coach.find(e).fetch(),function(e){return _.startsWith(e.lastName,"Є")?e.lastName.replace("Є","Е"):e.lastName})},directions:function(){return Direction.find({},{sort:{position:-1}})},existFilterType:function(e){return Session.get(""+c(e)).length},existDateFilter:u,getProgramCounter:a,coachHasPrograms:function(){var e,t;return(t=Session.get("pur.counters"))?e=_.find(t.coaches,{_id:this._id}):void 0},showFilter:function(){var e;return e=_.find(n,function(e){var t;return null!=(t=Session.get(""+c(e)))?t.length:void 0}),u()||e?"":"hidden"},getMonthLbl:function(e,t){return null==t&&(t="MMMM"),moment().month(+Session.get(e)-1).format(t)},findCoach:function(){var e,t,n,i;return(e=Session.get("pur.findCoach"))?(e=e.toLowerCase().split(" "),t=this.firstName.toLowerCase(),n=this.lastName.toLowerCase(),i=_.find(e,function(e){return t.indexOf(e)>-1||n.indexOf(e)>-1}),i?void 0:"hidden"):""}}),Template.purListLeftSide.events({"click .t-fltr":o,"click .t-fltr-rm":p,"click .t-fltr-rm-date":d,"click .t-fltr-clear":f,"keyup .pus-coach-search":_.throttle(function(e){return Session.set("pur.findCoach",e.currentTarget.value)},200,{leading:!1}),"click .t-show-dp":function(e){var t;return t=$(e.currentTarget).data("href"),$("#"+t).is(":visible")?!1:$(".pus-date-picker").velocity("slideUp",{duration:200,easing:"ease-in",complete:_.once(function(){return $("#"+t).velocity("slideDown",{duration:200,easing:"ease-in"})})})},"click .pus-fltr-topper":function(e,t){var n,i,r,o,s,u;return i=$(e.currentTarget),o=i.parents(".pus-fltr-block"),r=i.siblings(".pus-fltr-content"),n=t.$(".pus-fltr-scroll"),u=function(){return r.find(".pus-fltr-scroll").length?(s(),n.mCustomScrollbar({theme:"minimal-dark"})):void 0},s=function(){return n.mCustomScrollbar("destroy")},o.hasClass("active")?(o.removeClass("active"),r.velocity("slideUp",{duration:300,easing:"ease-in",complete:s})):(dataLayer&&dataLayer.push({event:"filter_click"}),$(".pus-fltr-block").hasClass("active")?($(".pus-fltr-block").removeClass("active"),$(".pus-fltr-content").velocity("slideUp",{duration:300,easing:"ease-in",complete:_.once(function(){return s(),r.velocity("slideDown",{duration:300,easing:"ease-in",complete:function(){return u(r)}})})})):r.velocity("slideDown",{duration:300,easing:"ease-in",complete:function(){return u(r)}}),o.addClass("active"))}}),Template.purListLeftSide.onCreated(function(){var e;return e=_.after(4,_.once(function(e){return function(){return e.autorun(function(){var e,r,o,s,u,a,l,f,d,p,h,g,m,v,S;for(_hidePageLoader(),s=0,S=[];i>s;){if(v=n[s],h=[],l=Router.current().params.query[""+v])for(u=Tracker.nonreactive(function(){return Session.get(""+c(v))}),l=l.split(","),f=l.length,d=0;f>d;)a=l[d],(o=_.find(u,{name:a}))?h.push(o):(g={},"coaches"===v?(p=a.split(" "),g["firstName."+TAPi18n.getLanguage()]=p[0],g["lastName."+TAPi18n.getLanguage()]=p[1]):g["name."+TAPi18n.getLanguage()]=a,e=t[s],r=e.findOne(g),r&&(m={_id:r._id},m.name="coaches"===v?""+r.firstName+" "+r.lastName:r.name,h.push(m))),d++;Session.set(""+c(v),h),S.push(s++)}return S})}}(this))),Meteor.call("purCounters",function(e,t){return Session.set("pur.counters",t)}),TAPi18n.subscribe("purCoaches",e),TAPi18n.subscribe("purDirections",e),TAPi18n.subscribe("purRegions",e),TAPi18n.subscribe("purAudiences",{fields:{position:1,directionPUR:1,name:1}},e)}),Template.purListLeftSideFilteredBlock.helpers({existFilterType:function(e){var t;return null!=(t=Session.get(e))?t.length:void 0}}),Template.purListLeftSideFilterBlock.helpers({checkActive:s,getProgramCounter:function(e){return e?(e=e.slice(e.indexOf(""+r+".")+(""+r+".").length),a(e,this._id)):0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,r,o;t=["directions","coaches","regions","audiences"],o=function(e,t){var n;return n={},e=function(){switch(e){case"regions":return"region";case"audiences":return"audienceType"}}(),n[e]={$in:t},n},n=function(e){var t,n,r,o,i,a,s;return o=Session.get("pur.year-from"),r=Session.get("pur.month-from"),s=Session.get("pur.year-to"),a=Session.get("pur.month-to"),o&&r&&s&&a?(i=new Date(moment([+o,+r-1]).toDate()),n=new Date(moment([+s,+a-1]).endOf("month").toDate()),t={$gte:new Date(i)<new Date(n)?i:n,$lte:new Date(i)>new Date(n)?i:n},e.$or?e.$or.push({startDate:t}):e.startDate=t):void 0},r=function(e){var t;return t=_.pluck(Session.get("pur.directions"),"_id"),Direction.findOne(t.length&&-1===t.indexOf(e)?{_id:t[0]}:{_id:e})},Template.purListRightSide.helpers({calendar:function(){var e;return(null!=(e=ProgramCalendar.find({}).fetch())?e[0]:void 0)||!1},programs:function(){var e,r;return e={},_.each(t,function(t){var n,r;return n=_.pluck(Session.get("pur."+t),"_id"),n.length?(e.$or||(e.$or=[]),"coaches"===t?(r={"mainAuthors.coach":{$in:n}},e.$or.push(r),r={"experts.coach":{$in:n}},e.$or.push(r)):"directions"===t?(r={direction:{$in:n}},e.$or.push(r),r={auxDirections:{$in:n}},e.$or.push(r)):e.$or.push(o(t,n))):void 0}),n(e),r=Program.find(e,{sort:{startDate:1}}).fetch(),_.map(r,function(e,t){var n,o;return 0===t&&(e.$showMonth=!0),t>0&&t<r.length-1?(o=moment(r[t-1].startDate).format("MM"),n=moment(e.startDate).format("MM"),o===n?e:(e.$showMonth=!0,e)):e})},newMonth:function(){return this.$showMonth&&this.$index?!0:!1},directionLbl:function(){var e;return e=r(this.direction),(null!=e?e.name:void 0)||""},directionColor:function(){var e;return e=r(this.direction),(null!=e?e.color:void 0)||"#7988f7"}}),Template.purListRightSide.onCreated(function(){return TAPi18n.subscribe("purCalendar"),TAPi18n.subscribe("pur")}),Template.purListRightSide.events({"click .pus-topper-link":function(e,t){return dataLayer&&dataLayer.push({event:"gaEvent",eventCategory:"download",eventAction:"calendar"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.purProgramActions.helpers({callbackFormData:function(){return{trigger:".t-opn-pur-cb",offsetEl:".pur-actions",source:this.program.name,teammateId:this.program.stuff.teammateId,type:"pur"}},meetFormData:function(){return{trigger:".t-opn-pur-meet",offsetEl:".pur-actions",source:this.program.name,teammateId:this.program.stuff.directorId,type:"pur"}},getActionPath:function(){return this.program.masterClass?"eventItem":"eventList"},getProgramHrlOrId:function(){return this.program.seoHrl||this.program._id}}),Template.purProgramActions.events({"click .t-opn-pur-cb":function(t,r){return dataLayer&&dataLayer.push({event:"call_me_start_pur"}),!0},"click .pur-meeting":function(t,r){return dataLayer&&dataLayer.push({event:"meeting_with_head_program_start_pur"}),!0},"click .pur-to-form":function(t,r){return dataLayer&&dataLayer.push({event:"application_form_start_pur"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.purProgramAudience.helpers({getDirectionColor:function(){var e,r,o;return e=Direction.findOne({_id:null!=(r=Template.parentData(1))&&null!=(o=r.program)?o.direction:void 0}),null!=e?e.color:void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,t,e,a,o,n;a=function(r){var t,e,a,o,n,i;if(o=null!=(i=this.program)?i[r+"s"]:void 0,!_.isArray(o))return[];for(n={_id:{$in:[]}},a=o.length;a--;)t=o[a],t.coach&&n._id.$in.push(t.coach);return e=Coach.find(n).fetch(),_.sortBy(e,function(r){for(a=o.length;a--;)if(t=o[a],t.coach===r._id)return a})},t=function(r,t){var e,a,o,n,i;return e=Template.parentData(3)||Template.parentData(2)||this,o=_.find(null!=e&&null!=(n=e.program)?n.mainAuthors:void 0,{coach:null!=r?r._id:void 0}),(null!=o?o[t]:void 0)?o[t]:(a=_.find(null!=e&&null!=(i=e.program)?i.experts:void 0,{coach:null!=r?r._id:void 0}),(null!=a?a[t]:void 0)&&_.isString(a[t])?a[t]:void 0)},o=function(){var r,t,e;return r=Template.parentData(3)||Template.parentData(2),t=Direction.findOne({_id:null!=r&&null!=(e=r.program)?e.direction:void 0}),null!=t?t.color:void 0},e=function(){var r,t;return(null!=(r=this.coach)?r.bigImage:void 0)||(null!=(t=this.coach)?t.image:void 0)},n={getCoachField:t,getDirectionColor:o,getCoachImage:e},Template.purProgramCoaches.helpers({hasOneCoachAndOneAuthor:function(){var r,t;return _.isArray(null!=(r=this.program)?r.experts:void 0)&&_.isArray(null!=(t=this.program)?t.mainAuthors:void 0)?1===this.program.experts.length&&1===this.program.mainAuthors.length:!1},hasOneAuthor:function(){var r;return _.isArray(null!=(r=this.program)?r.mainAuthors:void 0)?1===this.program.mainAuthors.length:!1},hasTwoAuthors:function(){var r;return _.isArray(null!=(r=this.program)?r.mainAuthors:void 0)?2===this.program.mainAuthors.length:!1},hasThreeAuthors:function(){var r;return _.isArray(null!=(r=this.program)?r.mainAuthors:void 0)?3===this.program.mainAuthors.length:!1},hasCoaches:function(){var r;return _.isArray(null!=(r=this.program)?r.experts:void 0)?this.program.experts.length>0:!1},getCoaches:function(){return _.bind(a,this,"expert")()},getMainAuthors:function(){return _.bind(a,this,"mainAuthor")()}}),Template.purProgramAuthorItem.helpers(n),Template.purProgramCoachItem.helpers(n),Template.purProgramCoachSquare.helpers(n),Template.purProgramCoaches.events({"click .pur-coach-link":function(r,t){var e;return e=Router.current().params._id,Session.set("pur-"+e+"-scrollY",window.scrollY),dataLayer&&dataLayer.push({event:"learn_more_coach"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare;Template.purProgramContacts.helpers({getContact:function(){var t,e;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,e},getContactField:function(t,e){var n,a,i;return this.coach?(n={_id:this.coach},a=Teammate.findOne(n)):a=this.own,i=(null!=a?a[t]:void 0)||(null!=a?a[e]:void 0),(null!=i?i.length:void 0)?i:!1},getContactImage:function(t){var e,n,a;return this.coach?(e={_id:this.coach},n=Teammate.findOne(e)):n=this.own,null!=(a=ImageFiles.findOne({_id:null!=n?n.image:void 0}))?a.url():void 0},getContactSmallImage:function(t){var e,n,a;return this.coach?(e={_id:this.coach},n=Teammate.findOne(e)):n=this.own,null!=(a=ImageFiles.findOne({_id:null!=n?n.smallImage:void 0}))?a.url():void 0},answersQuestions:function(){var t,e;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,null!=e?e.answersQuestions:void 0},hasPhones:function(){var t,e,n,a;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,_.isArray(null!=e?e.phones:void 0)&&(null!=e&&null!=(n=e.phones)?n.length:void 0)?!0:_.isArray(null!=e?e.phone:void 0)&&(null!=e&&null!=(a=e.phone)?a.length:void 0)?!0:!1},hasEmail:function(){var t,e;return this.coach?(t={_id:this.coach},e=Teammate.findOne(t)):e=this.own,null!=e?e.email:void 0},isTeammate:function(){var t;return this._id?(t={_id:this._id},Teammate.findOne(t)):!1},callbackFormData:function(){return{animation:"fade",trigger:".t-opn-pur-cts",offsetEl:".pur-cts-form",source:this.program.name,teammateId:this.program.stuff.teammateId}}}),Template.purProgramContacts.events({"click .pur-cts-fake":function(t,e){return new Modal({name:"mdTeammate",data:{coach:this,label:this.spec||this.occupation}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;n=120,Template.purProgramEvents.helpers({recommend:function(){return _.sortByOrder(this.program.recommend,"startDate","desc")},paneWidth:function(){var r,e;return"width: "+(null!=(r=this.program)&&null!=(e=r.recommend)?e.length:void 0)*n+"rem;"},getImage:function(){var r,n;return r=Program.findOne({_id:this.toString()}),null!=(n=ImageFiles.findOne({_id:null!=r?r.image:void 0}))?n.url():void 0},getField:function(r){var n;return n=Program.findOne({_id:this.toString()}),null!=n?n[r]:void 0},getStartDate:function(){var r;return r=Program.findOne({_id:this.toString()}),moment(null!=r?r.startDate:void 0).format("D MMMM")},getDirectionName:function(){var r,n;return n=Program.findOne({_id:this.toString()}),r=Direction.findOne({_id:null!=n?n.direction:void 0}),null!=r?r.name:void 0},getDirectionColor:function(){var r,n;return n=Program.findOne({_id:this.toString()}),r=Direction.findOne({_id:null!=n?n.direction:void 0}),null!=r?r.color:void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.purProgramFacilities.helpers({getClassSize:function(){var e,i,t,r,l,n;return(null!=(e=this.program)&&null!=(i=e.benefits)&&null!=(t=i.items)?t.length:void 0)<5?"-mikro":(null!=(r=this.program)&&null!=(l=r.benefits)&&null!=(n=l.items)?n.length:void 0)<7?"-small":void 0},getDirectionColor:function(){var e,i,t;return e=Direction.findOne({_id:null!=(i=Template.parentData(1))&&null!=(t=i.program)?t.direction:void 0}),null!=e?e.color:void 0}}),Template.purProgramFacilities.events({"load .pur-fac-obj":function(e,i){var t,r,l,n,o;return o=e.currentTarget,r=$(o),l=$(o.contentDocument),n=r.data("color")||"#ffffff",l.find("path").css({fill:n}),l.find("polygon").css({fill:n}),l.find("rect").css({fill:n}),(t=l.find("img"))?r.css({width:t.width(),height:t.height()}):void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(e,t){var r,i,a,n;return n=Template.instance().$(e),r=n.filter(".active"),i=r.index()-1+2*+!t,i>=0&&(a=n.eq(i)),(null!=a?a.size():void 0)||(a=n.eq(t?n.size()-1:0)),r.removeClass("active"),a.addClass("active")},Template.purProgramInterviews.helpers({ownState:function(){return Template.instance().state.get()}}),Template.purProgramInterviews.events({"click .t-p-p":_.partial(t,".mi-itm",!0),"click .t-p-n":_.partial(t,".mi-itm",!1)}),Template.purProgramInterviews.onCreated(function(){return this.player=null,this.state=new ReactiveVar(null)}),Template.purInterviewsItem.helpers({isFirstItem:function(){return 0===this.index?"active":void 0},isClear:function(){return this.state?"-t":void 0}}),Template.purProgramInterviews.events({"click .mi-itm":function(e,t){var r,i,a,n,s;if(e.stopPropagation(),i=t.$(e.currentTarget),a=t.player,!a){if(a=null!=(s=i.find(".mi-img").get(0))?s.contentWindow:void 0,!a)return;t.player=a}return n=!t.state.get(),t.state.set(n),r=JSON.stringify({method:n?"play":"pause"}),a.postMessage(r,"*")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,r,u;u=new ReactiveVar(null),e=30,r=function(){var t,e,r;return t=u.get(),t?(t.opened=!1,u.set(t),e=Template.instance(),r=e.$(".pur-ste-wrap"),r.height("auto")):void 0},Template.purProgramStructure.onCreated(function(){return r()}),Template.purProgramStructure.onRendered(function(){return Tracker.afterFlush(function(t){return function(){return t.$(".pur-ste-content .pur-ste-name").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:140,tolerance:5}),t.$(".pur-ste-courses").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:185,tolerance:5})}}(this))}),Template.purProgramStructure.helpers({paneWidth:function(){var t,r;return"width: "+(null!=(t=this.program)&&null!=(r=t.structureBlocks)?r.length:void 0)*e+"rem;"},modalBlock:function(){return u.get()},isNav:function(){return!0},structureSingleName:function(){var t,e;return t=null!=(e=Template.parentData(1))?e.program:void 0,(null!=t?t.structureSingleName:void 0)?t.structureSingleName:TAPi18n.__("pur.module")},structureListName:function(){var t,e;return t=null!=(e=Template.parentData(1))?e.program:void 0,(null!=t?t.structureListName:void 0)?t.structureListName:TAPi18n.__("pur.moduleComposition")},hasEmptyText:function(){return _.isString(this.text)&&this.text.length?!1:!0}}),Template.purProgramStructure.events({"click .pur-ste-item-hovered":function(t,e){var r;return r=e.$(t.currentTarget),r.hasClass("empty-text")?void 0:(dataLayer&&dataLayer.push({event:"details_structure_program_pur"}),u.set(_.extend({opened:!0},_.clone(this))),Tracker.afterFlush(function(){var t,r,u,n,a,o;return o=e.$(".pur-ste-wrap"),n=o.find(".pur-ste-modal"),a=n.find(".pur-ste-title"),u=n.find(".pur-ste-length"),t=n.find(".pur-ste-card"),r=a.outerHeight()+u.outerHeight()+t.outerHeight(!0),n.height(r),o.height(r)}))},"click .t-close-modal":r})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.purProgramTopper.helpers({getDirectionName:function(){var e,r;return e=Direction.findOne({_id:null!=(r=this.program)?r.direction:void 0}),null!=e?e.name:void 0},getDirectionColor:function(){var e,r;return e=Direction.findOne({_id:null!=(r=this.program)?r.direction:void 0}),null!=e?e.color:void 0},purListQuery:function(){var e,r;return e=Direction.findOne({_id:null!=(r=this.program)?r.direction:void 0}),"directions="+(null!=e?e.name:void 0)}}),Template.purProgramTopper.events({"click .pur-dl-pdf":function(e,r){return dataLayer&&dataLayer.push({event:"gaEvent",eventCategory:"download",eventAction:"pdf"}),!0},"load .pur-topper-icon":function(e,r){var i,n,t,o,c;return c=e.currentTarget,n=$(c),t=$(c.contentDocument),o=n.data("color")||"#ffffff",t.find("path").css({fill:o}),t.find("polygon").css({fill:o}),t.find("rect").css({fill:o}),(i=t.find("img"))?n.css({width:i.width(),height:i.height()}):void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;Template.alSlider.onCreated(function(){return this.players=[],this.index=new ReactiveVar(0),this.lastIndex=0}),Template.alSlider.onRendered(function(){return this.autorun(function(e){return function(){var t,i;return t=e.findAll(".al-sl-itm"),i=e.index.get(),t.length?(t[e.lastIndex].classList.remove("-active"),t[i].classList.add("-active"),e.lastIndex=i):void 0}}(this))}),t=function(e,t){var i,a,n;return(a=(null!=(n=$(".al-sl-itm"))?n.length:void 0)||0)?(i=t?e:Template.instance().index.get()+e,0>i?i=a-1:i>a-1&&(i=0),Template.instance().index.set(i)):void 0},Template.alSlider.events({"click .t-p-p, click .t-left":_.partial(t,-1,!1),"click .t-p-n, click .t-right":_.partial(t,1,!1),"click .al-itm-wrap":function(e,t){var i,a,n,l;return a=t.players[t.index.get()],a||(a=null!=(l=t.$(e.target).find(".mi-img")[0])?l.contentWindow:void 0),a?(t.players[t.index.get()]=a,n=!Template.instance().state,Template.instance().state=n,dataLayer&&dataLayer.push({event:"video_play_other_video"}),i=JSON.stringify({method:n?"play":"pause"}),a.postMessage(i,"*")):void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.cMaskBlocker.helpers({getBgColor:function(){return this.bgColor?"background-color: "+this.bgColor+";":void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.btnDetails.helpers({getCaption:function(){return TAPi18n.__(this.caption||"menu.details")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.btnPaginationArrows.events({"click .c-pgnarr-arr":function(e,r){return dataLayer&&dataLayer.push({event:"listing_button_click"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,n,r;this.thumbnail=function(t,e){return null==e&&(e="ImageFiles"),window.location.origin+Blaze._globalHelpers.assetUrl(e,t)},n=function(t){return null==t&&(t=""),t||location.origin+location.pathname},e=function(t){var e;return e=null,t&&(e="function"==typeof t?t():t),e&&(/^http(s?):\/\/+/.test(e)||(e=location.origin+e)),e||t},r=function(t,e,n){var r,a,o,i,c,p,u,s;return i=encodeURIComponent(e.data.shareData.title),p=document.location.href,p+=function(){switch(n){case"f":return"?utm_source=facebook&utm_medium=share&utm_campaign=kmbs";case"t":return"?utm_source=twitter&utm_medium=share&utm_campaign=kmbs";case"g":return"?utm_source=gplus&utm_medium=share&utm_campaign=kmbs"}}(),p=encodeURIComponent(p),s=700,r=500,a=(screen.width-s)/2,c=(screen.height-r)/2,u=function(){switch(n){case"f":return"http://www.facebook.com/sharer.php?u="+p+"&t="+i;case"t":return"http://twitter.com/share?url="+p+"&text="+i;case"g":return"https://plusone.google.com/_/+1/confirm?hl=en&url="+p}}(),dataLayer&&(o=function(){switch(n){case"f":return"share_facebook";case"t":return"share_twitter";case"g":return"share_gplus"}}(),dataLayer.push({event:"gaEvent",eventCategory:"share_button",eventAction:o})),window.open(u,"_blank","width="+s+",height="+r+",toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left="+a+",top="+c)},Template.btnsShare.helpers({fbCount:function(){return Template.instance().fbCount.get()},twCount:function(){return Template.instance().twCount.get()},ggCount:function(){return Template.instance().ggCount.get()},metaData:function(){return{url:n(this.shareData.url),img:e(this.shareData.thumbnail),siteName:location.hostname}}}),Template.btnsShare.events({"click .-fb":_.partial(r,_,_,"f"),"click .-tw":_.partial(r,_,_,"t"),"click .-gg":_.partial(r,_,_,"g")}),Template.btnsShare.onCreated(function(){var t,r,a,o;return a=this.data.shareData,o=n(a.url),r=e(a.thumbnail),t=$("head"),a.title&&($("head title").remove(),t.append("<title>"+a.title+"</title>")),$('head meta[property^="og:"]').remove(),t.append($("<meta>",{property:"og:type",content:"article"})),t.append($("<meta>",{property:"og:site_name",content:location.hostname})),t.append($("<meta>",{property:"og:url",content:o})),t.append($("<meta>",{property:"og:title",content:a.title})),t.append($("<meta>",{property:"og:description",content:a.description})),t.append($("<meta>",{property:"og:image",content:r})),$('head meta[property^="twitter:"]').remove(),t.append($("<meta>",{property:"twitter:card",content:"summary"})),t.append($("<meta>",{property:"twitter:url",content:o})),t.append($("<meta>",{property:"twitter:title",content:a.title})),t.append($("<meta>",{property:"twitter:description",content:a.description})),t.append($("<meta>",{property:"twitter:image",content:r})),t.append($("<meta>",{property:"twitter:image:src",content:r})),this.fbCount=new ReactiveVar(0),this.twCount=new ReactiveVar(0),this.ggCount=new ReactiveVar(0),_.each(["fb","tw","gg"],function(t){return function(e){return Meteor.call("share/count/"+e,o,function(n,r){return n?void 0:t[""+e+"Count"].set(r)})}}(this))})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.cInputTel.events({"keydown .t-code":function(e,t){return $(e.target).val().length>=3?(e.keyCode>=48&&e.keyCode<=57&&(t.find(".t-tel").value=e.keyCode-48),e.keyCode>=96&&e.keyCode<=105&&(t.find(".t-tel").value=e.keyCode-96),t.find(".t-tel").focus(),e.preventDefault()):void 0},"keydown .t-tel":function(e,t){var o,d;return 7===e.target.value.length&&8!==e.keyCode&&46!==e.keyCode&&9!==e.keyCode&&e.preventDefault(),0===e.target.value.length&&8===e.keyCode&&(t.find(".t-code").value=t.find(".t-code").value.slice(0,2),t.find(".t-code").focus(),e.preventDefault()),o=t.$(".t-code"),d=o.val(),!d||d.length<3?o.focus():void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,i,n,r,o,a,s,f,l,c;t={duration:300,easing:"ease-in"},a=".c-fm-form",s=function(e,t){if(null==t&&(t="slide"),"show"===e){if("slide"===t)return"slideDown";if("fade"===t)return"fadeIn"}return"slide"===t?"slideUp":"fade"===t?"fadeOut":void 0},l=function(){var e,i,n;return this.trigger.addClass("active"),this.form.addClass("active"),n=function(e){return function(){return e.form.velocity(s("show",e.animation),t)}}(this),this.offsetEl?(i=window.scrollY||$(window).scrollTop(),e=this.offsetEl.offset().top+(this.isFullOffset?this.offsetEl.outerHeight():0),i===e?n():$("body").velocity("scroll",{duration:300,offset:e,complete:n})):n()},i=function(){var e;return e=_.clone(t),e.complete=_.once(function(e){return function(){return e.submited.set(!1)}}(this)),this.trigger.removeClass("active"),this.form.removeClass("active").velocity(s("hide",this.animation),e)},n=function(e,i){var n;return n=_.clone(t),"function"==typeof i&&(n.complete=_.once(i)),_.each(e,function(e){var t;return t=$(e),$(t.data("trigger")).removeClass("active"),t.removeClass("active").velocity(s("hide",this.animation),n)})},f=function(){return this.form=this.$(a),this.trigger=$(this.data.trigger),this.offsetEl=$(this.data.offsetEl),this.isFullOffset="undefined"==typeof this.data.fullOffset?!1:this.data.fullOffset,this.animation="undefined"==typeof this.data.animation?"slide":this.data.animation,$(document).on("click.form",this.data.trigger,function(e){return function(){var t;return e.form.hasClass("active")?_.bind(i,e)():(t=e.form.siblings(""+a+".active"),t.length?_.bind(n,e)(t,_.bind(l,e)):_.bind(l,e)())}}(this))},r=function(){return $(document).off("click.form",this.data.trigger)},this.FormComponent=function(){function e(e){this.type=e.type,this.prefix=e.prefix||"c-fm-form",this.validationRules=e.rules}return e.prototype.isValid=function(e){var t;return this.removeHighlights(),t={},_.each(this.validationRules,function(i,n){return"undefined"!=typeof e[n]?_.each(i,function(i,r){return Validator[r](e[n],i)?t[n]=r:void 0}):void 0}),_.isEmpty(t)||this.highlightInvalid(t),_.isEmpty(t)},e.prototype.highlightInvalid=function(e){var t,i,n,r;return r=_.keys(e),r.length>1&&(n=TAPi18n.__("errors.genericFields")),_.each(e,function(e){return function(t,i){var n;return n=e.form.find("input[name="+i+"], textarea[name="+i+"]").parents("."+e.prefix+"-input"),n.addClass("is-invalid")}}(this)),i=this.form.find("input[name="+r[0]+"]").parents("."+this.prefix+"-input"),t=i.find("."+this.prefix+"-error"),t.html(n?n:TAPi18n.__("errors."+r[0]))},e.prototype.removeHighlights=function(){return this.form.find("."+this.prefix+"-error").empty(),this.form.find("."+this.prefix+"-input").removeClass("is-invalid")},e.prototype.proceedForm=function(e){var t,i;return t=$(e.target),this.form=t,i=_.reduce(t.serializeArray(),function(e,t){return e[t.name]=t.value,e},{}),i.tel&&i.code&&(i.tel=i.code+i.tel,delete i.code),this.isValid(i)?i:!1},e}(),o={name:{exists:!0},tel:{exists:!0,numbers:!0,valueLength:10}},c=function(e,t,i){var n,r;return e.preventDefault(),(n=t.formController.proceedForm(e))?(n.teammateId=t.data.teammateId,n.source=t.data.source,n.type=t.data.type,t.submited.set(!0),dataLayer&&(r="meeting"===i?"meeting_with_head_program_finish_"+n.type:"call_me_finish_"+n.type,dataLayer.push({event:r})),Meteor.call(""+i+"Form",n,function(){return t.form[0].reset()})):!1},Template.cFormCallback.onCreated(function(){return this.submited=new ReactiveVar(!1),this.formController=new FormComponent({rules:o})}),Template.cFormCallback.onRendered(function(){return _.bind(f,this)()}),Template.cFormCallback.onDestroyed(function(){return _.bind(r,this)()}),Template.cFormCallback.helpers({title:function(){return TAPi18n.__("mba.formCb")},submited:function(){return Template.instance().submited.get()}}),Template.cFormCallback.events({"submit form":_.partial(c,_,_,"callback"),"click .t-close-form":function(e,t){return _.bind(i,t)()}}),Template.cFormMeeting.onCreated(function(){return this.submited=new ReactiveVar(!1),this.formController=new FormComponent({rules:o})}),Template.cFormMeeting.onRendered(function(){return _.bind(f,this)()}),Template.cFormMeeting.onDestroyed(function(){return _.bind(r,this)()}),Template.cFormMeeting.helpers({title:function(){return TAPi18n.__("mba.formMeeting")},submited:function(){return Template.instance().submited.get()}}),Template.cFormMeeting.events({"submit form":_.partial(c,_,_,"meeting"),"click .t-close-form":function(e,t){return _.bind(i,t)()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.mdCoach.onCreated(function(){return Tracker.afterFlush(function(){return $(".md-coach-scrollable").mCustomScrollbar({theme:"minimal-dark"})})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var a=__coffeescriptShare;Template.mdTeammate.helpers({hasImage:function(){var a,e,t,c;return(null!=(a=this.data)&&null!=(e=a.coach)?e.bigImage:void 0)||(null!=(t=this.data)&&null!=(c=t.coach)?c.image:void 0)?!0:!1},getImage:function(){var a,e,t,c;return(null!=(a=this.data)&&null!=(e=a.coach)?e.bigImage:void 0)||(null!=(t=this.data)&&null!=(c=t.coach)?c.image:void 0)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,n,r,e,o,i,s,a,c,f,u,h,l,d;c={scrollOffset:300},r=function(t,n){var r,e,o;return null==n&&(n=1),r=t.data.offset||c.scrollOffset,"string"==typeof t.data.offset&&(r=$(t.data.offset).outerWidth()),e=t.container.scrollLeft(),e%r===0?e+n*r:(o=Math.floor(e/r),o*r+n*r)},u=2e3,h=200,l=50,a=500,i=3e3,s=10,o=0,n=function(t){var n,r,e,s;return e=t-o>=0,r=Math.abs(t-o),n=r>u?l*Math.round((r-u)/h):0,s=i>a+n?a+n:i,o=t,s},f=_.throttle(function(t,r){var e;return e=n(r),e?t.inner.velocity("stop").velocity("scroll",{axis:"x",duration:e,offset:""+r+"px",container:t.container,easing:t.data.move===!1?"swing":"linear"}):void 0},20),e=function(t,n){var r,e,o,i;return e=t.inner.width(),i=t.container.width(),o=t.container.position().left,r=n.pageX-o,e>i?f(t,(e-i)*r/i):void 0},d=function(t){return t.showArrows.set(t.container.width()<t.inner.width())},Template.scrHorizontal.helpers({arrows:function(){return this.arrows?this.arrows:Template.instance().showArrows.get()}}),Template.scrHorizontal.events({"click .t-p-p":function(t,n){return f(n,r(n,-1))},"click .t-p-n":function(t,n){return f(n,r(n))}}),Template.scrHorizontal.onCreated(function(){return this.showArrows=new ReactiveVar(!1)}),Template.scrHorizontal.onRendered(function(){return this.id=Random.id(4),this.container=$(this.data.container),this.inner=$(this.data.inner),this.container.css("position","relative"),Tracker.afterFlush(function(t){return function(){return d(t),setTimeout(function(){return d(t)},250)}}(this)),$(window).on("resize.scr-horizontal-"+this.id,function(t){return function(){return d(t)}}(this)),this.data.move!==!1?this.container.on("mousemove.scr-horizontal",function(t){return function(n){return e(t,n)}}(this)):void 0}),Template.scrHorizontal.onDestroyed(function(){return $(window).off("resize.scr-horizontal-"+this.id),this.container.off("mousemove.scr-horizontal")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/not-found",{name:"notFound",templateName:"404",onAfterAction:_hidePageLoader}),Template.notFound.onRendered(function(){return _hidePageLoader()})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var n=__coffeescriptShare,t;t=function(n){return{title:n.seoTitle||n.name||"",description:n.shareDescription||n.sign||"",thumbnail:function(){return thumbnail(n.shareImage||n.image||"/img/ak-intro-bg.png")}}},Template.aboutKMBS.helpers({countMBA:5,countPUR:function(){return Program.find().count()},about:function(){var n,e;return(n=null!=(e=About.find().fetch())?e[0]:void 0)?(n.desc=n.desc.split("\n"),n.shareData=t(n),n.alumni=_.map(n.interviews,function(n){return{name:n.name,image:n.image,video:n.video,job:n.occupation}}),n):!1}}),Template.aboutKMBS.onCreated(function(){return this.subscribe("programs",{fields:{_id:1}}),this.eventNames=[null,null,"kmbs_is","portfolio_programs","our_approach_to_training","subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={},__addSeoMetaTags(About.findOne())}),Template.aboutKMBS.onRendered(function(){var n,t,e,r,o,i,a,s;for(i=$("#topper"),t=["ak-intro-wrap","ak-intro-info","ak-info-wrap","ak-programs-wrap","ak-approach-wrap","rss-wrap"],r=t.length;r--;)n=t[r],this.containers[n]=$("."+n);for(a=i.height(),r=0;r<t.length;)n=t[r],o=t[r-1],e=null!=(s=this.containers[n])?s.outerHeight(!0):void 0,this.containerHeights[n]=e,this.containerScrollTops[n]=o?this.containerScrollTops[o]+this.containerHeights[o]+(1===r?a:0):0,this.containerScrollEvents[n]=null,r++;return $(window).on("scroll.ak-wrap",function(n){return function(t){return _.bind(__windowScrollEvents,n,t)()}}(this))}),Template.aboutKMBS.onDestroyed(function(){return $("window").off("scroll.ak-wrap")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/about",{name:"aboutKMBS",waitOn:function(){return TAPi18n.subscribe("aboutKMBS")},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.alumni.helpers({alumni:function(){var e,i,n,t;return(e=Alumni.find({}).fetch()[0])?(t={},(null!=e?e.history:void 0)?t._id={$in:e.history}:t.type=3,i=NewsAlumni.find(t,{limit:1}).fetch(),e.alumnies=[],i.length&&(n={name:i[0].nameSurname,job:i[0].job,citation:i[0].quote,image:i[0].photo,seoHrl:i[0].seoHrl},i[0].video&&(n.video=i[0].video),e.alumnies.push(n)),e):!1}}),Template.alumni.onCreated(function(){return __addSeoMetaTags(Alumni.findOne())})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/alumni",{name:"alumni",waitOn:function(){return TAPi18n.subscribe("alumni")},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.coachItem.helpers({data:function(){var e,o,r,t,c;return r=Router.current().params._id,c={},c["seoHrl."+Router.getLanguage()]=r,t={$or:[{_id:r},c]},e=Coach.findOne(t),o={coach:e,label:e.spec}}}),Template.coachItem.onCreated(function(){return $("body").addClass("no-overflow")}),Template.coachItem.onDestroyed(function(){return $("body").removeClass("no-overflow")}),Template.coachItem.events({"click .mw-close":function(e,o){return history.back()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/coach/:_id",{name:"coachItem",onBeforeAction:function(){return $(window).scrollTop(0),this.next()},waitOn:function(){var e,o,r;return e=this.params._id,r={},r["seoHrl."+Router.getLanguage()]=e,o={$or:[{_id:e},r]},TAPi18n.subscribe("coachItem",o,{fields:{articles:1,bigImage:1,firstName:1,lastName:1,desc:1,image:1,spec:1,seoHrl:1}},function(){var e;return e=Coach.findOne(o),e?void 0:Router.go("notFound")})},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=24,Template.coachList.helpers({isActive:function(){var e;return e=Template.instance().type.get(),e===this.type?"active":void 0},coachesExistByFilter:function(){var e;return e={},"mba"===this.type&&(e.directionMBA=!0),"pur"===this.type&&(e.directionPUR=!0),"inv"===this.type&&(e.directionInv=!0),Coach.find(e).fetch().length},coaches:function(){var e,t,i,c;return t={},i=Template.instance(),c=i.type.get(),e=Session.get("coachListLimit"),"mba"===c&&(t.directionMBA=!0),"pur"===c&&(t.directionPUR=!0),"inv"===c&&(t.directionInv=!0),Coach.find(t,{limit:e,sort:{position:-1}})},displayShowMore:function(){var e,t,i,c,o;return i={},c=Template.instance(),o=c.type.get(),t=Session.get("coachListLimit"),"mba"===o&&(i.directionMBA=!0),"pur"===o&&(i.directionPUR=!0),"inv"===o&&(i.directionInv=!0),e=Coach.find(i).count(),t>=e?"hidden":void 0},getImage:function(){return("undefined"!=typeof this&&null!==this?this.bigImage:void 0)||("undefined"!=typeof this&&null!==this?this.image:void 0)}}),Template.coachList.onCreated(function(){var e;return this.type=new ReactiveVar(null),e=Session.get("coachListLimit"),e||Session.set("coachListLimit",t),TAPi18n.subscribe("coaches",{fields:{articles:1,bigImage:1,firstName:1,lastName:1,desc:1,directionMBA:1,directionPUR:1,directionInv:1,image:1,info:1,position:1,spec:1,seoHrl:1},sort:{position:1}},_hidePageLoader),__addSeoMetaTags(CoachList.findOne())}),Template.coachList.onRendered(function(){var e;return(e=Session.get("coachListScrollY"))?$("body, html").scrollTop(e):void 0}),Template.coachList.events({"click .cos-menu-item":function(e,i){var c;return dataLayer&&(c="mba"===this.type?"mba_coaches":"pur"===this.type?"coaches_executive_development_programs":"inv"===this.type?"coaches_invited_experts":"all_coaches",dataLayer.push({event:"coach_"+c})),i.type.set(this.type),Session.set("coachListLimit",t)},"click .cos-show-more":function(e,i){return dataLayer&&dataLayer.push({event:"show_more_coach_click"}),Session.set("coachListLimit",Session.get("coachListLimit")+t)},"click .cos-coach-link":function(e,t){return Session.set("coachListScrollY",window.scrollY),dataLayer&&dataLayer.push({event:"learn_more_coach"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/coach",{name:"coachList",waitOn:function(){return TAPi18n.subscribe("coachList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e;e={name:{exists:!0},email:{exists:!0,email:!0},text:{exists:!0}},Template.contacts.onCreated(function(){return this.submited=new ReactiveVar(!1),this.formController=new FormComponent({rules:e,prefix:"c-fi"}),this.eventNames=[null,null,"ask_questions","map","subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={},__addSeoMetaTags(Contact.findOne())}),Template.contacts.onRendered(function(){var t,e,n,o,r,s,a,i;for(GoogleMaps.ready("contactsMap",function(t){var e,n,o;return o=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],e=new google.maps.StyledMapType(o,{name:"Grayscale"}),t.instance.mapTypes.set("tehgrayz",e),t.instance.setMapTypeId("tehgrayz"),n=new google.maps.Marker({position:t.options.center,map:t.instance,icon:"/img/cs-marker.png"})}),s=$("#topper"),e=["cs-title","cs-persons","cs-form-wrap","cs-map-container","rss-wrap"],o=e.length;o--;)t=e[o],this.containers[t]=$("."+t);for(a=s.height(),o=0;o<e.length;)t=e[o],r=e[o-1],n=null!=(i=this.containers[t])?i.outerHeight(!0):void 0,this.containerHeights[t]=n,this.containerScrollTops[t]=r?this.containerScrollTops[r]+this.containerHeights[r]+(1===o?a:0):0,this.containerScrollEvents[t]=null,o++;return $(window).on("scroll.cs-wrap",function(t){return function(e){return _.bind(__windowScrollEvents,t,e)()}}(this))}),Template.aboutKMBS.onDestroyed(function(){return $("window").off("scroll.cs-wrap")}),Template.contacts.events({"submit .cs-form":function(t,e){var n;return t.preventDefault(),(n=e.formController.proceedForm(t))?(e.submited.set(!0),dataLayer&&dataLayer.push({event:"send_question_button_finish"}),Meteor.call("contactsForm",n)):!1}}),Template.contacts.helpers({submited:function(){return Template.instance().submited.get()},mapOptions:function(){return GoogleMaps.loaded()?{center:new google.maps.LatLng(50.4654899,30.5226159),zoom:16,mapTypeControlOptions:{mapTypeIds:["tehgrayz"]}}:void 0},company:function(){return{tel:"[044] 490 6635 <br /> [044] 425 7779",email:"team@kmbs.ua"}},contacts:function(){var t,e;return t=(null!=(e=Contact.find({}).fetch())?e[0]:void 0)||!1,t?_.map(t.contacts,function(t){var e,n;return(e=(null!=(n=Teammate.find({_id:t.contact}).fetch())?n[0]:void 0)||!1)?(e.title=t.direction,e):!1}):[]},btnCbCls:function(){return"cs-btn-cb t-opn-cs-cb-fm"+this.$index},offsetCbCls:function(){return"cs-cb-form"+this.$index},formCallbackData:function(){return{trigger:".t-opn-cs-cb-fm"+this.$index,offsetEl:".cs-cb-form"+this.$index,source:"Контакты KMBS",teammateId:this._id}}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/contacts",{name:"contacts",onBeforeAction:function(){return $(window).scrollTop(0),GoogleMaps.load({key:"AIzaSyBrL4bgu8H73p0BeIGgpPl8DZB_zEoUYGk"},this.next())},waitOn:function(){return TAPi18n.subscribe("contact")},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,t;t=function(r){var t,o;return r.contactsItem.coach?t=(null!=(o=Teammate.find({_id:r.contactsItem.coach}).fetch())?o[0]:void 0)||!1:r.contactsItem.own},Template.corProgram.helpers({program:function(){var r;return(r=CorporateProgram.find().fetch()[0])?(r.contactsItem.own=t(r),r):!1}}),Template.corProgram.onCreated(function(){return this.eventNames=[null,null,"corporate_our_client","corporate_programs_formats","corporate_contact_person",null,"corporate_completed_projects","subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={},__addSeoMetaTags(CorporateProgram.findOne())}),Template.corProgram.onRendered(function(){var r,t,o,e,n,c,a,i;for(c=$("#topper"),t=["cp-intro-wrap","cp-princ-prod","cp-clients-wrap","cp-formats-wrap","cp-cs-wrap","cp-to-form","cp-projects-wrap","rss-wrap"],e=t.length;e--;)r=t[e],this.containers[r]=$("."+r);for(a=c.height(),e=0;e<t.length;)r=t[e],n=t[e-1],o=null!=(i=this.containers[r])?i.outerHeight(!0):void 0,this.containerHeights[r]=o,this.containerScrollTops[r]=n?this.containerScrollTops[n]+this.containerHeights[n]+(1===e?a:0):0,this.containerScrollEvents[r]=null,e++;return $(window).on("scroll.cp-wrap",function(r){return function(t){return _.bind(__windowScrollEvents,r,t)()}}(this))}),Template.corProgram.onDestroyed(function(){return $("window").off("scroll.cp-wrap")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare;Router.route("/corporate-programs",{name:"corProgram",waitOn:function(){return TAPi18n.subscribe("corporateProgram")},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/developing",{name:"developing",onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,o;t=function(){var e,t,n;return e=Router.current().params._id,n={},n["seoHrl."+Router.getLanguage()]=e,t={$or:[{_id:e},n]},Event.findOne(t)},n=function(e){var t,n,o;return t={directorId:e[0].coach||(null!=(n=e[0].own)?n.email:void 0),teammateId:e[0].coach||(null!=(o=e[0].own)?o.email:void 0)},_.each(e,function(e){var n,o;return e.director?t.directorId=e.coach||(null!=(n=e.own)?n.email:void 0):t.teammateId=e.coach||(null!=(o=e.own)?o.email:void 0)}),t},o=function(){return this.autorun(function(){return Session.get("initEventMap")?GoogleMaps.ready("eventMap",function(e){var t,n,o;return o=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],t=new google.maps.StyledMapType(o,{name:"Grayscale"}),e.instance.mapTypes.set("tehgrayz",t),e.instance.setMapTypeId("tehgrayz"),n=new google.maps.Marker({position:e.options.center,map:e.instance,icon:"/img/cs-marker.png"})}):void 0})},Template.eventItem.onCreated(function(){return Session.set("initEventMap",!1),Session.set("showEventMap",!1),__addSeoMetaTags(t())}),Template.eventItem.onRendered(function(){return _.bind(o,this)()}),Template.eventItem.helpers({event:function(){var e,o;return e=t(),(null!=(o=e.contactsItem)?o.length:void 0)&&(e.stuff=n(e.contactsItem)),e},hasAdjacents:function(){var e,t,n,o;return t=Router.current().params._id,n={type:null!=(o=this.event)?o.type:void 0,_id:{$ne:t}},n["seoHrl."+Router.getLanguage()]={$ne:t},e=Event.find(n).fetch(),e.length?!0:!1},mapOptions:function(){var e,n,o;if(GoogleMaps.loaded())return e=t(),{center:new google.maps.LatLng(null!=(n=e.address.loc)?n[1]:void 0,null!=(o=e.address.loc)?o[0]:void 0),zoom:16,mapTypeControlOptions:{mapTypeIds:["tehgrayz"]}}},initMap:function(){return Session.get("initEventMap")},showMap:function(){return Session.get("showEventMap")}}),Template.eventItem.events({"click .ev-map-container .mw-close":function(e,t){return Session.set("showEventMap",!1)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/event/:_id",{name:"eventItem",onBeforeAction:function(){return $(window).scrollTop(0),GoogleMaps.load({key:"AIzaSyBrL4bgu8H73p0BeIGgpPl8DZB_zEoUYGk"},this.next())},waitOn:function(){var e,t,r;return e=this.params._id,r={},r["seoHrl."+Router.getLanguage()]=e,t={$or:[{_id:e},r]},TAPi18n.subscribe("eventItem",t,{fields:{address:1,audience:1,audiencesMinor:1,coach:1,contacts:1,contactsItem:1,desc:1,googleFormURL:1,name:1,places:1,price:1,registrationEndDate:1,requirements:1,seoHrl:1,speakers:1,startDate:1,time:1,type:1,seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}},function(){var e;return e=Event.findOne(t),e?_hidePageLoader():Router.go("notFound")})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,r,a,i,c,o,u,s;t="opened",i="yaG7KHzqedn6cBLQ2",r={audience:1,region:1,startDate:1,type:1},n={audience:1,name:1,places:1,region:1,startDate:1,time:1,type:1,seoHrl:1},c=_.after(2,function(){return _hidePageLoader()}),s=function(){return TAPi18n.subscribe("eventList",{startDate:{$gte:this.todayDayStart.toDate()}},{fields:n},c)},o=function(){return this.autorun(function(e){return function(){var t,n,a;return t=e.calendarDate.get(),n=moment(t).endOf("month").toDate(),a={startDate:{$gte:t.startOf("month").toDate(),$lte:n}},TAPi18n.subscribe("eventList",a,{fields:r},c)}}(this))},u=function(){return this.autorun(function(e){return function(){var t,r,a,i,c,o;if(c=e.selectedDate.get())return i=e.currentRegion.get(),t=e.currentAudience.get(),o=e.currentType.get(),r=moment(c).endOf("day").toDate(),a={startDate:{$gte:c.startOf("day").toDate(),$lt:r}},i&&(a.region=i._id),t&&(a.audience=t._id),o&&(a.type=o._id),TAPi18n.subscribe("eventList",a,{fields:n})}}(this))},Template.eventList.onCreated(function(){return this.todayDayStart=moment().startOf("day"),this.calendarDate=new ReactiveVar(moment()),this.selectedDate=new ReactiveVar(null),this.todayDate=new ReactiveVar(this.todayDayStart),this.currentRegion=new ReactiveVar(null),this.currentAudience=new ReactiveVar(null),this.currentType=new ReactiveVar(null),_.bind(s,this)(),_.bind(o,this)(),_.bind(u,this)(),__addSeoMetaTags(EventList.findOne())}),Template.eventList.helpers({getRegions:function(){var e,t,n,r;return t={_id:i,directionEvent:!0},e=Region.find(t).fetch(),(null!=e?e.length:void 0)||(e=[]),r={_id:{$ne:i},directionEvent:!0},n=Region.find(r,{sort:{name:1}}).fetch(),_(e).concat(n).value()},currentRegion:function(){return Template.instance().currentRegion.get()},currentAudience:function(){return Template.instance().currentAudience.get()},currentType:function(){return Template.instance().currentType.get()},getAudiences:function(){var e,t,n,r,a,i,c,o,u;for(u=Template.instance(),c=u.currentRegion.get(),o=[],i={startDate:{$gte:moment().startOf("day").toDate()}},c&&(i.region=c._id),r=Event.find(i).fetch(),t=Audience.find({directionEvent:!0}).fetch(),n=t.length;n--;)e=t[n],a=_.find(r,{audience:e._id}),a&&o.push(e);return o},getEventTypes:function(){var e,t,n,r,a,i,c,o,u,s;for(c=Template.instance(),a=c.currentRegion.get(),e=c.currentAudience.get(),i=[],r={startDate:{$gte:moment().startOf("day").toDate()}},a&&(r.region=a._id),e&&(r.audience=e._id),t=Event.find(r).fetch(),u=EventType.find().fetch(),s=u.length;s--;)o=u[s],n=_.find(t,{type:o._id}),n&&i.push(o);return i},getEventCount:function(){var e,t,n,r;return r=Template.instance(),t={startDate:{$gte:moment().startOf("day").toDate()}},t[this.type]=this.item._id,("audience"===this.type||"type"===this.type)&&(n=r.currentRegion.get())&&(t.region=n._id),"type"===this.type&&(e=r.currentAudience.get())&&(t.audience=e._id),Event.find(t).count()},noActiveFilters:function(){var e,t,n,r,a;return r=Template.instance(),t=r.currentRegion.get(),e=r.currentAudience.get(),a=r.currentType.get(),n=r.selectedDate.get(),!(t||e||a||n)},getEventsByDate:function(){var e,t,n,r,a,i,c,o,u,s,d,l,f,g;for(f=Template.instance(),l=f.currentRegion.get(),e=f.currentAudience.get(),g=f.currentType.get(),t=f.calendarDate.get(),n=t.format("MM"),r=t.format("YYYY"),u=moment(""+this+"."+n+"."+r,"DD.MM.YYYY"),s=moment(u).add(1,"day"),d={startDate:{$gte:u.toDate(),$lt:s.toDate()}},l&&(d.region=l._id),e&&(d.audience=e._id),g&&(d.type=g._id),c=Event.find(d,{sort:{startDate:1}}).fetch(),o=c.length;o--;)a=c[o],i=EventType.findOne({_id:null!=a?a.type:void 0}),(null!=i?i.color:void 0)&&(a.color=i.color);return c.length?c:!1},isSelectedDate:function(){var e,t,n,r,a,i;return a=Template.instance(),(r=null!=(i=a.selectedDate)?i.get():void 0)?(e=a.calendarDate.get(),t=e.format("MM"),n=e.format("YYYY"),moment(""+this+"."+t+"."+n,"DD.MM.YYYY").isSame(r,"day")):!1},isTodayDate:function(){var e,t,n,r,a,i;return a=Template.instance(),(r=null!=(i=a.todayDate)?i.get():void 0)?(e=a.calendarDate.get(),t=e.format("MM"),n=e.format("YYYY"),moment(""+this+"."+t+"."+n,"DD.MM.YYYY").isSame(r,"day")):!1},getCalendarDate:function(){var e;return e=Template.instance(),e.calendarDate.get()},weekDays:function(){var e;return e=moment.weekdaysShort(),e.push(e.shift()),e},monthWeeks:function(){var e,t,n,r,a,i,c,o,u,s,d;for(d=Template.instance(),e=d.calendarDate.get(),o=[],s=moment(e).startOf("month"),n=e.daysInMonth(),r=1,a=0,u=s.format("d")-0||7;n>=r;){if(o[a]||(o[a]=[]),1===r&&u-0!==0)for(i=u-1;i--;)o[a].push(null);if(o[a].push(r),t=(r+(u?u-1:0))%7,r===n&&0!==t)for(c=7-t;c--;)o[a].push(null);0===t&&a++,r++}return o},getRegion:function(){return Region.findOne({_id:this.region})},getAudience:function(){return Audience.findOne({_id:this.audience})},getType:function(){return EventType.findOne({_id:this.type})},eventTypes:function(){return EventType.find().fetch()},getCalendarDayColor:function(){var e,t;return e="#696c73",this.color?(t=Template.instance(),t.todayDayStart.diff(this.startDate)>0?e:this.color):e},eventItems:function(){var e,t,n,r,a,i,c,o,u,s,d,l,f;for(c={},l=Template.instance(),s=l.currentRegion.get(),e=l.currentAudience.get(),f=l.currentType.get(),(d=l.selectedDate.get())?(n=moment(d).endOf("day").toDate(),c.startDate={$gte:d.startOf("day").toDate(),$lt:n}):c.startDate={$gte:moment().startOf("day").toDate()},s&&(c.region=s._id),e&&(c.audience=e._id),f&&(c.type=f._id),a=Event.find(c,{sort:{startDate:1}}).fetch(),i=a.length,o=0;i>o;)r=a[o],0!==o?(u=moment(a[o-1].startDate).format("DD.MM"),t=moment(r.startDate).format("DD.MM"),u!==t?(r.showDay=!0,o++):o++):(r.showDay=!0,o++);return a}}),a=function(){return dataLayer&&dataLayer.push({event:"gaEvent",eventCategory:"filter",eventAction:"click",eventLabel:"events_page"}),!0},Template.eventList.events({"click .evs-calendar-arrow.left":function(e,t){return t.calendarDate.set(t.calendarDate.get().subtract(1,"month")),a()},"click .evs-calendar-arrow.right":function(e,t){return t.calendarDate.set(t.calendarDate.get().add(1,"month"))},"change #evs-show-all, click .filter-item.clear":function(e,t){var n,r;return r=e.currentTarget,n=r.checked,t.selectedDate.set(null),t.todayDate.set(null),t.currentRegion.set(null),t.currentAudience.set(null),t.currentType.set(null),a(),n?void 0:r.checked=!0},"click .evs-calendar-day.selectable":function(e,t){var n,r,a,i,c;return n=t.calendarDate.get(),c=t.selectedDate.get(),r=n.format("MM"),a=n.format("YYYY"),i=moment(""+this+"."+r+"."+a,"DD.MM.YYYY"),i.isSame(c,"day")&&(i=null),t.selectedDate.set(i),t.todayDate.set(null)},"click .filter-dropdown-item span":function(e,n){var r,i;return i="current"+_.capitalize(this.type),r=n.$(".filter-item.opened"),r.removeClass(t),n[i].set(this.item),("region"===this.type||"audience"===this.type)&&n.currentType.set(null),"region"===this.type&&n.currentAudience.set(null),n.selectedDate.set(null),a()},"click .filter-item.active .filter-item-control":function(e,n){var r,i,c,o;return this.type?(e.stopPropagation(),r=$(e.currentTarget),i=r.parents(".filter-item"),c=n.$(".filter-item.opened"),c.removeClass(t),i.addClass(t),o="current"+_.capitalize(this.type),n[o].set(null),("region"===this.type||"audience"===this.type)&&n.currentType.set(null),"region"===this.type&&n.currentAudience.set(null),n.selectedDate.set(null),a()):!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/events",{name:"eventList",waitOn:function(){return TAPi18n.subscribe("eventListSeo",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.footer.helpers({head:function(){var e;return TAPi18n.getLanguage(),e=Direction.find().fetch(),e.slice(0,Math.ceil(e.length/2))},tail:function(){var e;return TAPi18n.getLanguage(),e=Direction.find().fetch(),e.slice(Math.ceil(e.length/2))}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,a,n,i,u;this._f_subTitle=function(){var e,t,r,a,n,i,u;return i=Router.current().state.get("subTitle"),i||(n=Router.current().params.type,e=function(){switch(n){case"corporate-program":return CorporateProgram;default:return Program}}(),r={},t=Router.current().params.id,t&&(a={},a["seoHrl."+Router.getLanguage()]=t,r.$or=[{_id:t},a]),i=null!=(u=e.findOne(r))?u.name:void 0),i},this._f_getSubs=function(e){var t,r,a,n;return null==e&&(e=0),null!=(t=Router.current().state.get("data"))&&null!=(r=t.blocks)&&null!=(a=r[e])&&null!=(n=a.data)?n.blocks:void 0},t=function(e,t){return"file"===e.type?"fileSize":"email"===e.type?"email":"phone"===e.type?"phone":"date"===e.type&&e.isrequired?"date":"period"===e.type&&e.isrequired?"period":_.startsWith(e.type,"list")&&e.isrequired?"list":e.isrequired?"exists":void 0},this._f_getSubFields=function(e,r){var a,n,i,u;return null==r&&(r="0"),i={pre:"fr",name:""+e+"_"+r,fields:{}},n=null!=(u=_f_getSubs())?u[e]:void 0,a=n.data.blocks,_.each(a,function(e,a){var u,o,l;return o={},o.rules=t(e.data,o),o.label=(null!=(l=e.data.fieldname)?l[Router.getLanguage()]:void 0)||"",o.tag=_.camelCase(e.data.type),o.data=e.data.data,e.data.alignLeft&&(o.data.alignLeft=e.data.alignLeft),u="f_"+a,n.data.canreuse&&(u+="_"+r),i.fields[u]=o}),i.startIndex=+r*a.length,i},this._f_getVmData=function(e){var t;return e=e||this.suffix||0,t="vmData_"+this.index+"_"+e,Template.applicationFormSub.__helpers.get(t).call()},r=function(e){return _.isObject(e)?e[Router.getLanguage()]||e[Meteor.settings["public"].lang]||"":e},a=function(e,t){var a;return a=[],_.each(e,function(e,n){var u;return u={name:r(e.data.title),subs:i(e.data.blocks,t,n)},a.push(u)}),a},i=function(e,t,a){var i;return i=[],_.each(e,function(e,a){var u;return u={name:r(e.data.title),fields:n(e.data.blocks,t,a)},e.data.canreuse&&(u.canreuse=e.data.canreuse),i.push(u)}),i},n=function(e,t,a){var n,i;return i=[],n=t[a],_.each(e,function(e,t){var a,u,o;return u=_.reduce(_.keys(n),function(e,r){var a;return a="f_"+t,(r===a||_.startsWith(r,""+a+"_"))&&e.push(r),e},[]),o=[],_.each(u,function(e){return o.push(n[e])}),a={type:e.data.type,other:e.data.other,name:r(e.data.fieldname),values:1===o.length?o[0]:o},i.push(a)}),i},this._f_organizeData=function(e){var t,r;return t=null!=(r=Router.current().state.get("data"))?r.blocks:void 0,a(t,e)},this._f_submitForm=function(e,t,r){var a,n,i,u,o,l;return this.formData[this.index]=e,o=_f_organizeData(this.formData),i=null,t?(n=[],_.each(o,function(e){return _.each(e.subs,function(e){return _.each(e.fields,function(e){var t;return"file"===e.type?(t=Random.id(12),e.fileId=t,n.push(e)):void 0})})}),a=_.after(n.length+1,function(){return Meteor.call("sendApplicationForm",i,Router.current().params.id,Router.getLanguage())}),n.length&&_.each(n,function(e){return ApplicationFormFiles.insert({file:e.values,meta:{_token:t,fileId:e.fileId},onUploaded:a})})):a=function(){return Meteor.call("sendApplicationForm",i,Router.current().params.id,Router.getLanguage())},l={name:_f_subTitle(),language:Router.getLanguage(),blocks:o,origin:Router.current().params.type},dataLayer&&(u="pur"===l.origin?"application_form_finish_pur":"corporate-program"===l.origin?"registration_form_finish":"application_form_finish_mba",dataLayer.push({event:u})),Meteor.call("submitApplicationForm",t,l,function(e,t){return i=t,a(),r(e,!!t)})},u=function(e){return e.velocity("scroll",{offset:-200,duration:300,complete:function(){return e.addClass("error"),_.delay(function(){return e.removeClass("error")},1200)}})},this._f_trySubmitCaptcha=function(e,t,r,a,n){var i,o,l;return(i=Recaptcha.get_response())?(l=t.find(".t-a"),l.checked?(o=Recaptcha.get_challenge(),Meteor.call("formSubmission",o,i,function(t){return function(i,o){return i||o===!1?(u(r),Recaptcha.reload(),void n()):_f_submitForm.call(t,e,o,a)}}(this))):($(l.nextElementSibling).addClass("error"),void n())):(u(r),void n())},this._f_trySubmitSimple=function(e,t,r,a){var n;return n=t.find(".t-a"),n.checked?_f_submitForm.call(this,e,!1,function(e,t){return r(e,!!t)}):($(n.parentElement).addClass("error"),void a())}}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationFormBlock.onCreated(function(){return this.step=new ReactiveVar(null),this.lastStep=null,this.formData={}}),Template.applicationFormBlock.onRendered(function(){return this.autorun(function(e){return function(){var t,n;return n=e.step.get(),_.isNumber(n)?(t=e.$(".fr-sb-s"),_.isNumber(e.lastStep)&&t.eq(e.lastStep).velocity("slideUp",{duration:600}),t.eq(n).velocity("slideDown",{duration:600,queue:!1,complete:function(){return t.eq(n).parent().velocity("scroll",{duration:300,easing:"linear",queue:!1,offset:-10})}}),e.lastStep=n):void 0}}(this)),this.step.set(0)}),Template.applicationFormBlock.helpers({currentStep:function(){return Template.instance().step.get()},isCurrentStep:function(){return this.index===Template.instance().step.get()?"active":void 0},subs:function(){return _f_getSubs(0)},formData:function(){return Template.instance().formData}}),Template.applicationFormBlock.events({"click .t-back":function(){return Template.instance().step.set(this.index)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationFormContent.helpers({stateLoaded:function(){return 1===Router.current().state.get("state")},backUrl:function(){return Router.current().state.get("backUrl")},subTitle:_f_subTitle,isMba:function(){return Router.current().state.get("isMba")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r;Template.applicationFormSub.onCreated(function(){var e,t;return(null!=(t=Template.currentData().value.data)?t.canreuse:void 0)&&(this.suffix=0),e=Template.currentData().index,this.vm=GetViewModel("applicationFormSub",_f_getSubFields(e))}),Template.applicationFormSub.onRendered(function(){return this.vm.bind(this)}),Template.applicationFormSub.helpers({showArrow:function(){return this.index<=this.currentStep},showedArrowClass:function(){return this.index===this.currentStep?"-t":void 0},hasBackAction:function(){return this.index<this.currentStep?"t-back":void 0},getValue:function(e){var t;return t=_.get(this.value,e),_.isObject(t)?t[Router.getLanguage()]:t},subs:function(){return _f_getSubs(0)},isNotLast:function(e){return this.index+1<e},getVmData:_f_getVmData,getReuseLabel:function(){return _.get(this.value,"data.reuselabel."+Router.getLanguage())}}),t={},r=function(e){return _.each(e.vm._vm_properties,function(t){var r;return r=e.$("[data-bind='value: "+t+"']")[0],"undefined"==typeof r&&(r=e.$("[data-bind='file: "+t+"']")[0]),e.vm[t]("file"===r.type?r.files[0]:r.value)})},Template.applicationFormSub.events({"click .t-n":function(e,t){return t.vm.check(function(e){return function(r){var a,n,i,u,o;if(e.formData[e.index]=r,t=Template.instance(),u="Template.applicationFormBlock",n=__getParentTemplateByName(t,u),!(n instanceof Blaze.TemplateInstance))throw new Meteor.Error("Failed to find parent template!");return i=n.step.get()+1,o=Router.current().params.type,dataLayer&&(a="corporate-program"===o?"corporate_programs":"pur"===o?o:"mba",dataLayer.push({event:"gaEvent",eventCategory:"application_form",eventAction:"step"+i,eventLabel:a})),n.step.set(i)}}(this))},"click .t-s":function(e,t){var r;return r=Template.instance().$(e.currentTarget),r.hasClass("disabled")?void 0:t.vm.check(function(e){return function(a){var n,i,u,o;return u=t.$("#recaptcha_widget"),n=function(e,t){return i(),e?(Router.current().state.set("error",e.message),Router.current().state.set("state",-1)):Router.current().state.set("state",2),_scrollToTop()},i=function(){return r.removeClass("disabled")},r.addClass("disabled"),(null!=(o=u.html())?o.length:void 0)?_f_trySubmitCaptcha.call(e,a,t,u,n,i):_f_trySubmitSimple.call(e,a,t,n,i)}}(this))},"click .t-more":function(e,r){var a,n,i,u,o,s,c;return i=_f_getSubFields(this.index,++r.suffix),r.vm.extend(GenerateViewModel("applicationFormSub",i)),c=Random.id(6),a={data:_f_getVmData.call(this,r.suffix),suffix:r.suffix},o=r.find(".fr-sb-reu"),n=document.createElement("div"),n.className="fr-sb-reu-b",u=document.createElement("div"),u.className="fr-sb-reu-close t-less",u.innerText="×",u.setAttribute("data-id",c),n.appendChild(u),o.appendChild(n),s=_.last(r.findAll(".fr-sb-reu-b")),t[c]=Blaze.renderWithData(Template.vmForm,a,s),r.vm.bind(r)},"click .t-less":function(e,a){var n,i,u,o;if(o=e.currentTarget.getAttribute("data-id"),Blaze.remove(t[o]),delete t[o],$(e.currentTarget).parents(".fr-sb-reu-b").remove(),a.vm.dispose(),--a.suffix,a.$('.fr-sb-reu-b *[data-bound="true"]').removeAttr("data-bound"),u=_f_getSubFields(this.index),a.vm=GetViewModel("applicationFormSub",u),a.suffix>0)for(i=1;i<=a.suffix;)n=_f_getSubFields(this.index,i),a.vm.extend(GenerateViewModel("applicationFormSub",n)),i++;return r(a),a.vm.bind(a)},"click #recaptcha-container":function(e){return $(e.currentTarget).removeClass("error")},"click .fr-agree":function(e){return $(e.currentTarget).removeClass("error")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationFormError.helpers({stateError:function(){return-1===Router.current().state.get("state")},message:function(){return Router.current().state.get("error")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationFormFinish.helpers({backUrl:function(){return Router.current().state.get("backUrl")},stateFinish:function(){return 2===Router.current().state.get("state")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationForm.onCreated(function(){var e,r,a,t,o,s,c,n,i,u;switch(n=Router.current().state,u=Router.current().params.type,e="/mba/",o=!1,u){case"mba-presidents":r="MbaPresident",i="presidents' MBA",e+=u,o=!0;break;case"mba-executive":r="MbaExecutive",i="Executive MBA",e+=u,o=!0;break;case"mba-leadership":r="MbaLeadership",i="MBA in Business Leadership",e+=u,o=!0;break;case"mba-master-of-banking-and-finance":r="MbaBanking",i="Master of Banking and Finance",e+=u,o=!0;break;case"mba-agro":r="MbaAgro",i="Agro MBA",e+=u,o=!0;break;case"pur":r="Program",i=!1,e="/pur/"+Router.current().params.id;break;case"corporate-program":r="CorporateProgram",i=!1,e="/corporate-programs"}if(o&&(e=e.replace("mba-","")),Router.current().state.set("backUrl",e),Router.current().state.set("isMba",o),!r)throw Router.current().state.set("error",TAPi18n.__("errors.generic")),Router.current().state.set("state",-1),new Meteor.Error("modules/form/form: Wrong :type property: "+u);if(i)n.set("subTitle",i);else switch(u){case"corporate-program":TAPi18n.subscribe("corporateProgramName");break;default:t=Router.current().params.id,c={},c["seoHrl."+Router.getLanguage()]=t,s={$or:[{_id:t},c]},TAPi18n.subscribe("program",s,{fields:{name:1,seoHrl:1}})}return a=Router.current().params.id,Meteor.call("getFormTemplate",r,a,Router.getLanguage(),function(e,r){return e?(n.set("error",e.message||e),void n.set("state",-1)):(n.set("state",1),n.set("data",r),_hidePageLoader())})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.applicationFormLoading.helpers({stateLoading:function(){return 0===Router.current().state.get("state")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/form/:type/:id?",{name:"applicationForm",action:function(){return this.state.set("state",0),this.render()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var t=__coffeescriptShare,e,n,r;Template.mainEvents.onCreated(function(){return this.sub=TAPi18n.subscribe("events",{query:{startDate:{$gte:moment().startOf("day").toDate()}},fields:{name:1,type:1,desc:1,startDate:1,seoHrl:1},sort:{startDate:1},limit:10})}),r=function(t,e){return Tracker.afterFlush(function(t){return function(){var e,n,r,a;for(n=t.$(".me-info"),r=n.length,a=[];r--;)e=t.$(n[r]),e.data("dotdotdot")&&e.dotdotdot("destroy"),a.push(e.dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:255,tolerance:5}));return a}}(this))},Template.mainEvents.onRendered(function(){return Event.find().observeChanges({changed:_.bind(r,this)}),this.autorun(function(t){return function(){return t.sub.ready()?r.call(t):void 0}}(this))}),e=function(){return Event.find({type:{$exists:!0},startDate:{$gte:moment().startOf("day").toDate()}},{sort:{startDate:1},limit:10})},Template.mainEvents.helpers({eventsWidth:function(){return"width: "+32*e().count()+"rem;"},events:function(){return e()}}),n=function(t){var e;return null!=(e=EventType.findOne({_id:this.type}))?e[t]:void 0},Template.mainEventsItem.helpers({getEventTypeProp:n,getEventTypeImageFiles:_.partial(n,"image"),getDescription:function(){var t;return(null!=(t=this.desc)?t.replace(/<([^>]+)>/g,""):void 0)||""},dateVerbal:function(){var t;return t=moment(this.startDate),t.isSame(moment(),"day")?TAPi18n.__("today"):t.format("dd")}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(e,t,i,a){var n,r,s;return s=a.$(e),n=s.filter(".active"),r=n.index(),a.state.get()[r]===!0&&n.click(),Meteor.setTimeout(function(){var e,i;return e=r-1+2*+!t,e>=0&&(i=s.eq(e)),(null!=i?i.size():void 0)||(i=s.eq(t?s.size()-1:0)),n.removeClass("active"),i.addClass("active")},50)},Template.mainInterviews.onCreated(function(){return this.player=[],this.state=new ReactiveVar([])}),Template.mainInterviews.helpers({interviews:function(){var e;return null!=(e=Global.findOne())?e.interviews:void 0},playBtnClassName:function(){var e;return e="mi-play",_.any(Template.instance().state.get())&&(e+=" -t"),e},ownState:function(){return Template.instance().state.get()[this.index]}}),Template.mainInterviews.events({"click .t-p-p":_.partial(t,".mi-itm",!0),"click .t-p-n":_.partial(t,".mi-itm",!1),"click .mi-itm":function(e,t){var i,a,n,r,s,o,c;if(e.stopPropagation(),a=t.$(e.currentTarget),n=a.index(),r=t.player[n],!r){if(r=null!=(c=a.find(".mi-img").get(0))?c.contentWindow:void 0,!r)return;t.player[n]=r}return o=t.state.get(),s=!o[n],o[n]=s,t.state.set(o),dataLayer&&dataLayer.push({event:"video_play_other_video"}),i=JSON.stringify(a.find(".mi-img").hasClass("-s")?{method:s?"play":"pause"}:{event:"command",func:s?"playVideo":"pauseVideo",args:[]}),r.postMessage(i,"*")}}),Template.mainInterviewsItem.helpers({isFirstItem:function(){return 0===this.index?"active":void 0},isClear:function(){return this.state?"-t":void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,n,t,r,a,i,s;Template.mainNewsAndEvents.onCreated(function(){return this.news=new ReactiveVar(null),this.autorun(function(e){return function(){var n,t,r,a,i,s,o;return i=null!=(s=Global.find().fetch())&&null!=(o=s[0])?o.news:void 0,i&&i.length?(a={_id:{$in:i}},r={fields:{name:1,shortDesc:1,date:1,image:1,seoHrl:1},sort:{date:-1}},n=NewsAlumni.find(a,r).fetch(),t=NewsKmbs.find(a,r).fetch(),_.each(n,function(e){return e.__type="a"}),_.each(t,function(e){return e.__type="k"}),e.news.set(_.sortByOrder(n.concat(t),"date","desc"))):void 0}}(this))}),Template.mainNewsAndEvents.helpers({news:function(){return Template.instance().news.get()},naeNwsWidth:function(){var e,n,t;return e=null!=(t=Template.instance().news.get())?t.length:void 0,n=e?100*Math.ceil(e/2):100,"width: "+n+"%;"}}),i=function(e){var n,t,r;return t=e.eventsPUR,n=e.eventsMBA,r=[],_.each(t,function(e){var n;return(n=Program.findOne({_id:e.program},{fields:{startDate:1,seoHrl:1}}))?r.push({_id:e.program,name:e.title,desc:e.desc,startDate:n.startDate,position:e.position,seoHrl:n.seoHrl,type:0}):void 0}),_.each(n,function(e){var n;return(n=NewsKmbs.findOne({_id:e.program},{fields:{date:1,seoHrl:1}}))?r.push({_id:e.program,name:e.title,desc:e.desc,startDate:n.date,position:e.position,seoHrl:n.seoHrl,type:1}):void 0}),_.sortBy(r,function(e){return e.position})},s=function(e){return Tracker.afterFlush(function(){var n;return n=document.querySelector(e),(null!=n?n.classList:void 0)?n.classList.add("active"):_.delay(function(){return s(e)},100)})},Template.mainNewsAndEvents_news.onRendered(function(){return s(".nae-nws-page"),s(".nae-evs-page")}),r=function(e,n){return e.removeClass("active"),n.addClass("active")},n=function(e,n,t){return $(".nae-nws-wrap").velocity("scroll",{axis:"x",duration:300,easing:"swing",container:t.$(".nae-nws-cont"),offset:n.index()*n.width(),complete:function(){return r(e,n)}})},t=function(e,n,t){return n.velocity("scroll",{axis:"y",duration:300,easing:"swing",container:t.$(".nae-evs-wrap"),complete:function(){return r(e,n)}})},a=function(e,n,t,r,a){var i,s,o,c;return c=a.$(e),i=c.filter(".active"),s=i.index()-1+2*+!n,s>=0&&(o=c.eq(s)),(null!=o?o.size():void 0)||(o=c[n?"last":"first"]()),t(i,o,a)},Template.mainNewsAndEvents_news.events({"click .t-p-p":_.partial(a,".nae-nws-page",!0,n),"click .t-p-n":_.partial(a,".nae-nws-page",!1,n)}),Template.mainNewsAndEvents_events.events({"click .t-e-p":_.partial(a,".nae-evs-page",!0,t),"click .t-e-n":_.partial(a,".nae-evs-page",!1,t),"click .nae-evs-btn":function(e,n){return dataLayer&&dataLayer.push({event:"gaEvent",eventCategory:"listing_button",eventAction:"click"}),!0}}),Template.mainNewsAndEvents_events.helpers({events:function(){var e;return e=Global.findOne(),e?i(e):void 0},getPath:function(){var e;return e="",0===this.type&&(e="purProgram"),1===this.type&&(e="newsItem"),Router.path(e,{_id:this.seoHrl||this._id})}}),Template.mainNewsAndEvents_events_content.helpers({getAudienceName:function(){var e;return(null!=(e=Audience.findOne({_id:this.audience}))?e.name:void 0)||""}}),Template.mainNewsAndEvents_news_content.onRendered(function(){return Tracker.afterFlush(function(e){return function(){return e.$(".nae-nws-dsc").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:140,tolerance:15})}}(this))})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=function(){var e;return TAPi18n.subscribe("newsAlumni",{sort:{date:-1},limit:4,fields:{date:1,name:1,image:1,type:1,seoHrl:1}}),(null!=(e=this.data)?e.kmbs:void 0)!==!1?TAPi18n.subscribe("newsKmbs",{sort:{date:-1},limit:4,fields:{date:1,name:1,image:1,type:1,seoHrl:1}}):void 0},Template.mainNews.onCreated(function(){var e;return(null!=(e=this.data)?e.fromGlobal:void 0)||t(),this.autorun(function(e){return function(){var n,i,r;return(null!=(n=e.data)?n.fromGlobal:void 0)!==!0||(null!=(i=e.data)?i.globalSub.ready():void 0)&&!(null!=(r=Global.findOne().newsLower)?r.length:void 0)?t():void 0}}(this))}),Template.mainNews.helpers({newsLink:function(){var e;return e=this.kmbs===!1?"newsAlumniList":"newsList",Router.path(e)},news:function(){var e,t,n,i;if(n=[],e=[],this.fromGlobal){if(!Template.currentData().globalSub.ready())return[];t=Global.findOne()}return t&&(null!=(i=t.newsLower)?i.length:void 0)?(e=NewsAlumni.find({_id:{$in:t.newsLower}}).fetch(),n=NewsKmbs.find({_id:{$in:t.newsLower}}).fetch()):(e=NewsAlumni.find({},{sort:{date:-1},limit:4}).fetch(),this.kmbs!==!1&&(n=NewsKmbs.find({},{sort:{date:-1},limit:4}).fetch())),_.each(e,function(e){return e.__type="a"}),_.each(n,function(e){return e.__type="k"}),_.take(_.sortByOrder(e.concat(n),"date","desc"),4)}}),Template.mainNewsItem.helpers({isVideo:function(){return 2===this.type}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,n,r,t;n=55,t=function(){return Program.find().count()},r=_.once(function(){return TAPi18next.pluralExtensions.addRule("ua",{name:"Ukrainian",numbers:[0,1,2],plurals:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2}})}),Template.mainProgramsKmbs.onCreated(function(){return this.programCount=new ReactiveVar(!1),Meteor.call("getProgramCount",function(e){return function(n,r){if(n)throw n;return _.isNumber(r)?e.programCount.set(r):void 0}}(this)),this.autorun(function(){return"ua"===TAPi18n.getLanguage()?r():void 0})}),Template.mainProgramsKmbs.onRendered(function(){return this.$image=this.$(".pks-blk-img")}),Template.mainProgramsKmbs.helpers({mbaCount:function(){return 5},prgCount:function(){return Template.instance().programCount.get()||n},prgCountEnd:function(){var e;return e=Template.instance().programCount.get()||n,TAPi18n.__("pks.programs",{count:e})}}),Template.mainProgramsKmbs.events({"mouseenter .t-vid":function(e,n){var r;return null!=(r=n.find(".c-mba-bg-video-main"))?r.play():void 0},"mouseleave .t-vid":function(e,n){var r;return null!=(r=n.find(".c-mba-bg-video-main"))?r.pause():void 0},"mouseenter .pks-blk.-r":function(e,n){return n.$image.velocity("stop").velocity({scale:1.08},{duration:500,easing:"linear"})},"mouseleave .pks-blk.-r":function(e,n){return n.$image.velocity("stop").velocity({scale:1},{duration:500,easing:"linear"})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/",{name:"main",yieldRegions:{headerMain:{to:"header"}},onAfterAction:function(){return _hidePageLoader()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,i,n,a,r,s,o;r=7e3,t=function(e,t,i){var n,a,r,s,o;return a=_.isNumber(null!=i?i.index:void 0)?i.index:t.index.get(),r=t.players[a],r||(r=null!=(o=t.$(e).closest(".ms-item").find(".ms-ifrm")[0])?o.contentWindow:void 0),r&&(t.players[a]=r,(null!=i?i.changeToState:void 0)!==t.state[a])?(s=!t.state[a],t.state[a]=s,n=JSON.stringify({method:s?"play":"pause"}),r.postMessage(n,"*")):void 0},n=_.once(function(e){var t;return t=$f(e[0]),t.addEvent("ready",function(){return t.addEvent("finish",function(){return e.parent().find(".ms-preview").removeClass("hidden").addClass("active")})})}),Template.mainSlider.onCreated(function(){return this.players=[],this.state=[],this.index=new ReactiveVar(0),this.lastIndex=0,this.state[0]=!0}),a=function(e){return Session.set("mainFirstSlidePreview",e),this.$(".ms-preview").addClass("active"),this.$(".ms-item").eq(0).find(".ms-ifrm").addClass("hidden")},Template.mainSlider.onRendered(function(){return this.firstSlideProcessed=!1,this.showNextSlide=new Tracker.Dependency,this.autorun(function(e){return function(){var i,n,a;return n=e.findAll(".ms-item"),a=e.index.get(),n.length?(i=e.findAll(".ms-dots-i"),$(n[e.lastIndex]).removeClass("active"),$(i[e.lastIndex]).removeClass("active"),t(n[e.lastIndex],e,{index:e.lastIndex,changeToState:!1}),$(n[a]).addClass("active"),$(i[a]).addClass("active"),t(n[a],e,{index:a,changeToState:!0}),e.lastIndex=a):void 0}}(this)),this.autorun(function(e){return function(){var t;if(!e.firstSlideProcessed)return(null!=(t=Template.currentData().globalSub)?t.ready():void 0)?Tracker.afterFlush(function(){var e,t;return e=$("video.ms-ifrm:eq(0)"),e.length&&(t=e[0],t.onloadedmetadata=function(){return e.siblings(".ms-img").addClass("hidden"),t.play()}),this.firstSlideProcessed=!0}):void 0}}(this)),this.autorun(function(e){return function(){return e.showNextSlide.depend(),Tracker.nonreactive(function(){return s(1,!1)})}}(this)),o(this)}),Template.mainSlider.helpers({isFirstSlide:function(){return 0===this.index?"active":void 0},hasPlayClass:function(){return this.value.image?void 0:"t-play"},hasVideo:function(){return!!this.value.videoMP4||!!this.value.videoWEBM||!!this.value.videoOGV},isAutoplay:function(){return 0===this.index?{autoplay:!0}:void 0},videoSrc:function(e){var t;return t=Blaze._globalHelpers.assetUrl("GlobalVideo",this.value["video"+e.toLocaleUpperCase()]),t&&""!==t?""+t+"/video."+e:""},slides:function(){var e,t;return e=null!=(t=Global.findOne())?t.slides:void 0,e?_.sortBy(e,"position"):void 0},showPlay:function(){return!(!this.value.video||!this.value.image)},iframeData:function(){return _.extend(this.value,{className:$isYoutube(this.value.video)?"ms-ifrm":"ms-ifrm -vm",index:this.index})},firstSlidePreview:function(){return Session.get("mainFirstSlidePreview")||!1}}),o=function(e){return e.timeout&&(Meteor.clearTimeout(e.timeout),e.timeout=null),e.timeout=Meteor.setTimeout(function(){return e.showNextSlide.changed()},r)},s=function(e,t){var i,n,a,r,s;return n=(null!=(r=Global.findOne())&&null!=(s=r.slides)?s.length:void 0)||0,a=Template.instance(),n?(i=t?e:a.index.get()+e,0>i?i=n-1:i>n-1&&(i=0),a.index.set(i),o(a)):void 0},i=function(){return dataLayer&&dataLayer.push({event:"main_slider_button_switch"}),!0},Template.mainSlider.events({"click .t-left":function(){return i(),_.partial(s,-1,!1)()},"click .t-right":function(){return i(),_.partial(s,1,!1)()},"click .t-dot":function(){return i(),s(this.index,!0)()},"click .t-play":function(e,i){return dataLayer&&(dataLayer.push({event:"watch_video_main_page_button"}),dataLayer.push({event:"video_play_main_page"})),t(e.currentTarget,i)},"click .t-play-ex":function(){return new Modal({name:"mainSliderIframe",data:{video:this.value.video,index:0,isModal:!0},classNames:{wrap:"ms-mw-wrap",panel:"ms-mw-panel",close:"ms-mw-close"}})},"load .ms-ifrm":function(e,t){var i;return i=t.$(e.currentTarget),i.hasClass("hidden")?(Meteor.setTimeout(function(){return i.removeClass("hidden").parent().find(".ms-preview").removeClass("active").addClass("hidden")},500),n(i)):void 0}}),Template.mainSliderIframe.helpers({shouldAutoplay:function(){var e;return 0===(null!=(e=this.data)?e.index:void 0)?"&autoplay=1":void 0},shouldLoop:function(){var e;return 0!==(null!=(e=this.data)?e.index:void 0)?"&loop=1":void 0},shouldHideControls:function(){return this.data.className?"&showinfo=0&controls=0":void 0},className:function(){return this.data.className||"ms-mw-ifrm"}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,a,n;n=["MbaPresident","MbaExecutive","MbaAgro","MbaBanking"],t=this,r=function(e){switch(e){case"MbaPresident":return{shortName:"presidents",mask:"mbaMaskPresidents"};case"MbaExecutive":return{shortName:"executive",mask:"mbaMaskExecutive"};case"MbaLeadership":return{shortName:"leadership",mask:"mbaMaskLeadership"};case"MbaBanking":return{shortName:"bank",mask:"mbaMaskBanking"};case"MbaAgro":return{shortName:"agro",mask:"mbaMaskAgro"}}},Template.mbaList.helpers({mbaList:function(){return Template.instance().mbsReady.get().length!==n.length?!1:_.map(n,function(e){var a;return a=t[e].findOne(),a?_.extend(r(e),{name:a.name,explain:a.forWhom,video:a.video}):!1})},event:function(){return null;return Event.findOne()}}),Template.mbaList.onCreated(function(){var e;return this.mbsReady=new ReactiveVar([]),e=_.after(2,function(){return _hidePageLoader()}),TAPi18n.subscribe("mbaEvent",e),_.each(n,function(t){return function(r){return TAPi18n.subscribe(""+r+"ForList",{onReady:function(){var r;return r=t.mbsReady.get(),r.push(!0),t.mbsReady.set(r),e()}})}}(this)),__addSeoMetaTags(MbaList.findOne())}),a=function(e,t){return t.desc?Tracker.afterFlush(function(e){return function(){var t,r;try{t=e.$(".mbse-desc")}catch(a){return r=a,!1}return t.data("dotdotdot")&&t.dotdotdot("destroy"),t.dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,height:150,tolerance:15})}}(this)):void 0},Template.mbaList.onRendered(function(){return Event.find().observeChanges({added:_.bind(a,this),changed:_.bind(a,this)})}),Template.mbaList.events({"mouseenter .t-program":function(e){var t;return t=e.currentTarget.querySelector(".mbs-video"),$(t).velocity("stop").velocity({scale:1.1},{duration:500,easing:"linear",complete:function(){return t.play()}})},"mouseleave .t-program":function(e){var t;return t=e.currentTarget.querySelector(".mbs-video"),t.pause(),$(t).velocity("stop").velocity({scale:1},{duration:500,easing:"linear"})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/mba",{name:"mbaList",waitOn:function(){return TAPi18n.subscribe("mbaList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,n,t,a,r,o,i,s;n=this,r=function(e){return e?moment(e).format("DD MMMM YYYY"):null},o=function(e){var n,t;return n={en:{m:function(e){return"month"+(1!==e?"s":"")},w:function(e){return"week"+(1!==e?"s":"")},d:function(e){return"day"+(1!==e?"s":"")}},ua:{m:function(e){return["місяців","місяць","місяці"][getSlavicForm(e)]},w:function(e){return["неділь","неділя","неділі"][getSlavicForm(e)]},d:function(e){return["днів","день","дні"][getSlavicForm(e)]}}},t=n[TAPi18n.getLanguage()][(null!=e?e.type:void 0)||"m"]((null!=e?e.length:void 0)||1),""+((null!=e?e.length:void 0)||1)+" "+t},a=function(e){return null==e&&(e=0),e?(e+="",e.indexOf(" ")>-1?e:(e||(e=0),_.reduce(e.split("").reverse(),function(e,n,t){return t%3===0&&e.push("&nbsp;"),e.push(n),e},[]).reverse().join(""))):e},t=function(e){return _.map(e.contactsItem,function(e){var n,t;return e.coach?(n=(null!=(t=Teammate.find({_id:e.coach}).fetch())?t[0]:void 0)||!1)?(e.own={_id:n._id,firstName:n.firstName,lastName:n.lastName,spec:n.occupation,email:n.email,phones:n.phone,image:n.image,smallImage:n.smallImage,answersQuestions:n.answersQuestions},e):e:(e.own.answersQuestions=!0,e)})},s=function(e){var n,t,a,r,o,i,s,u,l;return n={directorId:(null!=(t=e[0])&&null!=(a=t.own)?a._id:void 0)||(null!=(r=e[0])&&null!=(o=r.own)?o.email:void 0)||null,teammateId:(null!=(i=e[0])&&null!=(s=i.own)?s._id:void 0)||(null!=(u=e[0])&&null!=(l=u.own)?l.email:void 0)||null},_.each(e,function(e){return e.director?n.directorId=e.own._id||e.own.email:n.teammateId=e.own._id||e.own.email}),n},i=function(e){var n;return{title:e.seoTitle||e.name,description:e.shareDescription||(null!=(n=e.shortDesc)?n.replace(/(<([^>]+)>)/gi,""):void 0)||"",thumbnail:function(){return thumbnail(e.shareImage||"/img/mba/share-mba-"+e.videoName+".png")}}},Template.mbaProgram.helpers({subscriptionsReady:function(){return Template.instance().subsReady.get()},program:function(){var e,u,l,c;return u=Template.instance(),e=null!=(l=n[u.collName])&&null!=(c=l.find().fetch())?c[0]:void 0,_.isEmpty(e)?!1:(e.link=u.link,e.start=r(e.startDate),e.duration=o(e.duration),e.cost=a(e.price),e.costUSD=a(e.priceUSD),e.mask=u.mask,e.videoName=u.videoName.get(),e.structureModules=_.isString(e.structureModules)?e.structureModules.split("\n")||[""]:"",e.structureBlocks=_.map(e.structureBlocks,function(e){var n;return"string"!=typeof e.desc&&(e.desc=""),e.courses="string"==typeof e.courses?e.isText===!1?(null!=(n=e.courses)?n.split("\n"):void 0)||[""]:[e.courses]:[""],e}),e.contactsItem=t(e),e.stuff=s(e.contactsItem),e.shareData=i(e),e)}}),Template.mbaProgram.onCreated(function(){return this.videoName=new ReactiveVar(null),this.subsReady=new ReactiveVar(null),this.autorun(function(e){return function(){var n;switch(e.link=Router.current().params.link,e.link){case"presidents":e.mask="mbaMaskPresidents",e.collName="MbaPresident",n="1";break;case"executive":e.mask="mbaMaskExecutive",e.collName="MbaExecutive",n="2";break;case"leadership":e.mask="mbaMaskLeadership",e.collName="MbaLeadership",n="3";break;case"master-of-banking-and-finance":e.mask="mbaMaskBanking",e.collName="MbaBanking",n="5";break;case"agro":e.mask="mbaMaskAgro",e.collName="MbaAgro",n="4";break;default:return Router.go("notFound")}return e.videoName.set(n),TAPi18n.subscribe(""+e.collName+"Full",Router.getLanguage(),function(){return e.subsReady.set(!0),_hidePageLoader()})}}(this)),this.eventNames=[null,null,"mba_news_and_events_last_module","mba_giving_program","mba_program_structure","mba_learning_formats","mba_what_you_need_for_admission",null,"mba_contact_persons","mba_events_for_managers","subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={}}),Template.mbaProgram.onRendered(function(){return this.autorun(function(e){return function(){return e.subsReady.get()?Tracker.afterFlush(function(){var n,t,a,r,o,i,s,u;for(i=$("#topper"),t=["mba-intro","mba-actions","mba-news-wrap","mba-vista-wrap","mba-ste-wrap","mba-formats-wrap","mba-ent-wrap","mba-ent-action","mba-cts-wrap","mba-evs-wrap","rss-wrap"],r=t.length;r--;)n=t[r],e.containers[n]=$("."+n);for(s=i.height(),r=0;r<t.length;)n=t[r],o=t[r-1],a=null!=(u=e.containers[n])?u.outerHeight(!0):void 0,e.containerHeights[n]=a,e.containerScrollTops[n]=o?e.containerScrollTops[o]+e.containerHeights[o]+(1===r?s:0):0,e.containerScrollEvents[n]=null,r++;return $(window).on("scroll.mba-wrap",function(n){return _.bind(__windowScrollEvents,e,n)()})}):void 0}}(this))}),Template.mbaProgram.onDestroyed(function(){return $("window").off("scroll.mba-wrap")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/mba/:link",{name:"mbaProgram"})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,i,s,r,u,a;a=["aboutKMBS","coachList","team","alumni","newsList"],Session.set("showSearch",!1),Template.menu.onCreated(function(){return this.lastMenuIndex=new ReactiveVar(null),this.menuIsActive=new ReactiveVar(!1),this.smallMenuIsActive=new ReactiveVar(!1),this.autorun(function(){return TAPi18n.getLanguage(),TAPi18n.subscribe("directions"),TAPi18n.subscribe("newsKmbs",{fields:{name:1,date:1,seoHrl:1},sort:{date:-1},limit:2}),TAPi18n.subscribe("events",{query:{type:_eventTypeIds.MBA,startDate:{$gt:moment().toDate()}},fields:{name:1,startDate:1,image:1,type:1,seoHrl:1},sort:{startDate:1},limit:1})}),this.subscribe("mbaEventMenu"),this.subscribe("purEventMenu")}),s=function(e,t,n){return function(){var i,s;return s=this[e].get()?n:0,i=this.$("."+t),i.velocity("finish").velocity({height:s},{duration:200,easing:"ease-in"})}},Template.menu.onRendered(function(){var e,t,n,i;return e=this.$(".t-b-menu"),n=this.$(".t-s-menu"),t="31.3rem",i="5rem",this.autorun(function(n){return function(){var i;return i=n.menuIsActive.get()?t:0,e.velocity("finish").velocity({height:i},{duration:200,easing:"ease-in"})}}(this)),this.autorun(function(e){return function(){var t,s;return t=_.contains(a,null!=(s=Router.current().route)?s.getName():void 0)?e.menuIsActive.get()?0:i:e.smallMenuIsActive.get()?i:0,n.velocity("finish").velocity({height:t},{duration:200,easing:"ease-in"})}}(this))}),Template.menu.helpers({keepCurrentSmall:function(){var e;return _.contains(a,null!=(e=Router.current().route)?e.getName():void 0)?"a-route":Template.instance().smallMenuIsActive.get()?"a-route":void 0},keepCurrent:function(e){var t;return t=Template.instance(),t.menuIsActive.get()&&t.lastMenuIndex.get()===e?"a-route":void 0},showSearch:function(){return Session.get("showSearch")?"active":void 0},isActive:function(){return this.lang!==TAPi18n.getLanguage()?"active":void 0}}),u=function(e,t){var n;return n=!Session.get("showSearch"),Session.set("showSearch",n),n?t.$(".s-input").focus():void 0},r=function(e,t){var n,i;return n=t.find(".s-input"),i=n.value,n.value="",i=decodeURI(i),i=i.toLowerCase(),i=i.trim(),u(null,t),Session.set("searchQuery",i),Session.set("searchPage",1),Router.go("search")},n=_.debounce(function(e,t){return t.menuIsActive.set(e)},700),t=_.debounce(function(e,t){return t.lastMenuIndex.set(e),t.$(".m-sub-wrap").removeClass("active").eq(e).addClass("active")},700),i=_.debounce(function(e,t){return t.smallMenuIsActive.set(e)},700),Template.menu.events({"click a":function(e,t){return t.menuIsActive.set(!1),t.smallMenuIsActive.set(!1),n(!1,t),i(!1,t)},"click .t-search":u,"click .m-lang-i":function(e){return e.stopPropagation(),Router.setLanguage(this.lang)},"keyup .s-input":function(e,t){return 13===e.keyCode?r.call(this,e,t):void 0},"click .t-do-search":r,"mouseenter .t-mis":function(e,t){return n(!1,t),i(!0,t)},"mouseenter .t-mi-a":function(e,s){return s.$(e.currentTarget).hasClass("t-mi")?(t(this.index,s),i(!1,s),n(!0,s)):void n(!1,s)},"mouseenter .m-sub":function(e,t){return t.menuIsActive.get()&&n(!0,t),t.smallMenuIsActive.get()?i(!0,t):void 0},"mouseleave .m-sub":function(e,t){return n(!1,t),i(!1,t)},"mouseleave .m-bot-wrap":function(e,t){return n(!1,t),i(!1,t)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,n,i;t=function(e){var t,n,i;return TAPi18n.getLanguage(),n={fields:{name:1,startDate:1,type:1,seoHrl:1},sort:{startDate:1},limit:1},t=e.find(),i=t.count()?{_id:t.fetch()[0].events}:{type:_eventTypeIds.MBA,startDate:{$gt:moment().toDate()}},Event.findOne(i,n)},n=function(e,t){var n;return(null!=(n=e.findOne())?n.image:void 0)||t},Template.menuMBA.helpers({event:_.partial(t,MbaEventMenu),imageUrl:_.partial(n,MbaEventMenu,"/img/menuMbaLogo.png")}),Template.menuPUR.helpers({news:function(){var e;return TAPi18n.getLanguage(),e=NewsKmbs.find({},{limit:2,sort:{date:-1}}),_.sortBy(e.fetch(),"date")}}),Template.menuCorp.onCreated(function(){return Meteor.call("purCounters",1,function(e,t){return(null!=t?t.directions:void 0)?Session.set("menu.directions",t.directions):void 0})}),Template.menuCorp.helpers({head:function(){var e,t;return TAPi18n.getLanguage(),e=Direction.find({},{sort:{position:-1}}).fetch(),t=e.length%2?e.slice(0,Math.ceil(e.length/2)):e.slice(0,1+e.length/2)},tail:function(){var e,t;return TAPi18n.getLanguage(),e=Direction.find({},{sort:{position:-1}}).fetch(),t=e.slice(e.length%2?Math.ceil(e.length/2):1+e.length/2)},event:_.partial(t,PurEventMenu),imageUrl:_.partial(n,PurEventMenu,"/img/menuPurLogo.png")}),Template.menuCorp_direction.helpers({getCount:function(){var e,t;return e=Session.get("menu.directions"),(null!=(t=_.find(e,{_id:this._id}))?t.count:void 0)||0},showItem:function(){var e,t,n;return t=Session.get("menu.directions"),e=(null!=(n=_.find(t,{_id:this._id}))?n.count:void 0)||0,_.isNumber(e)&&e>0?!0:!1}}),i=function(){return Tracker.afterFlush(function(e){return function(){return e.$(".m-sub-evs-bl-n").dotdotdot({ellipsis:"...",wrap:"word",fallbackToLetter:!0,watch:!0,tolerance:5})}}(this))},Template.eventsMenuItem.onRendered(function(){return _.bind(i,this)()}),Template.newsMenuItem.onRendered(function(){return _.bind(i,this)()})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsAlumniItem.helpers({news:function(){var e,r,t;return e=Router.current().params._id,t={},t["seoHrl."+Router.getLanguage()]=e,r={$or:[{_id:e},t]},NewsAlumni.findOne(r)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/newsAlumni/:_id",{name:"newsAlumniItem",onBeforeAction:function(){return $(window).scrollTop(0),this.next()},waitOn:function(){var e,n,r;return e=this.params._id,r={},r["seoHrl."+Router.getLanguage()]=e,n={$or:[{_id:e},r]},[TAPi18n.subscribe("newsAlumniItem",n,{fields:{coverImage:1,date:1,gallery:1,image:1,name:1,shortDesc:1,subject:1,text:1,type:1,video:1,seoHrl:1}},function(){var e;return e=NewsAlumni.findOne(n),e?void 0:Router.go("notFound")}),TAPi18n.subscribe("newsAlumni",{fields:{coverImage:1,date:1,image:1,name:1,subject:1,seoHrl:1}})]},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=12,Template.newsAlumniList.helpers({newsExistByFilter:function(){var e;return e={subject:this.type},NewsAlumni.find(e).fetch().length},isActive:function(){var e;return e=Template.instance().type.get(),e===this.type?"active":void 0},news:function(){var e,t,i,n;return t={},i=Template.instance(),e=i.limit.get(),n=i.type.get(),n&&(t.subject=n),NewsAlumni.find(t,{limit:e,sort:{date:-1}})},displayShowMore:function(){var e,t,i,n,s;return i={},n=Template.instance(),t=n.limit.get(),s=n.type.get(),s&&(i.subject=s),e=NewsAlumni.find(i).count(),t>=e?"hidden":void 0},getSubject:function(){var e;return e={typeId:"undefined"!=typeof this&&null!==this?this.subject:void 0},NewsSubject.findOne(e)}}),Template.newsAlumniList.onCreated(function(){var e;return this.limit=new ReactiveVar(t),this.type=new ReactiveVar(null),e=Router.current().params.query.type,TAPi18n.subscribe("newsAlumni",{fields:{date:1,coverImage:1,name:1,subject:1,seoHrl:1}},_hidePageLoader),e&&this.type.set(parseInt(e)),__addSeoMetaTags(NewsAlumniList.findOne())}),Template.newsAlumniList.events({"click .nsa-menu-item":function(e,i){return i.type.set(this.type),i.limit.set(t)},"click .cos-show-more":function(e,i){return i.limit.set(i.limit.get()+t)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/newsAlumni",{name:"newsAlumniList",waitOn:function(){return TAPi18n.subscribe("newsAlumniList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.newsItem.helpers({news:function(){var e,r,t;return e=Router.current().params._id,t={},t["seoHrl."+Router.getLanguage()]=e,r={$or:[{_id:e},t]},NewsKmbs.findOne(r)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/news/:_id",{name:"newsItem",onBeforeAction:function(){return $(window).scrollTop(0),this.next()},waitOn:function(){var e,r,o;return e=this.params._id,o={},o["seoHrl."+Router.getLanguage()]=e,r={$or:[{_id:e},o]},[TAPi18n.subscribe("newsKmbsItem",r,{fields:{coverImage:1,date:1,gallery:1,image:1,name:1,shortDesc:1,text:1,type:1,video:1,seoHrl:1,seoTitle:1,shareDescription:1,shareImage:1}},function(){var e;return e=NewsKmbs.findOne(r),e?void 0:Router.go("notFound")}),TAPi18n.subscribe("newsKmbs",{fields:{date:1,coverImage:1,image:1,name:1,seoHrl:1}})]},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=12,Template.newsList.helpers({news:function(){var e,t,i;return e={},i=Template.instance(),t=i.limit.get(),NewsKmbs.find(e,{limit:t,sort:{date:-1}})},displayShowMore:function(){var e,t;return t=Template.instance().limit.get(),e=NewsKmbs.find().count(),t>=e?"hidden":void 0}}),Template.newsList.onCreated(function(){return this.limit=new ReactiveVar(t),TAPi18n.subscribe("newsKmbs",{fields:{name:1,coverImage:1,date:1,seoHrl:1}},_hidePageLoader),__addSeoMetaTags(NewsKmbsList.findOne())}),Template.newsList.events({"click .cos-show-more":function(e,i){return i.limit.set(i.limit.get()+t),dataLayer&&dataLayer.push({event:"gaEvent",eventCategory:"news",eventAction:"show_more"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/news",{name:"newsList",waitOn:function(){return TAPi18n.subscribe("newsKmbsList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.purList.onCreated(function(){return __addSeoMetaTags(ProgramList.findOne()),this.autorun(function(){var e;return Router.current().params.query,(e=Session.get("purListScrollY"))?$("body, html").scrollTop(e):void 0})})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/pur",{name:"purList",waitOn:function(){return TAPi18n.subscribe("programList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,e,t;t=function(r){var e,t,n;return e={directorId:r[0].coach||(null!=(t=r[0].own)?t.email:void 0),teammateId:r[0].coach||(null!=(n=r[0].own)?n.email:void 0)},_.each(r,function(r){var t,n;return r.director?e.directorId=r.coach||(null!=(t=r.own)?t.email:void 0):e.teammateId=r.coach||(null!=(n=r.own)?n.email:void 0)}),e},e=function(){var r,e,t;return r=Router.current().params._id,t={},t["seoHrl."+Router.getLanguage()]=r,e={$or:[{_id:r},t]},Program.findOne(e)},Template.purProgram.helpers({program:function(){var r,n;return r=e(),(null!=(n=r.contactsItem)?n.length:void 0)&&(r.stuff=t(r.contactsItem)),r},hasCoaches:function(){var r,e,t,n;return(null!=(r=this.program)&&null!=(e=r.experts)?e.length:void 0)||(null!=(t=this.program)&&null!=(n=t.mainAuthors)?n.length:void 0)}}),Template.purProgram.onCreated(function(){return this.eventNames=[null,null,"pur_audience_program","pur_giving_program","pur_program_structure","pur_teachers_and_experts","pur_contact_person",null,"subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={},__addSeoMetaTags(e())}),Template.purProgram.onRendered(function(){var r,e,t,n,o,a,i,c,u,l;for(c=$("#topper"),e=["pur-topper","pur-actions","pur-audience","mba-vista-wrap","pur-ste-wrap","pur-coaches","pur-cts-wrap","pur-evs-wrap","rss-wrap"],n=e.length;n--;)r=e[n],this.containers[r]=$("."+r);for(u=c.height(),n=0;n<e.length;)r=e[n],a=e[n-1],t=null!=(l=this.containers[r])?l.outerHeight(!0):void 0,this.containerHeights[r]=t,this.containerScrollTops[r]=a?this.containerScrollTops[a]+this.containerHeights[a]+(1===n?u:0):0,this.containerScrollEvents[r]=null,n++;return $(window).on("scroll.pur-wrap",function(r){return function(e){return _.bind(__windowScrollEvents,r,e)()}}(this)),o=Router.current().params._id,(i=Session.get("pur-"+o+"-scrollY"))?$("body, html").scrollTop(i):void 0}),Template.purProgram.onDestroyed(function(){return $("window").off("scroll.pur-wrap")})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/pur/:_id",{name:"purProgram",waitOn:function(){var e,r,t;return e=this.params._id,t={},t["seoHrl."+Router.getLanguage()]=e,r={$or:[{_id:e},t]},TAPi18n.subscribe("program",r,{fields:{applicationForm:1,audAndEvents:1,audienceTitle:1,audience:1,benefits:1,benefitsTitle:1,experts:1,contactsItem:1,direction:1,duration:1,enterReqs:1,hideDay:1,hideDayNote:1,image:1,mainAuthors:1,masterClass:1,name:1,partners:1,period:1,price:1,priceNote:1,recommendBlock:1,recommend:1,region:1,requirementsBlock:1,reviewBlock:1,reviews:1,shortDesc:1,seoHrl:1,startDate:1,structure:1,structureBlocks:1,structureListName:1,structureSingleName:1,time:1,whatProgramGives:1,seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}},Router.getLanguage())},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.onAfterAction(function(){return Session.set("rssRouteChanged",!0)})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.rss.onCreated(function(){return this.isSubmitted=new ReactiveVar(!1),this.subscribed=new ReactiveVar([]),this.step=new ReactiveVar(1),this.autorun(function(e){return function(){var t,i;return t=Session.get("rssRouteChanged"),t?(Template.instance().step.set(1),e.isSubmitted.set(!1),null!=(i=e.viewmodel)&&i.email(""),Session.set("rssRouteChanged",!1)):void 0}}(this))}),Template.rss.helpers({checkboxLabel:function(){return"rss.themes."+this.valueOf()},checkboxCounts:function(){return[0,1,2]},isCurrentStep:function(e){return e!==Template.instance().step.get()?"hidden":void 0}}),Template.rss.events({"keyup .rss-inp":function(e,t){return 13===e.keyCode?t.$(".t-sub").click():void 0},"click .t-sub":function(e,t){return t.isSubmitted.set(!0),e.currentTarget.className.indexOf("error")>-1?void 0:t.viewmodel.invalidEmail()?void 0:Meteor.call("rssIsSubscribed",t.viewmodel.email(),function(e,i){var s;return i===!1?(t.isSubmitted.set(!1),t.step.set(2)):(s=t.subscribed.get(),s.push(t.viewmodel.email()),t.subscribed.set(s))})},"click .t-sel":function(e,t){var i;return t.isSubmitted.set(!0),e.currentTarget.className.indexOf("error")>-1?void 0:t.viewmodel.noSelected()?void 0:(i=t.viewmodel.toJS(),Meteor.call("rssSubscribe",i,function(e,i){return i===!0?(dataLayer&&dataLayer.push({event:"subscribe_finish"}),t.isSubmitted.set(!1),t.step.set(3)):void 0}))},"click .rss-link":function(e,t){return dataLayer&&dataLayer.push({event:"goto_"+this.type}),!0}}),Template.rss.viewmodel({email:"",themes:[],invalidEmail:function(){var e;if(Template.instance().isSubmitted.get())return e=Template.instance(),Validator.email(this.email())?!0:_.contains(e.subscribed.get(),this.email())?!0:void 0},errorEmail:function(){return Template.instance().isSubmitted.get()?_.contains(Template.instance().subscribed.get(),this.email())?TAPi18n.__("errors.rss.subbed"):this.invalidEmail()?TAPi18n.__("errors.rss.email"):"":""},noSelected:function(){return Template.instance().isSubmitted.get()?this.themes().length?"":"ERROR":void 0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/search",{name:"search",onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,r,n,s,a,c,o,h,u,i,p;t=this,n=1,r=20,h=["MbaPresident","MbaExecutive","MbaLeadership","MbaBanking","MbaAgro"],s=["pur","event","coach","teammate","corProg","about","alumni","newsKmbs","newsAlumni"],i=function(){var e,t;return t=Session.get("searchQuery"),_.isString(t)&&t.length?(e=Router.getLanguage(),_.each(h,function(r){return TAPi18n.subscribe(""+r+"Search",t,e)}),_.each(s,function(r){return TAPi18n.subscribe(""+r+"Search",t,e)})):void 0},c=function(e){switch(e){case"MbaPresident":return"presidents";case"MbaExecutive":return"executive";case"MbaLeadership":return"leadership";case"MbaBanking":return"bank";case"MbaAgro":return"agro"}},a=function(e){return e?e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):void 0},o=function(e,t){var r,n;n=function(e){var t,r,n;for(n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),r=[],t=void 0;t=n.nextNode();)r.push(t);return r},r=function(e){var r,n,s,a;for(s=void 0;(s=e.nodeValue.toLocaleLowerCase().indexOf(t,s))>-1;)r=e.splitText(s+t.length),n=e.splitText(s),a=document.createElement("span"),a.className="src-hl",a.appendChild(n),r.parentNode.insertBefore(a,r),e=r},n(e).forEach(r)},u=function(e){var t,r;return r=document.createElement("div"),r.appendChild(e.cloneNode(!0)),t=r.innerHTML,r=e=null,t},Template.search.onCreated(function(){return this.pageCount=new ReactiveVar(n),this.searchArrayLength=new ReactiveVar(0),Session.set("searchPage",n),this.autorun(function(){return i()})}),p=function(e,t){var r,n;return n={$or:[]},r={},r["firstName."+t]=e,n.$or.push(r),r={},r["lastName."+t]=e,n.$or.push(r),Coach.find(n).fetch()},Template.search.helpers({getSearchQuery:function(){return Session.get("searchQuery")},getPages:function(){var e,t,r,n;for(n=Template.instance(),t=n.pageCount.get(),r=[],e=1;t>=e;)r.push(e),e++;return r},isActivePage:function(){var e;return e=Session.get("searchPage"),+this===e},isProgram:function(){return"purProgram"===this.$type||"mbaProgram"===this.$type},isPerson:function(){return"coachItem"===this.$type||"teamItem"===this.$type},isInfo:function(){return"aboutKMBS"===this.$type||"alumni"===this.$type||"corProgram"===this.$type},isNews:function(){return"newsItem"===this.$type||"newsAlumniItem"===this.$type},typeEquals:function(e){return this.$type===e},getEventType:function(){var e;if(this.type)return e={_id:this.type},EventType.findOne(e)},searchArrayLength:function(){var e;return e=Template.instance(),e.searchArrayLength.get()},alEnd:function(e){var t,r;return t=[2,0,1,1,1,2],r=0,r=e%100>4&&20>e%100?2:t[Math.min(e%10,5)],TAPi18n.__("src.alEnd"+r)},highlightWysiwyg:function(e){var t,r,n;return n=Template.instance(),r=Session.get("searchQuery"),t=document.createElement("div"),t.innerHTML=e,o(t,r),u(t)},highlight:function(e){var t,r,n;return n=Template.instance(),t=Session.get("searchQuery"),r=new RegExp(a(t),"gi"),e.replace(r,'<span class="src-hl">$&</span>')},getSearchArray:function(){var e,n,s,o,u,i,l,$,m,g,f,d,y,v,M,P,b;if(b=Template.instance(),v=Session.get("searchPage"),f=(v-1)*r,u=f+r,M=Session.get("searchQuery"),P=new RegExp(a(M),"i"),l=Router.getLanguage(),y=[],_.isString(M)&&M.length){for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["shortDesc."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["name."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["desc."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["courses."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["text."+l]=P,d.$or.push(g),o=Program.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="purProgram",s.$index=y.length+1,y.push(s);for(n=p(P,l),m={"mainAuthors.coach":{$in:[]}},i={"experts.coach":{$in:[]}},$=n.length;$--;)e=n[$],m["mainAuthors.coach"].$in.push(e._id),i["experts.coach"].$in.push(e._id);for(o=Program.find(m).fetch(),$=o.length;$--;)s=o[$],s.$type="purProgram",s.$index=y.length+1,y.push(s);for(o=Program.find(i).fetch(),$=o.length;$--;)s=o[$],s.$type="purProgram",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={name:P},d.$or.push(g),g={},g["shortDesc."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["name."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["desc."+l]=P,d.$or.push(g),g={structureBlocks:{$elemMatch:{}}},g.structureBlocks.$elemMatch["courses."+l]=P,d.$or.push(g),_.each(h,function(e){var r;for(o=t[e].find(d).fetch(),$=o.length,r=[];$--;)s=o[$],s.$type="mbaProgram",s.$index=y.length+1,s.link=c(e),r.push(y.push(s));return r}),d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["desc."+l]=P,d.$or.push(g),g={about:{$elemMatch:{}}},g.about.$elemMatch["name."+l]=P,d.$or.push(g),g={approach:{$elemMatch:{}}},g.approach.$elemMatch["name."+l]=P,d.$or.push(g),o=About.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="aboutKMBS",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["desc."+l]=P,d.$or.push(g),g={projects:{$elemMatch:{}}},g.projects.$elemMatch["name."+l]=P,d.$or.push(g),o=Alumni.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="alumni",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={clientTypes:{$elemMatch:{}}},g.clientTypes.$elemMatch["name."+l]=P,d.$or.push(g),g={formats:{$elemMatch:{}}},g.formats.$elemMatch["name."+l]=P,d.$or.push(g),o=CorporateProgram.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="corProgram",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["desc."+l]=P,d.$or.push(g),o=Event.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="eventItem",s.$index=y.length+1,y.push(s);for(o=p(P,l),$=o.length;$--;)s=o[$],s.$type="coachItem",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["firstName."+l]=P,d.$or.push(g),g={},g["lastName."+l]=P,d.$or.push(g),o=Teammate.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="teamItem",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["shortDesc."+l]=P,d.$or.push(g),g={},g["text."+l]=P,d.$or.push(g),o=NewsKmbs.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="newsItem",s.$index=y.length+1,y.push(s);for(d={$or:[]},g={},g["name."+l]=P,d.$or.push(g),g={},g["shortDesc."+l]=P,d.$or.push(g),g={},g["text."+l]=P,d.$or.push(g),o=NewsAlumni.find(d).fetch(),$=o.length;$--;)s=o[$],s.$type="newsAlumniItem",s.$index=y.length+1,y.push(s)}return $=y.length,b.searchArrayLength.set($),y=y.slice(f,u),b.pageCount.set(Math.ceil($/r)),y}}),Template.search.events({"submit .src-form":function(e,t){var r,s,a,c;return e.preventDefault(),a=e.currentTarget,r=$(a),s=r.find("input"),c=s.val(),c=decodeURI(c),c=c.toLowerCase(),c=c.trim(),Session.set("searchQuery",c),Session.set("searchPage",n)},"click .src-page-back":function(e,t){var r;return r=Session.get("searchPage"),r!==n?Session.set("searchPage",--r):void 0},"click .src-page-next":function(e,t){var r,n;return n=Session.get("searchPage"),r=t.pageCount.get(),n!==r?Session.set("searchPage",++n):void 0},"click .src-page":function(e,t){return Session.set("searchPage",+this)}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/team",{name:"team",waitOn:function(){return TAPi18n.subscribe("teammateList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t;t=24,Template.team.helpers({teammates:function(){var e;return e=Session.get("teamLimit"),Teammate.find({},{limit:e})},displayShowMore:function(){var e,t;return t=Session.get("teamLimit"),e=Teammate.find().count(),t>=e?"hidden":void 0},getImage:function(){return("undefined"!=typeof this&&null!==this?this.bigImage:void 0)||("undefined"!=typeof this&&null!==this?this.image:void 0)}}),Template.team.onCreated(function(){var e;return e=Session.get("teamLimit"),e||Session.set("teamLimit",t),TAPi18n.subscribe("teammates",{fields:{bigImage:1,desc:1,email:1,firstName:1,image:1,lastName:1,phone:1,position:1,occupation:1,seoHrl:1},sort:{position:-1}},_hidePageLoader),__addSeoMetaTags(TeammateList.findOne())}),Template.team.onRendered(function(){var e;return(e=Session.get("teamScrollY"))?$("body, html").scrollTop(e):void 0}),Template.team.events({"click .cos-show-more":function(e,i){return Session.set("teamLimit",Session.get("teamLimit")+t)},"click .cos-coach-link":function(e,t){return Session.set("teamScrollY",window.scrollY),dataLayer&&dataLayer.push({event:"learn_more_coach"}),!0}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/kmbs/team/:_id",{name:"teamItem",onBeforeAction:function(){return $(window).scrollTop(0),this.next()},waitOn:function(){var e,t,o;return e=this.params._id,o={},o["seoHrl."+Router.getLanguage()]=e,t={$or:[{_id:e},o]},TAPi18n.subscribe("teamItem",t,{fields:{bigImage:1,email:1,firstName:1,lastName:1,desc:1,image:1,occupation:1,phone:1,seoHrl:1}},function(){var e;return e=Teammate.findOne(t),e?void 0:Router.go("notFound")})},onAfterAction:_hidePageLoader})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.teamItem.helpers({data:function(){var e,t,o,r,a;return o=Router.current().params._id,a={},a["seoHrl."+Router.getLanguage()]=o,r={$or:[{_id:o},a]},e=Teammate.findOne(r),t={coach:e,label:e.occupation}}}),Template.teamItem.onCreated(function(){return $("body").addClass("no-overflow")}),Template.teamItem.onDestroyed(function(){return $("body").removeClass("no-overflow")}),Template.teamItem.events({"click .mw-close":function(e,t){return history.back()}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Router.route("/timeline",{name:"timeline",waitOn:function(){return TAPi18n.subscribe("historyList",{fields:{seoTitle:1,metaDescription:1,shareDescription:1,metaKeywords:1,shareImage:1}})}})}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.timeline.helpers({history:function(){return History.find({},{sort:{position:1}})}}),Template.timeline.onCreated(function(){return TAPi18n.subscribe("history",{fields:{name:1,desc:1,image:1,position:1,column:1}},_hidePageLoader),__addSeoMetaTags(HistoryList.findOne())})}();

!function(){var n=Package.underscore._,e="project",a="project";"project"!=e&&(a=TAPi18n.packages[e].namespace),TAPi18n.languages_names.en=["English","English"],TAPi18n._enable({helper_name:"_",supported_languages:null,i18n_files_route:"/tap-i18n",cdn_path:null}),TAPi18n.languages_names.ua=["Ukrainian","Українська"]}();

!function(){var e=Package.underscore._,t="project",a="project";"project"!=t&&(a=TAPi18n.packages[t].namespace),translations={},translations[a]={404:"Такої сторінки не iснує.",logoUrl:"logo.png",today:"сьогодні",ready:"Готово",upload:"Завантажити фото",errors:{error:"Помилка",generic:"Помилка! Сайт, здається, зламався :( Спробуйте, будь-ласка, пізніше!",required:"Увага! Ви не заповнили необхідне поле","invalid-email":"Будь ласка, вкажіть дійсний email","invalid-phone":"Будь ласка, вкажіть коректний номер","file-too-large":"Завантажте файл розміром до 3 Мб",unknown:"Помилка! Можливо, у вас проблеми з підключенням до інтернету? Спробуйте, будь-ласка, пізнише.",firstBoundaryHigher:"Період повинен починатися з більш ранньої дати!",genericFields:"Будь ласка заповніть усі обов’язкові поля",tel:"Будь ласка, вкажіть коректний номер",email:"Будь ласка, вкажіть правильний e-mail",exists:"Будь ласка заповніть це поле",name:"Будь ласка вкажіть ім'я",rss:{email:"Будь ласка, вкажіть правильний e-mail",subbed:"Ви вже підписані на новини від kmbs"}},menu:{mba:{president:"Presidents' MBA",executive:"Executive MBA",leadership:"MBA in Leadership",banking:"Master of Banking and Finance",agro:"Agri MBA",all:"Всі програми"},corp:{title:"Корпоративні програми",text:"Навчальні програми, спроектовані під потреби компанії-клієнта"},top:["НАУКМА","MY.KMBS","INNOVATIONS JOURNAL"],bottom:["MBA","Програми управлінського розвитку","Корпоративні програми","Події","Про kmbs","Контакти"],about:"Про нас",coaches:"Викладачі",team:"Команда",alumni:"Alumni",events:"Події",news:"Новини",lastNews:"Останні новини",details:"деталі"},slider:{more:"Дізнатись більше",video:"Дивитись відео"},nae:{toNews:"до новин",programStart:"старт програми",mbaStart:"MBA-старт",toPrograms:"до програм"},pks:{programsKmbs:"Програми KMBS",programs:"програма",programs_plural_0:"програма",programs_plural_1:"програми",programs_plural_2:"програм",pur:"ПРОГРАМИ УПРАВЛІНСЬКОГО РОЗВИТКУ"},evs:{closest:"Найближчі події",toCalendar:"До календаря подій",bottomLabel:"Події для тих, хто бажає щодня відкривати для себе щось нове, генерувати ідеї, знайомитись з колегами та обмінюватись досвідом. Ви можете обрати будь-яку кількість подій, склавши тим самим власний план розвитку.",full:"Вибачте, немає вільних місць",participate:"Взяти участь",plan:"Запланувати",types:"Типи подій",all:"Всі",iParticipate:"Беру участь",iPlan:"Планую відвідати",city:"Місто",type:"Тип події"},ev:{back:"До списку подій",speaker:"Cпікер",price:"Вартість",left:"Залишилось",places:"місц",cEnd0:"е",cEnd1:"я",cEnd2:"ь",prevEvent:"Попередня подія",nextEvent:"Наступна подія",free:"Безкоштовно",address:"Місце проведення",map:"Показати на карті"},news:{title:"Відео",titleAlumni:"Новини Alumni",toNews:"До новин",all:"Всі",history:"Історії змін",vacancies:"Вакансії"},interviews:{title:"Інтерв’ю з випускниками"},rss:{title:"Дізнавайтесь про новини та події kmbs",holder:"Вкажіть email",label:"Підписатись",subscribeFor:"Підписатись на:",themes:["kmbs idea days","Ідеї, новини та статті","Анонси програм"],ready:"Дякуємо.",subscribed:"Тепер ви підписані на розсилку KMBS"},footer:{mba:"MBA",programs:"Програми управлінського розвитку",kmbs:"Про kmbs",contacts:"Контакти",innovations:"INNOVATIONS",phone:"(044) 490 6635"},mbs:{title:"MBA",subTitle:"Магістерські програми для <br /> досвідчених управлінців",details:"Деталі"},mba:{start:"Старт програми",duration:"Тривалість програми",specifying:"Уточнюється",cost:"Вартість програми",callback:"Зателефонуйте мені",meeting:"Призначити зустріч з керівником програми",toForm:"Заповнити аплікаційну форму",news:"Новини та події останнього модулю",formCb:"Зателефонуйте мені",formMeeting:"Призначити зустріч з <br /> керівником програми",formHint:"* — поля, обов’язкові до заповнення",formSubmit:"Відправити",inputName:"Ім’я і прізвище",inputTel:"Телефон",inputTime:"Зручний час для дзвінка",formSubmitedTitle:"ДЯКУЄМО",formSubmitedDesc:"Наш менеджер сконтактує з вами<br />у зазначений час",vistaTitle:"Програма відкриває можливості:",structure:"Структура програми",details:"Деталі",someCourses:"Деякі курси",formats:"Формати навчання",formatsPlay:"Дивитись відео",contacts:"Контактна особа",contacts_plural:"Контактні особи",contactsTel:"тел.",contactsEmail:"email",share:"Поділитись",events:"події для управлінців",evMaster:"Майстер-клас",evManagment:"Менеджмент",evDetails:"До детального опису",UAH:"грн",VAT:"ПДВ враховано",entrance:"Що потрібно для вступу",requirements:"Вимоги до кандидатів",reqBtn:"Подати заявку на участь"},pur:{topperTl:"Програми<br />управлінського розвитку",topperBl:"Коротко- та середньострокові програми<br />для власників, топ-керівників та команди",leftTl:"Підібрати програму",rightTl:"Завантажити календар програм",clearFltr:"Очистити",allPrograms:"Всі програми",areas:"Напрямки",dates:"Дати",audience:"Аудиторія",region:"Регіон",programStart:"Старт програми",entryRequirements:"Для вступу потрібно",partners:"Партнери",downloadPDF:"Завантажити PDF",programAudience:"Аудиторія програми",coachesAndExperts:"Викладачі та експерти",author:"Автор і викладач програми",expert:"Запрошений експерт",talkToManager:"Поспілкуватися з менеджером",regMasterClass:"Зареєструватись на майстер-клас",moduleComposition:"Склад модулю",module:"Модуль",graduatesSay:"Що говорять випускники",events:"Вам також може бути цікаво",articles:"Статті",details:"Детальніше"},src:{tl:"Результати пошуку",onSearch:"За запитом",nothingFound:"нічого не знайдено",found:"знайдено",material:"матеріал",alEnd0:"",alEnd1:"и",alEnd2:"ів",changeRequest:"Спробуйте змiнити запит",educationalEvents:"ОСВІТНІ ПОДІЇ",closestProgramStart:"Старт найближчої програми"},dev:{tl:"Сторінка в розробці",bl:"БУДЬ ЛАСКА, ПЕРЕЙДIТЬ НА ГОЛОВНУ",btn:"На головну"},cos:{allCoaches:"Всі викладачі",mbaCoaches:"Викладачі MBA",purCoaches:"Викладачі програм управлінського розвитку",invCoaches:"Запрошені викладачі",teaches:"Викладає",showMore:"Показати більше"},tln:{back:"Назад",title:"Наша історія"},form:{back:"До програми",title:"Аплікаційна форма",fieldsRequired:"* — поля, обов’язкові до заповнення",loadPhoto:"Завантажити фото",next:"Далі",removeImage:"Видалити зображення",removeFile:"Видалити файл",submit:"Надіслати аплікаційну форму",iAgree:"Я погоджуюсь з правилами",agreement:"угоди користувача",yourVariant:"Ваш варіант","finish-title":"дякуємо","finish-msg":"Менеджер програми сконтактує з вами найближчим часом",kmbs:"kmbs залишає за собою право визначати та рекомендувати МВА-програму, що найкраще відповідає профілю апліканта"},contacts:{title:"Контакти",tel:"тел.",email:"email",fmTitle:"поставити питання",fmHint:"* — поля, обов’язкові до заповнення",fmName:"Ім’я і прізвище",fmEmail:"Email",fmText:"Текст повідомлення",fmSubmit:"Відправити питання",cAddress:"Адреса",cTel:"телефон",cEmail:"електронна адреса",address:"вул. Волоська 8/5 <br /> [Подiл, район Контрактової площi], <br /> 4 корпус Києво-Могилянської академії, <br /> 4 поверх"},corProg:{toPrograms:"До списку програм",client:"Наш клієнт",format:"Формати корпоративних програм",formatSub:"Адаптуються під задачі клієнта",contactsDesc:"Щоб обговорити можливості для розвитку вашої компанії та спроектувати корпоративну програму, призначте зустріч з представниками команди kmbs.",contactsTel:"тел.",contactsEmail:"email",formLbl:"Або заповніть аплікаційну <br /> форму, і з вами сконтактують",formBtn:"Заповнити аплікаційну форму",projects:"Реалізовані проекти",coach:"Викладач",coaches:"Викладачі"},about:{infoTitle:"kmbs – це",infoWatch:"дивитись історію",programsTitle:"Портфель програм",pur:"ПРОГРАМИ УПРАВЛІНСЬКОГО РОЗВИТКУ",corp:"КОРПОРАТИВНі програми",approachTitle:"наш Підхід до навчання",alumni:"Що говорять випускники",share:"Поділитись"},newsItem:{toList:"До списку новин",toAlumniList:"До списку новин Alumni",of:"з",share:"Поділитись",prevNews:"Попередня новина",nextNews:"Наступна новина",newsTitle:"Інші новини"},alumni:{projects:"Проекти спільноти Alumni",interview:"Історії змін",toHistory:"До історій змін",events:"Найближчі події Alumni"}},TAPi18n._loadLangFileObject("ua",translations)}();

!function(){TAPi18n._enable({helper_name:"_",supported_languages:["ua","en"],i18n_files_route:"/common/i18n",cdn_path:null}),TAPi18n.languages_names.ua=["Ukrainian","Українська"],TAPi18n.languages_names.ua=["Ukrainian","Українська"],TAPi18n.languages_names.en=["English","English"]}();

!function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.main.onCreated(function(){return this.globalSub=TAPi18n.subscribe("global2"),this.eventNames=[null,"news_calendar_main_page","program_kmbs","upcoming_events","news_main_page","interview_graduates","subscribe_field"],this.containers={},this.containerHeights={},this.containerScrollTops={},this.containerScrollEvents={},this.autorun(function(){var e;return e=Global.findOne(),e?__addSeoMetaTags(e):void 0})}),Template.main.onRendered(function(){var e,n,t,i,r,o,a,s;for(o=$("#topper"),n=["ms-wrap","nae","pks","me","mn-wrap","mi-wrap","rss-wrap"],i=n.length;i--;)e=n[i],this.containers[e]=$("."+e);for(a=o.height(),i=0;i<n.length;)e=n[i],r=n[i-1],t=null!=(s=this.containers[e])?s.outerHeight(!0):void 0,this.containerHeights[e]=t,this.containerScrollTops[e]=r?this.containerScrollTops[r]+this.containerHeights[r]+(1===i?a:0):0,this.containerScrollEvents[e]=null,i++;return $(window).on("scroll.main-wrap",function(e){return function(n){return _.bind(__windowScrollEvents,e,n)()}}(this))}),Template.main.onDestroyed(function(){return $("window").off("scroll.main-wrap")}),Template.main.helpers({getGlobalSub:function(){return Template.instance().globalSub}})}();